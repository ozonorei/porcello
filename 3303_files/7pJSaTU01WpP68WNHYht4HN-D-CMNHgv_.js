if (self.CavalryLogger) { CavalryLogger.start_js(["E5LTl"]); }

__d("TCompactProtocol",["StringToUtf8","ThriftTypes","Utf8ToString"],(function(a,b,c,d,e,f){var g=Object.freeze({CT_STOP:0,CT_BOOLEAN_TRUE:1,CT_BOOLEAN_FALSE:2,CT_BYTE:3,CT_I16:4,CT_I32:5,CT_I64:6,CT_DOUBLE:7,CT_BINARY:8,CT_LIST:9,CT_SET:10,CT_MAP:11,CT_STRUCT:12,CT_FLOAT:13}),h=Object.freeze({NONE:-1,CT_BOOLEAN_TRUE:g.CT_BOOLEAN_TRUE,CT_BOOLEAN_FALSE:g.CT_BOOLEAN_FALSE}),i=[g.CT_STOP,0,g.CT_BOOLEAN_TRUE,g.CT_BYTE,g.CT_DOUBLE,0,g.CT_I16,0,g.CT_I32,0,g.CT_I64,g.CT_BINARY,g.CT_STRUCT,g.CT_MAP,g.CT_SET,g.CT_LIST,0,0,0,g.CT_FLOAT],j=Math.pow(2,7)-1,k=-1*Math.pow(2,7),l=Math.pow(2,15)-1,m=-1*Math.pow(2,15),n=Math.pow(2,31)-1,o=-1*Math.pow(2,31),p=Math.pow(2,32)-1,q=BigInt("9223372036854775807"),r=BigInt("-9223372036854775808"),s=BigInt("18446744073709551615"),t=BigInt(63),u=BigInt(1),v=BigInt(7),w=BigInt("0x7f"),x=BigInt("0x80"),y=Math.pow(2,4);a=function(){function a(a){this.$4=null,this.$5=null,this.$1=a,this.$2=[],this.$3=0,this.$6=new DataView(new ArrayBuffer(1))}var c=a.prototype;c.readStructBegin=function(){this.$2.push(this.$3),this.$3=0};c.readStructEnd=function(){this.$3=this.$2.pop()};c.writeStructBegin=function(a){this.$2.push(this.$3);this.$3=0;return 0};c.writeStructEnd=function(){this.$3=this.$2.pop();return 0};c.writeFieldBegin=function(a){if(a.ftype===b("ThriftTypes").BOOL){this.$4={fid:a.fid,fname:a.fname,ftype:a.ftype};return 0}else return this.$7(a,h.NONE)};c.writeListBegin=function(a){return this.$8(a)};c.writeSetBegin=function(a){return this.$8(a)};c.writeMapBegin=function(a){var b=0;if(a.size===0)b+=this.$1.writeByte(0);else{b+=this.writeVarint32(a.size);if(a.ktype!=null&&a.vtype!=null)b+=this.$1.writeByte(this.$9(a.ktype)<<4|this.$9(a.vtype));else throw new Error("received invalid map info: "+JSON.stringify(a))}return b};c.$7=function(a,b){var c=0;b=b===h.NONE?this.$9(a.ftype):b;a.fid>this.$3&&a.fid-this.$3<=y-1?c+=this.$1.writeByte(a.fid-this.$3<<4|b):(c+=this.$1.writeByte(b),c+=this.writeI16(a.fid));this.$3=a.fid;return c};c.$8=function(a){var b=0,c=this.$9(a.etype);a.size<=y-2?b+=this.$1.writeByte(a.size<<4|c):(b+=this.$1.writeByte(240|c),b+=this.writeVarint32(a.size));return b};c.readFieldBegin=function(){var a=this.$1.readByte(),c=a&15;if(c===b("ThriftTypes").STOP)return{ftype:b("ThriftTypes").STOP,fid:0};a=(a&240)>>>4;var d;a===0?d=this.readI16():d=this.$3+a;a=this.$10(c);(c===g.CT_BOOLEAN_TRUE||c===g.CT_BOOLEAN_FALSE)&&(this.$5=c===g.CT_BOOLEAN_TRUE);this.$3=d;return{ftype:a,fid:d}};c.readListBegin=function(){return this.$11()};c.readSetBegin=function(){return this.$11()};c.readMapBegin=function(){var a=this.readVarint32();if(a>0){var b=this.$1.readByte(),c=this.$12(b>>4,"readMapBegin:key");b=this.$12(b&15,"readMapBegin:value");return{ktype:this.$10(c),vtype:this.$10(b),size:a}}return{size:a}};c.$12=function(a,b){if(a<0||a>13)throw new Error(b+" read invalid compact type: "+a);return a};c.$11=function(){var a=this.$1.readByte(),b=this.$12(a&15,"_readListOrSetBegin");b=this.$10(b);a=a>>4&15;a===15&&(a=this.readVarint32());return{etype:b,size:a}};c.readFieldEnd=function(){};c.readByte=function(){this.$6.setUint8(0,this.$1.readByte());return this.$6.getInt8(0)};c.writeByte=function(a){if(a<k||a>j)throw new Error("byte to write is out of range: "+a);this.$6.setInt8(0,a);return this.$1.writeByte(this.$6.getUint8(0))};c.readFloat=function(){return this.$1.readFloatBE()};c.writeFloat=function(a){return this.$1.writeFloatBE(a)};c.readDouble=function(){return this.$1.readDoubleBE()};c.writeDouble=function(a){return this.$1.writeDoubleBE(a)};c.writeString=function(a){return this.writeBinary(b("StringToUtf8").StringToUtf8(a))};c.skip=function(a){switch(a){case b("ThriftTypes").STOP:return;case b("ThriftTypes").BOOL:this.readBool();break;case b("ThriftTypes").BYTE:this.readByte();break;case b("ThriftTypes").DOUBLE:this.readDouble();break;case b("ThriftTypes").I16:this.readI16();break;case b("ThriftTypes").I32:this.readI32();break;case b("ThriftTypes").I64:this.readI64();break;case b("ThriftTypes").STRING:this.readString();break;case b("ThriftTypes").STRUCT:this.readStructBegin();var c;while(!0){c=this.readFieldBegin();if(c.ftype===b("ThriftTypes").STOP)break;this.skip(c.ftype)}this.readStructEnd();break;case b("ThriftTypes").MAP:c=this.readMapBegin();if(c.size>0&&c.ktype!=null&&c.vtype!=null){var d=c.ktype,e=c.vtype;for(var f=0;f<c.size;f++)this.skip(d),this.skip(e)}break;case b("ThriftTypes").SET:case b("ThriftTypes").LIST:f=this.$11();for(var d=0;d<f.size;d++)this.skip(f.etype);break;case b("ThriftTypes").FLOAT:this.readFloat();break;default:throw new Error("encoutered unknow thrift type: "+a+" in skip")}};c.toByteArray=function(){return this.$1.toByteArray()};c.writeFieldStop=function(){return this.$1.writeByte(b("ThriftTypes").STOP)};c.writeI16=function(a){if(a<m||a>l)throw new Error("trying to write i16 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};c.readI16=function(){var a=this.zigzagToI32(this.readVarint32());if(a<m||a>l)throw new Error("read invalid i16: "+a);return a};c.writeI32=function(a){if(a<o||a>n)throw new Error("i32 out of range: "+a);return this.writeVarint32(this.i32ToZigzag(a))};c.readI32=function(){return this.zigzagToI32(this.readVarint32())};c.writeI64=function(a){return this.writeVarint64(this.i64ToZigzag(a))};c.readI64=function(){return this.zigzagToI64(this.readVarint64())};c.readBool=function(){var a;this.$5!=null?(a=this.$5,this.$5=null):a=this.$1.readByte()===g.CT_BOOLEAN_TRUE;return a};c.writeBool=function(a){var b=0;this.$4!=null?(b+=this.$7(this.$4,a?h.CT_BOOLEAN_TRUE:h.CT_BOOLEAN_FALSE),this.$4=null):b+=this.$1.writeByte(a?g.CT_BOOLEAN_TRUE:g.CT_BOOLEAN_FALSE);return b};c.readBinary=function(){var a=this.readVarint32();return a===0?new Uint8Array(0):this.$1.readBytes(a)};c.writeBinary=function(a){var b=0;b+=this.writeVarint32(a.length);b+=this.$1.write(a);return b};c.i32ToZigzag=function(a){if(a<o||a>n)throw new Error("number: "+a+" is out of range of i32");return(a<<1^(a<0?4294967295:0))>>>0};c.zigzagToI32=function(a){if(a<0||a>p)throw new Error("number: "+a+" is out of range of uint32");return a>>>1^-1*(a&1)};c.i64ToZigzag=function(a){if(a>q||a<r)throw new Error("i64 out of range: "+a.toString());return a>>t^a<<u};c.zigzagToI64=function(a){if(a<0||a>s)throw new Error("invalid uint64: "+a.toString());return(a&u)===u?~(a>>u):a>>u};c.writeVarint32=function(a){if(a<0||a>p)throw new Error("writeVarint32 received out of range uint32: "+a);a=a;var b=0;while(!0)if(a>>>7===0){this.$1.writeByte(a);b++;break}else this.$1.writeByte(a&127|128),b++,a>>>=7;return b};c.readVarint32=function(){var a=0,b=0,c;while(!0){c=this.$1.readByte();a=(a|(c&127)<<b)>>>0;b+=7;if((c&128)==0){if(b===35&&(c&240)!=0)throw new Error("result exceeded 32 bit limit");break}if(b>28)throw new Error("result exceeded 32 bit limit")}return a};c.writeVarint64=function(a){if(a<0||a>s)throw new Error("invalid uint64: "+a.toString());a=a;var b=0;while(!0)if(a>>v==0){this.$1.writeByte(Number(a));b++;break}else this.$1.writeByte(Number(a&w|x)),b++,a>>=v;return b};c.readVarint64=function(){var a=BigInt(0),b=BigInt(0),c;while(!0){c=BigInt(this.$1.readByte());a|=(c&w)<<b;b+=v;if((c&x)==0){if(b==70&&c!==u)throw new Error("result exceeded 64 bit limit");break}if(b>63)throw new Error("result exceeded 64 bit limit")}return a};c.readString=function(){return b("Utf8ToString").Utf8ToString(this.readBinary())};c.getLastFieldId=function(){return this.$3};c.getLastField=function(){return this.$2};c.getBooleanFieldInfo=function(){return this.$4};c.getBooleanValue=function(){return this.$5};c.$9=function(a){return i[a]};c.$10=function(a){switch(a){case g.CT_STOP:return b("ThriftTypes").STOP;case g.CT_BOOLEAN_FALSE:case g.CT_BOOLEAN_TRUE:return b("ThriftTypes").BOOL;case g.CT_BYTE:return b("ThriftTypes").BYTE;case g.CT_I16:return b("ThriftTypes").I16;case g.CT_I32:return b("ThriftTypes").I32;case g.CT_I64:return b("ThriftTypes").I64;case g.CT_DOUBLE:return b("ThriftTypes").DOUBLE;case g.CT_FLOAT:return b("ThriftTypes").FLOAT;case g.CT_BINARY:return b("ThriftTypes").STRING;case g.CT_LIST:return b("ThriftTypes").LIST;case g.CT_SET:return b("ThriftTypes").SET;case g.CT_MAP:return b("ThriftTypes").MAP;case g.CT_STRUCT:return b("ThriftTypes").STRUCT;default:throw new Error("don't know what type")}};return a}();e.exports=a}),null);
__d("CompactSerializer",["TCompactProtocol","TNoOpWriteBuffer","TReadBuffer","TWriteBuffer"],(function(a,b,c,d,e,f){f.deserializeNoThrow=a;f.deserialize=g;f.serializeNoThrow=c;f.serialize=h;function a(a,b,c){try{return g(a,b)}catch(a){c!=null&&c(a)}return null}function g(a,c){a=new(b("TReadBuffer"))(a);a=new(b("TCompactProtocol"))(a);return c(a)}function c(a,b,c,d){c===void 0&&(c=!1);try{return h(a,b,c)}catch(a){d!=null&&d(a)}return null}function h(a,c,d){d===void 0&&(d=!1);if(d){d=new(b("TNoOpWriteBuffer"))();var e=new(b("TCompactProtocol"))(d);c(a,e);e=new(b("TWriteBuffer"))(d.currentSize())}else e=new(b("TWriteBuffer"))();d=new(b("TCompactProtocol"))(e);c(a,d);return d.toByteArray()}}),null);
__d("DgwClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1755537");c=b("FalcoLoggerInternal").create("dgw_client",a);e.exports=c}),null);
__d("DGWLoggingContext",["DgwClientFalcoEvent","FBLogger","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g="dgw_client";f.DGW_MODULE=g;a=b("$InternalEnum")({STREAM_COMPONENT:"WebStream",ACK_MANAGER_COMPONENT:"WebStreamAckManager",CODEC_COMPONENT:"WebCodec"});f.DGWLoggingComponent=a;c=function(){function a(a,b,c,d){this.$4=a,this.$1=b,this.$3=c,this.$2=d}var c=a.prototype;c.logEvent=function(a,c,d){this.$5(a,c,null,d);a="dgwComponent: "+a+" | Event: "+c;d!=null&&(a+=" | Extra Info: "+d);b("FBLogger")(g).debug(a)};c.$5=function(a,c,d,e){var f=this,g=this.$1;g!=null&&b("DgwClientFalcoEvent").log(function(){return{event:c,logging_id:g,dgw_version:f.$4,error:d,uuid:f.$2,dgw_component:a,extra_info:e,destination_tier:f.$3}})};c.logError=function(a,c,d,e){this.$5(a,c,d,e),b("FBLogger")(g).mustfix("Error received. Event: "+c+" | Error: "+d)};c.logWarn=function(a,c,d,e){this.$5(a,c,d,e),b("FBLogger")(g).warn("Warning received. Event: "+c+" | Warning: "+d)};return a}();f.DGWLoggingContext=c}),null);
__d("DGWAckManager",["regeneratorRuntime","Promise","DGWLoggingContext"],(function(a,b,c,d,e,f){"use strict";var g=function(){var b=a.prototype;b.stopTracking=function(a){clearTimeout(this.$1),this.$3(a)};function a(a,b,c){var d=this;this.$3=c;this.sendId=a;this.$2=b;this.handleAckReceived=function(){d.stopTracking(!0)};this.$1=setTimeout(function(){d.stopTracking(!1)},b)}return a}();a=function(){function a(a){this.$1=new Map(),this.$2=a}var c=a.prototype;c.waitForAck=function(a,c){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:d=this.$1;f.prev=1;f.next=4;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,e){d.set(a,new g(a,c,b))}));case 4:e=f.sent;e===!0?this.$2.logEvent(b("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Received ACK","sendId: "+a):this.$2.logWarn(b("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"ACK timeout","Request "+a+" timed out after "+c+"ms");d["delete"](a);return f.abrupt("return",e);case 10:f.prev=10;f.t0=f["catch"](1);d["delete"](a);throw f.t0;case 14:case"end":return f.stop()}},null,this,[[1,10]])};c.handleAckReceived=function(a){var c=this.$1.get(a);if(c===void 0){this.$2.logWarn(b("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"untracked ACK","Received ACK for ackId "+a+" which was not being tracked");return}c.handleAckReceived()};c.clearPendingAcks=function(){var a=this;this.$1.forEach(function(c,d,e){a.$2.logEvent(b("DGWLoggingContext").DGWLoggingComponent.ACK_MANAGER_COMPONENT,"Clearing pending ACK with ackId "+c.sendId),c.stopTracking(!1),e["delete"](d)})};return a}();f.DGWAckManager=a}),null);
__d("DGWExponentialBackoff",["regeneratorRuntime","Promise"],(function(a,b,c,d,e,f){"use strict";f.callWithExponentialBackoff=a;var g={maxRetries:5,baseRetryInterval:1e3,backoffFactor:Math.sqrt(2)},h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.errors=c;return a}return a}(babelHelpers.wrapNativeSuper(Error));function a(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:c===void 0&&(c=g);d.prev=1;d.next=4;return b("regeneratorRuntime").awrap(i(a,c));case 4:return d.abrupt("return",d.sent);case 7:d.prev=7;d.t0=d["catch"](1);throw d.t0.errors[d.t0.errors.length-1];case 10:case"end":return d.stop()}},null,this,[[1,7]])}function i(a,c){var d,e,f,g,i;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:d=0,e=[],f=c.baseRetryInterval,g=c.backoffFactor;case 4:if(!(d<=c.maxRetries)){k.next=20;break}k.prev=5;k.next=8;return b("regeneratorRuntime").awrap(a());case 8:i=k.sent;return k.abrupt("return",i);case 12:k.prev=12,k.t0=k["catch"](5),e.push(k.t0);case 15:k.next=17;return b("regeneratorRuntime").awrap(j(f*Math.pow(g,d)));case 17:++d;k.next=4;break;case 20:throw new h("Max call count exceeded",e);case 21:case"end":return k.stop()}},null,this,[[5,12]])}function j(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b){return setTimeout(b,a)}));case 2:case"end":return c.stop()}},null,this)}}),null);
__d("DGWStreamEvents",["DGWLoggingContext","FBLogger"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$3=new Map(),this.$4=new Map(),this.$5=a}var c=a.prototype;c.streamEstablished=function(){this.$5.logEvent(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,"open"),this.$2=Date.now()};c.streamEstablishmentPending=function(){this.$1=Date.now(),this.$5.logEvent(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,"streamPending")};c.dataSent=function(a,c,d){var e=d?"sendWithAckRequested":"sendWithoutAckRequested";this.$5.logEvent(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,e,"sendId:"+a+", payloadSize:"+c);this.$3.set(a,{ackRequested:d,payloadSize:c,sendTimestamp:Date.now()})};c.ackReceived=function(a){b("FBLogger")(b("DGWLoggingContext").DGW_MODULE).debug("DGWStreamEvents ackReceived - sendId:"+a);a=this.$3.get(a);a!=null&&(a.ackReceivedTimestamp=Date.now())};c.ackSent=function(a){b("FBLogger")(b("DGWLoggingContext").DGW_MODULE).debug("DGWStreamEvents ackSent - ackId:"+a),this.$5.logEvent(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,"ACK sent","ackId: "+a)};c.dataReceived=function(a,c,d){b("FBLogger")(b("DGWLoggingContext").DGW_MODULE).debug("dataReceived - sendId:"+a+", payloadSize:"+c+", ackRequested:"+d.toString()),this.$4.set(a,{ackRequested:d,payloadSize:c,receiveTimestamp:Date.now()})};c.streamClosed=function(a,c){this.$6=Date.now();var d=this.$7();a?this.$5.logEvent(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,"Stream closed gracefully",d):(b("FBLogger")(b("DGWLoggingContext").DGW_MODULE).debug("streamClosed with errors. DGWStreamEvents: ",d),this.$5.logError(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,"Stream closed abnormally",c,d))};c.connectionEstablishmentFailure=function(a){this.$5.logEvent(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,"WebSocket connection establishment failure","WebSocket close code: "+a)};c.streamEstablishmentFailure=function(a,c){this.$5.logError(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,"Failed to establish DGW Stream","Last seen error: "+a.toString(),c)};c.error=function(a,c){var d={};d.msg=c;d.state=this.$7();this.$5.logError(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,a,JSON.stringify(d))};c.$7=function(){var a={};a.currentNetworkCondition=window.navigator&&window.navigator.onLine==!0;a.establishRequestTimestamp=this.$1;a.establishedTimestamp=this.$2;a.streamClosedTimestamp=this.$6;a.sendHistory=JSON.stringify(Array.from(this.$3.entries()));a.receiveHistory=JSON.stringify(Array.from(this.$4.entries()));return JSON.stringify(a)};return a}();f.DGWStreamEvents=a}),null);
__d("DGWCppBridge",["Promise"],(function(c,d,e,g,i,k){var l=function(){var e=typeof document!=="undefined"&&document.currentScript?document.currentScript.src:void 0;typeof __filename!=="undefined"&&(e=e||__filename);return function(g){g=g||{};var i;i||(i=typeof g!=="undefined"?g:{});var k,m;i.ready=new(d("Promise"))(function(c,d){k=c,m=d});var n={},o;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o]);var q=!1,r=!1,s=!1,t;q="object"===typeof window;r="function"===typeof importScripts;s="object"===typeof process&&"object"===typeof process.versions&&"string"===typeof process.versions.node;t=!q&&!s&&!r;var u="",v,w,x,y;s?(u=r?d.call(null,"path").dirname(u)+"/":__dirname+"/",v=function(c,e){var g=Y(c);if(g)return e?g:g.toString();x||(x=d.call(null,"fs"));y||(y=d.call(null,"path"));c=y.normalize(c);return x.readFileSync(c,e?null:"utf8")},w=function(c){c=v(c,!0);c.buffer||(c=new Uint8Array(c));ma(c.buffer);return c},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(c){throw c}),process.on("unhandledRejection",L),i.inspect=function(){return"[Emscripten Module object]"}):t?("undefined"!=typeof read&&(v=function(c){var d=Y(c);return d?W(d):read(c)}),w=function(c){var d;if(d=Y(c))return d;if("function"===typeof readbuffer)return new Uint8Array(readbuffer(c));d=read(c,"binary");ma("object"===typeof d);return d},"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),emptyFunction=print,emptyFunction=emptyFunction="undefined"!==typeof printErr?printErr:print)):(q||r)&&(r?u=self.location.href:document.currentScript&&(u=document.currentScript.src),e&&(u=e),0!==u.indexOf("blob:")?u=u.substr(0,u.lastIndexOf("/")+1):u="",v=function(c){try{var d=new XMLHttpRequest();d.open("GET",c,!1);d.send(null);return d.responseText}catch(d){if(c=Y(c))return W(c);throw d}},r&&(w=function(c){try{var d=new XMLHttpRequest();d.open("GET",c,!1);d.responseType="arraybuffer";d.send(null);return new Uint8Array(d.response)}catch(d){if(c=Y(c))return c;throw d}}));i.print||emptyFunction.bind(console);var z=i.printErr||emptyFunction.bind(console);for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o]);n=null;var A;i.wasmBinary&&(A=i.wasmBinary);i.noExitRuntime&&i.noExitRuntime;function B(){this.buffer=new ArrayBuffer(K/65536*65536),this.grow=function(c){return Rb(c)}}function ia(){this.exports=function(i,k,l){function q(i,aa,Ub){aa.a;var ba=l,ca=new i.Int8Array(Ub),da=new i.Int16Array(Ub),k=new i.Int32Array(Ub),ea=new i.Uint8Array(Ub);new i.Uint16Array(Ub);var fa=new i.Uint32Array(Ub);new i.Float32Array(Ub);var Vb;new i.Float64Array(Ub);var ga=i.Math.imul,Wb;i.Math.fround;var Xb;i.Math.abs;var Yb;i.Math.clz32;i.Math.min;var m;i.Math.max;var Zb;i.Math.floor;var $b;i.Math.ceil;var ac;i.Math.sqrt;var q=aa.abort,bc;i.NaN;var ma;i.Infinity;var T=aa.c,Z=aa.d,Y=aa.e,L=aa.f,A=aa.g,D=aa.h,E=aa.i,G=aa.j,H=aa.k,I=aa.l,F=aa.m,J=aa.n,cc=aa.o,Fa=aa.p,M=aa.q,N=aa.r,Ra=aa.s,Sa=aa.t,Xa=aa.u,O=aa.v,P=aa.w,Q=aa.x,R=aa.y,V=5250992;function z(v){v=v|0;var c=0,i=0,l=0,n=0,w=0,x=0,o=0,r=0,s=0,t=0,u=0,y=0;y=V-16|0;V=y;a:{b:{c:{d:{e:{f:{g:{h:{i:{j:{k:{l:{if(v>>>0<=244){n=k[1899];w=v>>>0<11?16:v+11&-8;v=w>>>3|0;c=n>>>v|0;if(c&3){i=v+((c^-1)&1)|0;w=i<<3;c=k[w+7644>>2];v=c+8|0;l=k[c+8>>2];w=w+7636|0;m:{if((l|0)==(w|0)){k[1899]=Ge(i)&n;break m}k[l+12>>2]=w;k[w+8>>2]=l}i=i<<3;k[c+4>>2]=i|3;c=c+i|0;k[c+4>>2]=k[c+4>>2]|1;break a}r=k[1901];if(w>>>0<=r>>>0)break l;if(c){i=2<<v;v=(0-i|i)&c<<v;v=(0-v&v)+-1|0;c=v>>>12&16;i=c;v=v>>>c|0;c=v>>>5&8;i=i|c;v=v>>>c|0;c=v>>>2&4;i=i|c;v=v>>>c|0;c=v>>>1&2;i=i|c;v=v>>>c|0;c=v>>>1&1;i=(i|c)+(v>>>c|0)|0;l=i<<3;c=k[l+7644>>2];v=k[c+8>>2];l=l+7636|0;n:{if((v|0)==(l|0)){n=Ge(i)&n;k[1899]=n;break n}k[v+12>>2]=l;k[l+8>>2]=v}v=c+8|0;k[c+4>>2]=w|3;x=c+w|0;i=i<<3;w=i-w|0;k[x+4>>2]=w|1;k[c+i>>2]=w;if(r){i=r>>>3|0;c=(i<<3)+7636|0;l=k[1904];i=1<<i;o:{if(!(i&n)){k[1899]=i|n;i=c;break o}i=k[c+8>>2]}k[c+8>>2]=l;k[i+12>>2]=l;k[l+12>>2]=c;k[l+8>>2]=i}k[1904]=x;k[1901]=w;break a}t=k[1900];if(!t)break l;v=(t&0-t)+-1|0;c=v>>>12&16;i=c;v=v>>>c|0;c=v>>>5&8;i=i|c;v=v>>>c|0;c=v>>>2&4;i=i|c;v=v>>>c|0;c=v>>>1&2;i=i|c;v=v>>>c|0;c=v>>>1&1;c=k[((i|c)+(v>>>c|0)<<2)+7900>>2];x=(k[c+4>>2]&-8)-w|0;i=c;while(1){p:{v=k[i+16>>2];if(!v){v=k[i+20>>2];if(!v)break p}l=(k[v+4>>2]&-8)-w|0;i=l>>>0<x>>>0;x=i?l:x;c=i?v:c;i=v;continue}break}u=c+w|0;if(u>>>0<=c>>>0)break k;s=k[c+24>>2];l=k[c+12>>2];if((l|0)!=(c|0)){v=k[c+8>>2];k[v+12>>2]=l;k[l+8>>2]=v;break b}i=c+20|0;v=k[i>>2];if(!v){v=k[c+16>>2];if(!v)break j;i=c+16|0}while(1){o=i;l=v;i=v+20|0;v=k[i>>2];if(v)continue;i=l+16|0;v=k[l+16>>2];if(v)continue;break}k[o>>2]=0;break b}w=-1;if(v>>>0>4294967231)break l;c=v+11|0;w=c&-8;r=k[1900];if(!r)break l;x=0-w|0;c=c>>>8|0;n=0;q:{if(!c)break q;n=31;if(w>>>0>16777215)break q;i=c+1048320>>>16&8;c=c<<i;v=c+520192>>>16&4;n=c<<v;c=n+245760>>>16&2;v=(n<<c>>>15|0)-(c|(v|i))|0;n=(v<<1|w>>>v+21&1)+28|0}i=k[(n<<2)+7900>>2];r:{s:{t:{if(!i){v=0;break t}v=0;c=w<<((n|0)==31?0:25-(n>>>1|0)|0);while(1){u:{o=(k[i+4>>2]&-8)-w|0;if(o>>>0>=x>>>0)break u;l=i;x=o;if(x)break u;x=0;v=i;break s}o=k[i+20>>2];i=k[((c>>>29&4)+i|0)+16>>2];v=o?(o|0)==(i|0)?v:o:v;c=c<<1;if(i)continue;break}}if(!(v|l)){v=2<<n;v=(0-v|v)&r;if(!v)break l;v=(v&0-v)+-1|0;c=v>>>12&16;i=c;v=v>>>c|0;c=v>>>5&8;i=i|c;v=v>>>c|0;c=v>>>2&4;i=i|c;v=v>>>c|0;c=v>>>1&2;i=i|c;v=v>>>c|0;c=v>>>1&1;v=k[((i|c)+(v>>>c|0)<<2)+7900>>2]}if(!v)break r}while(1){i=(k[v+4>>2]&-8)-w|0;c=i>>>0<x>>>0;x=c?i:x;l=c?v:l;c=k[v+16>>2];c?v=c:v=k[v+20>>2];if(v)continue;break}}if(!l|x>>>0>=k[1901]-w>>>0)break l;n=l+w|0;if(n>>>0<=l>>>0)break k;s=k[l+24>>2];c=k[l+12>>2];if((l|0)!=(c|0)){v=k[l+8>>2];k[v+12>>2]=c;k[c+8>>2]=v;break c}i=l+20|0;v=k[i>>2];if(!v){v=k[l+16>>2];if(!v)break i;i=l+16|0}while(1){o=i;c=v;i=v+20|0;v=k[i>>2];if(v)continue;i=c+16|0;v=k[c+16>>2];if(v)continue;break}k[o>>2]=0;break c}c=k[1901];if(c>>>0>=w>>>0){v=k[1904];i=c-w|0;v:{if(i>>>0>=16){k[1901]=i;l=v+w|0;k[1904]=l;k[l+4>>2]=i|1;k[v+c>>2]=i;k[v+4>>2]=w|3;break v}k[1904]=0;k[1901]=0;k[v+4>>2]=c|3;c=v+c|0;k[c+4>>2]=k[c+4>>2]|1}v=v+8|0;break a}l=k[1902];if(l>>>0>w>>>0){c=l-w|0;k[1902]=c;v=k[1905];i=v+w|0;k[1905]=i;k[i+4>>2]=c|1;k[v+4>>2]=w|3;v=v+8|0;break a}v=0;x=w+47|0;i=x;k[2017]?c=k[2019]:(k[2020]=-1,k[2021]=-1,k[2018]=4096,k[2019]=4096,k[2017]=y+12&-16^1431655768,k[2022]=0,k[2010]=0,c=4096);n=i+c|0;o=0-c|0;i=n&o;if(i>>>0<=w>>>0)break a;c=k[2009];if(c){r=k[2007];s=r+i|0;if(s>>>0<=r>>>0|s>>>0>c>>>0)break a}if(ea[8040]&4)break f;w:{x:{c=k[1905];if(c){v=8044;while(1){r=k[v>>2];if(r+k[v+4>>2]>>>0>c>>>0?r>>>0<=c>>>0:0)break x;v=k[v+8>>2];if(v)continue;break}}c=Nb(0);if((c|0)==-1)break g;n=i;v=k[2018];l=v+-1|0;l&c&&(n=(i-c|0)+(c+l&0-v)|0);if(n>>>0<=w>>>0|n>>>0>2147483646)break g;v=k[2009];if(v){l=k[2007];o=l+n|0;if(o>>>0<=l>>>0|o>>>0>v>>>0)break g}v=Nb(n);if((c|0)!=(v|0))break w;break e}n=o&n-l;if(n>>>0>2147483646)break g;c=Nb(n);if((c|0)==(k[v>>2]+k[v+4>>2]|0))break h;v=c}if(!((v|0)==-1|w+48>>>0<=n>>>0)){c=k[2019];c=c+(x-n|0)&0-c;if(c>>>0>2147483646){c=v;break e}if((Nb(c)|0)!=-1){n=c+n|0;c=v;break e}Nb(0-n|0);break g}c=v;if((v|0)!=-1)break e;break g}q()}l=0;break b}c=0;break c}if((c|0)!=-1)break e}k[2010]=k[2010]|4}if(i>>>0>2147483646)break d;c=Nb(i);v=Nb(0);if(c>>>0>=v>>>0|(c|0)==-1|(v|0)==-1)break d;n=v-c|0;if(n>>>0<=w+40>>>0)break d}v=k[2007]+n|0;k[2007]=v;v>>>0>fa[2008]&&(k[2008]=v);y:{z:{A:{i=k[1905];if(i){v=8044;while(1){l=k[v>>2];x=k[v+4>>2];if((l+x|0)==(c|0))break A;v=k[v+8>>2];if(v)continue;break}break z}v=k[1903];(c>>>0>=v>>>0?v:0)||(k[1903]=c);v=0;k[2012]=n;k[2011]=c;k[1907]=-1;k[1908]=k[2017];k[2014]=0;while(1){i=v<<3;l=i+7636|0;k[i+7644>>2]=l;k[i+7648>>2]=l;v=v+1|0;if((v|0)!=32)continue;break}v=n+-40|0;i=c+8&7?-8-c&7:0;l=v-i|0;k[1902]=l;i=c+i|0;k[1905]=i;k[i+4>>2]=l|1;k[(v+c|0)+4>>2]=40;k[1906]=k[2021];break y}if(ea[v+12|0]&8|c>>>0<=i>>>0|l>>>0>i>>>0)break z;k[v+4>>2]=n+x;v=i+8&7?-8-i&7:0;c=v+i|0;k[1905]=c;l=k[1902]+n|0;v=l-v|0;k[1902]=v;k[c+4>>2]=v|1;k[(i+l|0)+4>>2]=40;k[1906]=k[2021];break y}l=k[1903];c>>>0<l>>>0&&(k[1903]=c,l=0);x=c+n|0;v=8044;B:{C:{D:{E:{F:{G:{while(1){if((x|0)!=k[v>>2]){v=k[v+8>>2];if(v)continue;break G}break}if(!(ea[v+12|0]&8))break F}v=8044;while(1){l=k[v>>2];if(l>>>0<=i>>>0){x=l+k[v+4>>2]|0;if(x>>>0>i>>>0)break E}v=k[v+8>>2];continue}}k[v>>2]=c;k[v+4>>2]=k[v+4>>2]+n;s=(c+8&7?-8-c&7:0)+c|0;k[s+4>>2]=w|3;c=x+(x+8&7?-8-x&7:0)|0;v=(c-s|0)-w|0;o=w+s|0;if((c|0)==(i|0)){k[1905]=o;v=k[1902]+v|0;k[1902]=v;k[o+4>>2]=v|1;break C}if(k[1904]==(c|0)){k[1904]=o;v=k[1901]+v|0;k[1901]=v;k[o+4>>2]=v|1;k[v+o>>2]=v;break C}i=k[c+4>>2];if((i&3)==1){t=i&-8;H:{if(i>>>0<=255){w=i>>>3|0;i=k[c+8>>2];l=k[c+12>>2];if((l|0)==(i|0)){k[1899]=k[1899]&Ge(w);break H}k[i+12>>2]=l;k[l+8>>2]=i;break H}r=k[c+24>>2];n=k[c+12>>2];I:{if((n|0)!=(c|0)){i=k[c+8>>2];k[i+12>>2]=n;k[n+8>>2]=i;break I}J:{x=c+20|0;w=k[x>>2];if(w)break J;x=c+16|0;w=k[x>>2];if(w)break J;n=0;break I}while(1){i=x;n=w;x=n+20|0;w=k[x>>2];if(w)continue;x=n+16|0;w=k[n+16>>2];if(w)continue;break}k[i>>2]=0}if(!r)break H;i=k[c+28>>2];l=(i<<2)+7900|0;K:{if(k[l>>2]==(c|0)){k[l>>2]=n;if(n)break K;k[1900]=k[1900]&Ge(i);break H}k[r+(k[r+16>>2]==(c|0)?16:20)>>2]=n;if(!n)break H}k[n+24>>2]=r;i=k[c+16>>2];i&&(k[n+16>>2]=i,k[i+24>>2]=n);i=k[c+20>>2];if(!i)break H;k[n+20>>2]=i;k[i+24>>2]=n}c=c+t|0;v=v+t|0}k[c+4>>2]=k[c+4>>2]&-2;k[o+4>>2]=v|1;k[v+o>>2]=v;if(v>>>0<=255){c=v>>>3|0;v=(c<<3)+7636|0;i=k[1899];c=1<<c;L:{if(!(i&c)){k[1899]=c|i;c=v;break L}c=k[v+8>>2]}k[v+8>>2]=o;k[c+12>>2]=o;k[o+12>>2]=v;k[o+8>>2]=c;break C}i=o;l=v>>>8|0;c=0;M:{if(!l)break M;c=31;if(v>>>0>16777215)break M;w=l+1048320>>>16&8;l=l<<w;c=l+520192>>>16&4;n=l<<c;l=n+245760>>>16&2;c=(n<<l>>>15|0)-(l|(c|w))|0;c=(c<<1|v>>>c+21&1)+28|0}k[i+28>>2]=c;k[o+16>>2]=0;k[o+20>>2]=0;i=(c<<2)+7900|0;l=k[1900];w=1<<c;N:{if(!(l&w)){k[1900]=l|w;k[i>>2]=o;break N}x=v<<((c|0)==31?0:25-(c>>>1|0)|0);c=k[i>>2];while(1){i=c;if((k[c+4>>2]&-8)==(v|0))break D;c=x>>>29|0;x=x<<1;l=(c&4)+i|0;c=k[l+16>>2];if(c)continue;break}k[l+16>>2]=o}k[o+24>>2]=i;k[o+12>>2]=o;k[o+8>>2]=o;break C}v=n+-40|0;l=c+8&7?-8-c&7:0;o=v-l|0;k[1902]=o;l=c+l|0;k[1905]=l;k[l+4>>2]=o|1;k[(v+c|0)+4>>2]=40;k[1906]=k[2021];v=(x+(x+-39&7?39-x&7:0)|0)+-47|0;l=v>>>0<i+16>>>0?i:v;k[l+4>>2]=27;v=k[2014];k[l+16>>2]=k[2013];k[l+20>>2]=v;v=k[2012];k[l+8>>2]=k[2011];k[l+12>>2]=v;k[2013]=l+8;k[2012]=n;k[2011]=c;k[2014]=0;v=l+24|0;while(1){k[v+4>>2]=7;c=v+8|0;v=v+4|0;if(x>>>0>c>>>0)continue;break}if((i|0)==(l|0))break y;k[l+4>>2]=k[l+4>>2]&-2;n=l-i|0;k[i+4>>2]=n|1;k[l>>2]=n;if(n>>>0<=255){c=n>>>3|0;v=(c<<3)+7636|0;l=k[1899];c=1<<c;O:{if(!(l&c)){k[1899]=c|l;c=v;break O}c=k[v+8>>2]}k[v+8>>2]=i;k[c+12>>2]=i;k[i+12>>2]=v;k[i+8>>2]=c;break y}k[i+16>>2]=0;k[i+20>>2]=0;c=i;l=n>>>8|0;v=0;P:{if(!l)break P;v=31;if(n>>>0>16777215)break P;x=l+1048320>>>16&8;l=l<<x;v=l+520192>>>16&4;o=l<<v;l=o+245760>>>16&2;v=(o<<l>>>15|0)-(l|(v|x))|0;v=(v<<1|n>>>v+21&1)+28|0}k[c+28>>2]=v;c=(v<<2)+7900|0;l=k[1900];x=1<<v;Q:{if(!(l&x)){k[1900]=l|x;k[c>>2]=i;k[i+24>>2]=c;break Q}v=n<<((v|0)==31?0:25-(v>>>1|0)|0);c=k[c>>2];while(1){l=c;if((n|0)==(k[c+4>>2]&-8))break B;c=v>>>29|0;v=v<<1;x=l+(c&4)|0;c=k[x+16>>2];if(c)continue;break}k[x+16>>2]=i;k[i+24>>2]=l}k[i+12>>2]=i;k[i+8>>2]=i;break y}v=k[i+8>>2];k[v+12>>2]=o;k[i+8>>2]=o;k[o+24>>2]=0;k[o+12>>2]=i;k[o+8>>2]=v}v=s+8|0;break a}v=k[l+8>>2];k[v+12>>2]=i;k[l+8>>2]=i;k[i+24>>2]=0;k[i+12>>2]=l;k[i+8>>2]=v}v=k[1902];if(v>>>0<=w>>>0)break d;c=v-w|0;k[1902]=c;v=k[1905];i=v+w|0;k[1905]=i;k[i+4>>2]=c|1;k[v+4>>2]=w|3;v=v+8|0;break a}k[1897]=48;v=0;break a}R:{if(!s)break R;v=k[l+28>>2];i=(v<<2)+7900|0;S:{if(k[i>>2]==(l|0)){k[i>>2]=c;if(c)break S;r=Ge(v)&r;k[1900]=r;break R}k[s+(k[s+16>>2]==(l|0)?16:20)>>2]=c;if(!c)break R}k[c+24>>2]=s;v=k[l+16>>2];v&&(k[c+16>>2]=v,k[v+24>>2]=c);v=k[l+20>>2];if(!v)break R;k[c+20>>2]=v;k[v+24>>2]=c}T:{if(x>>>0<=15){v=w+x|0;k[l+4>>2]=v|3;v=v+l|0;k[v+4>>2]=k[v+4>>2]|1;break T}k[l+4>>2]=w|3;k[n+4>>2]=x|1;k[n+x>>2]=x;if(x>>>0<=255){c=x>>>3|0;v=(c<<3)+7636|0;i=k[1899];c=1<<c;U:{if(!(i&c)){k[1899]=c|i;c=v;break U}c=k[v+8>>2]}k[v+8>>2]=n;k[c+12>>2]=n;k[n+12>>2]=v;k[n+8>>2]=c;break T}c=n;i=x>>>8|0;v=0;V:{if(!i)break V;v=31;if(x>>>0>16777215)break V;w=i+1048320>>>16&8;i=i<<w;v=i+520192>>>16&4;o=i<<v;i=o+245760>>>16&2;v=(o<<i>>>15|0)-(i|(v|w))|0;v=(v<<1|x>>>v+21&1)+28|0}k[c+28>>2]=v;k[n+16>>2]=0;k[n+20>>2]=0;c=(v<<2)+7900|0;W:{i=1<<v;X:{if(!(i&r)){k[1900]=i|r;k[c>>2]=n;break X}v=x<<((v|0)==31?0:25-(v>>>1|0)|0);w=k[c>>2];while(1){c=w;if((k[c+4>>2]&-8)==(x|0))break W;i=v>>>29|0;v=v<<1;i=(i&4)+c|0;w=k[i+16>>2];if(w)continue;break}k[i+16>>2]=n}k[n+24>>2]=c;k[n+12>>2]=n;k[n+8>>2]=n;break T}v=k[c+8>>2];k[v+12>>2]=n;k[c+8>>2]=n;k[n+24>>2]=0;k[n+12>>2]=c;k[n+8>>2]=v}v=l+8|0;break a}Y:{if(!s)break Y;v=k[c+28>>2];i=(v<<2)+7900|0;Z:{if(k[i>>2]==(c|0)){k[i>>2]=l;if(l)break Z;k[1900]=Ge(v)&t;break Y}k[s+(k[s+16>>2]==(c|0)?16:20)>>2]=l;if(!l)break Y}k[l+24>>2]=s;v=k[c+16>>2];v&&(k[l+16>>2]=v,k[v+24>>2]=l);v=k[c+20>>2];if(!v)break Y;k[l+20>>2]=v;k[v+24>>2]=l}_:{if(x>>>0<=15){v=w+x|0;k[c+4>>2]=v|3;v=v+c|0;k[v+4>>2]=k[v+4>>2]|1;break _}k[c+4>>2]=w|3;k[u+4>>2]=x|1;k[x+u>>2]=x;if(r){i=r>>>3|0;v=(i<<3)+7636|0;l=k[1904];i=1<<i;$:{if(!(i&n)){k[1899]=i|n;i=v;break $}i=k[v+8>>2]}k[v+8>>2]=l;k[i+12>>2]=l;k[l+12>>2]=v;k[l+8>>2]=i}k[1904]=u;k[1901]=x}v=c+8|0}V=y+16|0;return v|0}function U(l){l=l|0;var c,d,e=0,g,i=0,m=0,n;a:{if(!l)break a;e=l+-8|0;d=k[l+-4>>2];l=d&-8;i=e+l|0;b:{if(d&1)break b;if(!(d&3))break a;d=k[e>>2];e=e-d|0;if(e>>>0<fa[1903])break a;l=l+d|0;if(k[1904]!=(e|0)){if(d>>>0<=255){g=k[e+8>>2];d=d>>>3|0;c=k[e+12>>2];if((c|0)==(g|0)){k[1899]=k[1899]&Ge(d);break b}k[g+12>>2]=c;k[c+8>>2]=g;break b}n=k[e+24>>2];d=k[e+12>>2];c:{if((e|0)!=(d|0)){c=k[e+8>>2];k[c+12>>2]=d;k[d+8>>2]=c;break c}d:{g=e+20|0;c=k[g>>2];if(c)break d;g=e+16|0;c=k[g>>2];if(c)break d;d=0;break c}while(1){m=g;d=c;g=d+20|0;c=k[g>>2];if(c)continue;g=d+16|0;c=k[d+16>>2];if(c)continue;break}k[m>>2]=0}if(!n)break b;g=k[e+28>>2];c=(g<<2)+7900|0;e:{if(k[c>>2]==(e|0)){k[c>>2]=d;if(d)break e;k[1900]=k[1900]&Ge(g);break b}k[n+(k[n+16>>2]==(e|0)?16:20)>>2]=d;if(!d)break b}k[d+24>>2]=n;c=k[e+16>>2];c&&(k[d+16>>2]=c,k[c+24>>2]=d);c=k[e+20>>2];if(!c)break b;k[d+20>>2]=c;k[c+24>>2]=d;break b}d=k[i+4>>2];if((d&3)!=3)break b;k[1901]=l;k[i+4>>2]=d&-2;k[e+4>>2]=l|1;k[l+e>>2]=l;return}if(i>>>0<=e>>>0)break a;d=k[i+4>>2];if(!(d&1))break a;f:{if(!(d&2)){if(k[1905]==(i|0)){k[1905]=e;l=k[1902]+l|0;k[1902]=l;k[e+4>>2]=l|1;if(k[1904]!=(e|0))break a;k[1901]=0;k[1904]=0;return}if(k[1904]==(i|0)){k[1904]=e;l=k[1901]+l|0;k[1901]=l;k[e+4>>2]=l|1;k[l+e>>2]=l;return}l=(d&-8)+l|0;g:{if(d>>>0<=255){c=k[i+8>>2];d=d>>>3|0;g=k[i+12>>2];if((c|0)==(g|0)){k[1899]=k[1899]&Ge(d);break g}k[c+12>>2]=g;k[g+8>>2]=c;break g}n=k[i+24>>2];d=k[i+12>>2];h:{if((i|0)!=(d|0)){c=k[i+8>>2];k[c+12>>2]=d;k[d+8>>2]=c;break h}i:{g=i+20|0;c=k[g>>2];if(c)break i;g=i+16|0;c=k[g>>2];if(c)break i;d=0;break h}while(1){m=g;d=c;g=d+20|0;c=k[g>>2];if(c)continue;g=d+16|0;c=k[d+16>>2];if(c)continue;break}k[m>>2]=0}if(!n)break g;g=k[i+28>>2];c=(g<<2)+7900|0;j:{if(k[c>>2]==(i|0)){k[c>>2]=d;if(d)break j;k[1900]=k[1900]&Ge(g);break g}k[n+(k[n+16>>2]==(i|0)?16:20)>>2]=d;if(!d)break g}k[d+24>>2]=n;c=k[i+16>>2];c&&(k[d+16>>2]=c,k[c+24>>2]=d);c=k[i+20>>2];if(!c)break g;k[d+20>>2]=c;k[c+24>>2]=d}k[e+4>>2]=l|1;k[l+e>>2]=l;if(k[1904]!=(e|0))break f;k[1901]=l;return}k[i+4>>2]=d&-2;k[e+4>>2]=l|1;k[l+e>>2]=l}if(l>>>0<=255){l=l>>>3|0;d=(l<<3)+7636|0;c=k[1899];l=1<<l;k:{if(!(c&l)){k[1899]=l|c;l=d;break k}l=k[d+8>>2]}k[d+8>>2]=e;k[l+12>>2]=e;k[e+12>>2]=d;k[e+8>>2]=l;return}k[e+16>>2]=0;k[e+20>>2]=0;i=e;g=l>>>8|0;c=0;l:{if(!g)break l;c=31;if(l>>>0>16777215)break l;d=g;g=g+1048320>>>16&8;c=d<<g;n=c+520192>>>16&4;c=c<<n;m=c+245760>>>16&2;c=(c<<m>>>15|0)-(m|(g|n))|0;c=(c<<1|l>>>c+21&1)+28|0}k[i+28>>2]=c;m=(c<<2)+7900|0;m:{n:{g=k[1900];d=1<<c;o:{if(!(g&d)){k[1900]=d|g;k[m>>2]=e;k[e+24>>2]=m;break o}g=l<<((c|0)==31?0:25-(c>>>1|0)|0);d=k[m>>2];while(1){c=d;if((k[d+4>>2]&-8)==(l|0))break n;d=g>>>29|0;g=g<<1;m=c+(d&4)|0;d=k[m+16>>2];if(d)continue;break}k[m+16>>2]=e;k[e+24>>2]=c}k[e+12>>2]=e;k[e+8>>2]=e;break m}l=k[c+8>>2];k[l+12>>2]=e;k[c+8>>2]=e;k[e+24>>2]=0;k[e+12>>2]=c;k[e+8>>2]=l}l=k[1907]+-1|0;k[1907]=l;if(l)break a;e=8052;while(1){l=k[e>>2];e=l+8|0;if(l)continue;break}k[1907]=-1}}function dc(n,c,d,o,e){n=n|0;c=c|0;d=d|0;o=o|0;e=e|0;var q=0,g=0,i=0,l=0,m=0;if(w(n,k[c+8>>2],e)){k[c+28>>2]==1|k[c+4>>2]!=(d|0)||(k[c+28>>2]=o);return}a:{if(w(n,k[c>>2],e)){if(!(k[c+20>>2]!=(d|0)?k[c+16>>2]!=(d|0):0)){if((o|0)!=1)break a;k[c+32>>2]=1;return}k[c+32>>2]=o;if(k[c+44>>2]!=4){q=n+16|0;l=q+(k[n+12>>2]<<3)|0;m=c;b:{c:{while(1){d:{if(q>>>0>=l>>>0)break d;da[c+52>>1]=0;Ba(q,c,d,d,1,e);if(ea[c+54|0])break d;e:{if(!ea[c+53|0])break e;if(ea[c+52|0]){o=1;if(k[c+24>>2]==1)break c;i=1;g=1;if(ea[n+8|0]&2)break e;break c}i=1;o=g;if(!(ca[n+8|0]&1))break c}q=q+8|0;continue}break}o=g;n=4;if(!i)break b}n=3}k[m+44>>2]=n;if(o&1)break a}k[c+20>>2]=d;k[c+40>>2]=k[c+40>>2]+1;if(k[c+36>>2]!=1|k[c+24>>2]!=2)break a;ca[c+54|0]=1;return}g=k[n+12>>2];q=n+16|0;ld(q,c,d,o,e);if((g|0)<2)break a;g=q+(g<<3)|0;q=n+24|0;n=k[n+8>>2];if(!(k[c+36>>2]!=1?!(n&2):0)){while(1){if(ea[c+54|0])break a;ld(q,c,d,o,e);q=q+8|0;if(q>>>0<g>>>0)continue;break}break a}if(!(n&1))while(1){if(ea[c+54|0]|k[c+36>>2]==1)break a;ld(q,c,d,o,e);q=q+8|0;if(q>>>0<g>>>0)continue;break a}while(1){if(ea[c+54|0]|(k[c+24>>2]==1?k[c+36>>2]==1:0))break a;ld(q,c,d,o,e);q=q+8|0;if(q>>>0<g>>>0)continue;break}}}function W(i,c,d){var e,l,g;if(d>>>0>=512){N(i|0,c|0,d|0)|0;return i}l=i+d|0;a:{if(!((i^c)&3)){b:{if((d|0)<1){d=i;break b}if(!(i&3)){d=i;break b}d=i;while(1){ca[d|0]=ea[c|0];c=c+1|0;d=d+1|0;if(d>>>0>=l>>>0)break b;if(d&3)continue;break}}e=l&-4;c:{if(e>>>0<64)break c;g=e+-64|0;if(d>>>0>g>>>0)break c;while(1){k[d>>2]=k[c>>2];k[d+4>>2]=k[c+4>>2];k[d+8>>2]=k[c+8>>2];k[d+12>>2]=k[c+12>>2];k[d+16>>2]=k[c+16>>2];k[d+20>>2]=k[c+20>>2];k[d+24>>2]=k[c+24>>2];k[d+28>>2]=k[c+28>>2];k[d+32>>2]=k[c+32>>2];k[d+36>>2]=k[c+36>>2];k[d+40>>2]=k[c+40>>2];k[d+44>>2]=k[c+44>>2];k[d+48>>2]=k[c+48>>2];k[d+52>>2]=k[c+52>>2];k[d+56>>2]=k[c+56>>2];k[d+60>>2]=k[c+60>>2];c=c- -64|0;d=d- -64|0;if(d>>>0<=g>>>0)continue;break}}if(d>>>0>=e>>>0)break a;while(1){k[d>>2]=k[c>>2];c=c+4|0;d=d+4|0;if(d>>>0<e>>>0)continue;break}break a}if(l>>>0<4){d=i;break a}e=l+-4|0;if(e>>>0<i>>>0){d=i;break a}d=i;while(1){ca[d|0]=ea[c|0];ca[d+1|0]=ea[c+1|0];ca[d+2|0]=ea[c+2|0];ca[d+3|0]=ea[c+3|0];c=c+4|0;d=d+4|0;if(d>>>0<=e>>>0)continue;break}}if(d>>>0<l>>>0)while(1){ca[d|0]=ea[c|0];c=c+1|0;d=d+1|0;if((l|0)!=(d|0))continue;break}return i}function ec(q,c,d,e,r,g){var s=0,i=0,l,m,n=0,o,t;s=5;a:{b:{if(!q|!c|(!d|!e))break b;if(!r|!g)break b;s=0;k[d>>2]=0;k[e>>2]=0;n=tc(q,c,r,g);if(!n)break b;i=z(n<<4);if(!i)return 3;r=c-k[g>>2]|0;c=i;while(1){if(!r)break a;l=ea[q|0];if(l>>>0>=6){ia(i,s);return 6}g=r+-1|0;m=l|k[c>>2]&-16;k[c>>2]=m;c:{if(!(!(1<<l&52)|l>>>0>5)){k[c>>2]=m&-268435441;r=g;q=q+1|0;break c}if(g>>>0<=2)break a;t=(l|0)!=1;o=ea[q+1|0]|ea[q+2|0]<<8|ea[q+3|0]<<16;if(!(t|(o|0)==1)){ia(i,s);return 7}g=r+-4|0;k[c>>2]=m&-268435441|o<<4;if((l|0)==3){if((o|0)!=1){ia(i,s);return 10}if(!g){U(i);return 1}r=r+-5|0;g=q+5|0;q=ea[q+4|0];if(q>>>0<=4){ca[c+4|0]=q;q=g;break c}ca[c+4|0]=4;q=g;break c}if(!g)break a;r=r+-5|0;g=q+5|0;m=ea[q+4|0];if(!t){ca[c+4|0]=ca[c+4|0]&1|m<<1;q=g;break c}q=g;if(l)break c;ca[c+4|0]=m<<1|m>>>7;if(!o){ia(i,s);return 9}q=o+-1|0;k[c+12>>2]=q;l=z(q);k[c+8>>2]=l;if(!l){ia(i,s);return 3}if(r>>>0<q>>>0){ia(i,s+1|0);return 1}W(l,g,q);r=r-q|0;q=q+g|0}c=c+16|0;s=s+1|0;if((n|0)!=(s|0))continue;break}if(r){ia(i,n);return 1}k[d>>2]=i;k[e>>2]=n;s=0}return s}ia(i,s);return 1}function fc(i,c,d){i=i|0;c=c|0;d=d|0;var e=0,l=0,g=0,m;l=V+-64|0;V=l;a:{if(w(c,7072,0)){k[d>>2]=0;g=1;break a}if(bd(i,c)){g=1;i=k[d>>2];if(!i)break a;k[d>>2]=k[i>>2];break a}b:{if(!c)break b;c=x(c,6852);if(!c)break a;e=k[d>>2];e&&(k[d>>2]=k[e>>2]);m=k[c+8>>2];e=k[i+8>>2];if(m&(e^-1)&7|(m^-1)&e&96)break a;g=1;if(w(k[i+12>>2],k[c+12>>2],0))break a;if(w(k[i+12>>2],7060,0)){i=k[c+12>>2];if(!i)break a;g=!x(i,6904);break a}e=k[i+12>>2];if(!e)break b;g=0;e=x(e,6852);if(e){if(!(ca[i+8|0]&1))break a;g=sc(e,k[c+12>>2]);break a}e=k[i+12>>2];if(!e)break a;e=x(e,6964);if(e){if(!(ca[i+8|0]&1))break a;g=Ya(e,k[c+12>>2]);break a}i=k[i+12>>2];if(!i)break a;e=x(i,6756);if(!e)break a;i=k[c+12>>2];if(!i)break a;i=x(i,6756);if(!i)break a;k[l+20>>2]=-1;k[l+16>>2]=e;k[l+12>>2]=0;k[l+8>>2]=i;Aa(l+24|0);k[l+56>>2]=1;ba[k[k[i>>2]+28>>2]](i,l+8|0,k[d>>2],1);i=k[l+32>>2];!k[d>>2]|(i|0)!=1||(k[d>>2]=k[l+24>>2]);g=(i|0)==1;break a}g=0}V=l- -64|0;return g|0}function gc(){var d=0,c;d=V-80|0;V=d;nc();oc();pc();L(4660,4688,4724,0,2672,42,2675,0,2675,0,1882,2677,43);k[d+76>>2]=0;k[d+72>>2]=44;c=k[d+76>>2];k[d+64>>2]=k[d+72>>2];k[d+68>>2]=c;Gd(d- -64|0);k[d+76>>2]=0;k[d+72>>2]=45;c=k[d+76>>2];k[d+56>>2]=k[d+72>>2];k[d+60>>2]=c;Hd(d+56|0);k[d+76>>2]=0;k[d+72>>2]=46;c=k[d+76>>2];k[d+48>>2]=k[d+72>>2];k[d+52>>2]=c;Jd(d+48|0);k[d+76>>2]=0;k[d+72>>2]=47;c=k[d+76>>2];k[d+40>>2]=k[d+72>>2];k[d+44>>2]=c;Kd(d+40|0);k[d+76>>2]=0;k[d+72>>2]=48;c=k[d+76>>2];k[d+32>>2]=k[d+72>>2];k[d+36>>2]=c;wa(1940,d+32|0);k[d+76>>2]=0;k[d+72>>2]=49;c=k[d+76>>2];k[d+24>>2]=k[d+72>>2];k[d+28>>2]=c;wa(1955,d+24|0);k[d+76>>2]=0;k[d+72>>2]=50;c=k[d+76>>2];k[d+16>>2]=k[d+72>>2];k[d+20>>2]=c;pd(d+16|0);k[d+76>>2]=0;k[d+72>>2]=51;c=k[d+76>>2];k[d+8>>2]=k[d+72>>2];k[d+12>>2]=c;wa(1986,d+8|0);Re();V=d+80|0}function hc(){var d=0,c;d=V+-64|0;V=d;L(3008,3036,3072,0,2672,19,2675,0,2675,0,1682,2677,20);k[d+60>>2]=0;k[d+56>>2]=21;c=k[d+60>>2];k[d+48>>2]=k[d+56>>2];k[d+52>>2]=c;Va(1695,d+48|0);k[d+60>>2]=0;k[d+56>>2]=22;c=k[d+60>>2];k[d+40>>2]=k[d+56>>2];k[d+44>>2]=c;Ua(1710,d+40|0);k[d+60>>2]=0;k[d+56>>2]=23;c=k[d+60>>2];k[d+32>>2]=k[d+56>>2];k[d+36>>2]=c;Va(1725,d+32|0);k[d+60>>2]=0;k[d+56>>2]=24;c=k[d+60>>2];k[d+24>>2]=k[d+56>>2];k[d+28>>2]=c;Ua(1734,d+24|0);k[d+60>>2]=0;k[d+56>>2]=25;c=k[d+60>>2];k[d+16>>2]=k[d+56>>2];k[d+20>>2]=c;vd(d+16|0);k[d+60>>2]=0;k[d+56>>2]=26;c=k[d+60>>2];k[d+8>>2]=k[d+56>>2];k[d+12>>2]=c;xd(d+8|0);k[d+60>>2]=0;k[d+56>>2]=27;c=k[d+60>>2];k[d>>2]=k[d+56>>2];k[d+4>>2]=c;Ad(d);V=d- -64|0}function Aa(e){var c,d;c=e+39|0;ca[c+-1|0]=0;ca[e|0]=0;ca[c+-2|0]=0;ca[e+1|0]=0;ca[c+-3|0]=0;ca[e+2|0]=0;ca[c+-4|0]=0;ca[e+3|0]=0;c=0-e&3;e=c+e|0;k[e>>2]=0;d=39-c&-4;c=d+e|0;k[c+-4>>2]=0;a:{if(d>>>0<9)break a;k[e+8>>2]=0;k[e+4>>2]=0;k[c+-8>>2]=0;k[c+-12>>2]=0;if(d>>>0<25)break a;k[e+24>>2]=0;k[e+20>>2]=0;k[e+16>>2]=0;k[e+12>>2]=0;k[c+-16>>2]=0;k[c+-20>>2]=0;k[c+-24>>2]=0;k[c+-28>>2]=0;c=d;d=e&4|24;c=c-d|0;if(c>>>0<32)break a;e=e+d|0;while(1){k[e+24>>2]=0;k[e+28>>2]=0;k[e+16>>2]=0;k[e+20>>2]=0;k[e+8>>2]=0;k[e+12>>2]=0;k[e>>2]=0;k[e+4>>2]=0;e=e+32|0;c=c+-32|0;if(c>>>0>31)continue;break}}}function ic(o,c,d,q,e,r){o=o|0;c=c|0;d=d|0;q=q|0;e=e|0;r=r|0;var g=0,i=0,l=0,m=0,n,s;if(w(o,k[c+8>>2],r)){Ca(c,d,q,e);return}i=ea[c+53|0];g=k[o+12>>2];ca[c+53|0]=0;l=ea[c+52|0];ca[c+52|0]=0;m=o+16|0;Ba(m,c,d,q,e,r);n=ea[c+53|0];i=i|n;s=ea[c+52|0];l=l|s;a:{if((g|0)<2)break a;m=m+(g<<3)|0;g=o+24|0;while(1){if(ea[c+54|0])break a;b:{if(s){if(k[c+24>>2]==1)break a;if(ea[o+8|0]&2)break b;break a}if(!n)break b;if(!(ca[o+8|0]&1))break a}da[c+52>>1]=0;Ba(g,c,d,q,e,r);n=ea[c+53|0];i=n|i;s=ea[c+52|0];l=s|l;g=g+8|0;if(g>>>0<m>>>0)continue;break}}ca[c+53|0]=(i&255)!=0;ca[c+52|0]=(l&255)!=0}function jc(e,c,g,d,i){e=e|0;c=c|0;g=g|0;d=d|0;i=i|0;if(w(e,k[c+8>>2],i)){k[c+28>>2]==1|k[c+4>>2]!=(g|0)||(k[c+28>>2]=d);return}a:{if(w(e,k[c>>2],i)){if(!(k[c+20>>2]!=(g|0)?k[c+16>>2]!=(g|0):0)){if((d|0)!=1)break a;k[c+32>>2]=1;return}k[c+32>>2]=d;b:{if(k[c+44>>2]==4)break b;da[c+52>>1]=0;e=k[e+8>>2];ba[k[k[e>>2]+20>>2]](e,c,g,g,1,i);if(ea[c+53|0]){k[c+44>>2]=3;if(!ea[c+52|0])break b;break a}k[c+44>>2]=4}k[c+20>>2]=g;k[c+40>>2]=k[c+40>>2]+1;if(k[c+36>>2]!=1|k[c+24>>2]!=2)break a;ca[c+54|0]=1;return}e=k[e+8>>2];ba[k[k[e>>2]+24>>2]](e,c,g,d,i)}}function x(i,c){var d=0,e=0,g=0,l=0;d=V+-64|0;V=d;e=k[i>>2];g=k[e+-4>>2];l=k[e+-8>>2];k[d+20>>2]=0;k[d+16>>2]=6708;k[d+12>>2]=i;k[d+8>>2]=c;e=0;Aa(d+24|0);i=i+l|0;a:{if(w(g,c,0)){k[d+56>>2]=1;ba[k[k[g>>2]+20>>2]](g,d+8|0,i,i,1,0);e=k[d+32>>2]==1?i:0;break a}ba[k[k[g>>2]+24>>2]](g,d+8|0,i,1,0);b:switch(k[d+44>>2]){case 0:e=k[d+48>>2]==1?k[d+36>>2]==1?k[d+40>>2]==1?k[d+28>>2]:0:0:0;break a;case 1:break b;default:break a}if(k[d+32>>2]!=1&&k[d+48>>2]|k[d+36>>2]!=1|k[d+40>>2]!=1)break a;e=k[d+24>>2]}V=d- -64|0;return e}function ya(m,c,d,e,n,g,o){var i=0,l=0;i=V-16|0;V=i;k[m+4>>2]=e;k[m>>2]=c;c=ra(m+8|0);e=ra(m+20|0);l=ra(m+32|0);k[m+52>>2]=o;k[m+48>>2]=g;k[m+44>>2]=n;if(!(!d|!n)){g=0;while(1){a:{b:switch(k[d>>2]&15){case 0:m=d+4|0;o=k[m+4>>2];k[i>>2]=k[m>>2];k[i+4>>2]=o;k[i+8>>2]=k[m+8>>2];af(c,i);break a;case 3:k[i>>2]=k[d+4>>2];bf(e,i);break a;case 1:break b;default:break a}ca[i|0]=ea[d+4|0];cf(l,i)}d=d+16|0;g=g+1|0;if((g|0)!=(n|0))continue;break}}V=i+16|0}function kc(){var d=0,c=0;c=V-16|0;V=c;H(4840,2021,4,0);ua(ua(ua(ua(c,2033,0),2048,1),2076,2),2107,3);d=Rb(c,2156);K(2139,d);y(d);d=Rb(c,2180);K(2167,d);y(d);d=Rb(c,2210);K(2192,d);y(d);d=Rb(c,2243);K(2227,d);y(d);d=Rb(c,2275);K(2258,d);y(d);d=Rb(c,2308);K(2289,d);y(d);d=Rb(c,2340);K(2322,d);y(d);d=Rb(c,2375);K(2356,d);y(d);d=Rb(c,2398);K(2386,d);y(d);F(2409,4840,+fa[607]);V=c+16|0}function lc(){var d=0,c;d=V-32|0;V=d;L(2592,2620,2656,0,2672,1,2675,0,2675,0,1348,2677,2);Ye();k[d+28>>2]=0;k[d+24>>2]=4;c=k[d+28>>2];k[d+16>>2]=k[d+24>>2];k[d+20>>2]=c;Ed(d+16|0);k[d+28>>2]=0;k[d+24>>2]=5;c=k[d+28>>2];k[d+8>>2]=k[d+24>>2];k[d+12>>2]=c;Fd(d+8|0);k[d+28>>2]=0;k[d+24>>2]=6;c=k[d+28>>2];k[d>>2]=k[d+24>>2];k[d+4>>2]=c;Id(d);Ze();We();Xe();Te();V=d+32|0}function mc(g,c){g=g|0;c=c|0;var d=0,e;d=V-16|0;V=d;ea[c+11|0]>>>7|0?e=k[c>>2]:e=c;ea[c+11|0]>>>7|0?c=k[c+4>>2]:c=ea[c+11|0];c=ec(e,c,d+12|0,d+8|0,d+4|0,d);a:{if(!c){c=k[d+12>>2];if(!c){ya(g,0,0,0,k[d+8>>2],k[d+4>>2],k[d>>2]);break a}ya(g,0,c,k[c>>2]>>>4&16777215,k[d+8>>2],k[d+4>>2],k[d>>2]);break a}U(k[d+4>>2]);ya(g,c,0,0,k[d+8>>2],0,0)}V=d+16|0}function nc(){var d=0,c;d=V-32|0;V=d;L(3568,3648,3720,0,2672,53,2675,0,2675,0,1828,2677,54);Se();k[d+28>>2]=0;k[d+24>>2]=56;c=k[d+28>>2];k[d+16>>2]=k[d+24>>2];k[d+20>>2]=c;qd(d+16|0);k[d+28>>2]=0;k[d+24>>2]=57;c=k[d+28>>2];k[d+8>>2]=k[d+24>>2];k[d+12>>2]=c;rd(d+8|0);k[d+28>>2]=0;k[d+24>>2]=58;c=k[d+28>>2];k[d>>2]=k[d+24>>2];k[d+4>>2]=c;sd(d);he();ie();V=d+32|0}function oc(){var d=0,c;d=V-32|0;V=d;L(3980,4060,4132,0,2672,61,2675,0,2675,0,1845,2677,62);Ve();k[d+28>>2]=0;k[d+24>>2]=64;c=k[d+28>>2];k[d+16>>2]=k[d+24>>2];k[d+20>>2]=c;wd(d+16|0);k[d+28>>2]=0;k[d+24>>2]=65;c=k[d+28>>2];k[d+8>>2]=k[d+24>>2];k[d+12>>2]=c;yd(d+8|0);k[d+28>>2]=0;k[d+24>>2]=66;c=k[d+28>>2];k[d>>2]=k[d+24>>2];k[d+4>>2]=c;Bd(d);fe();ge();V=d+32|0}function pc(){var d=0,c;d=V-32|0;V=d;L(4380,4460,4532,0,2672,69,2675,0,2675,0,1863,2677,70);Ue();k[d+28>>2]=0;k[d+24>>2]=72;c=k[d+28>>2];k[d+16>>2]=k[d+24>>2];k[d+20>>2]=c;td(d+16|0);k[d+28>>2]=0;k[d+24>>2]=73;c=k[d+28>>2];k[d+8>>2]=k[d+24>>2];k[d+12>>2]=c;ud(d+8|0);k[d+28>>2]=0;k[d+24>>2]=74;c=k[d+28>>2];k[d>>2]=k[d+24>>2];k[d+4>>2]=c;zd(d);ee();ce();V=d+32|0}function qc(i,c,d,e,g){i=i|0;c=c|0;d=d|0;e=e|0;g=g|0;if(w(i,k[c+8>>2],g)){k[c+28>>2]==1|k[c+4>>2]!=(d|0)||(k[c+28>>2]=e);return}a:{if(!w(i,k[c>>2],g))break a;if(!(k[c+20>>2]!=(d|0)?k[c+16>>2]!=(d|0):0)){if((e|0)!=1)break a;k[c+32>>2]=1;return}k[c+20>>2]=d;k[c+32>>2]=e;k[c+40>>2]=k[c+40>>2]+1;k[c+36>>2]!=1|k[c+24>>2]!=2||(ca[c+54|0]=1);k[c+44>>2]=4}}function ab(i,c,d){var e=0,l=0,g=0;g=V-16|0;V=g;if(4294967279>=d>>>0){a:{if(d>>>0<=10){ca[i+11|0]=d;e=i;break a}d>>>0>=11?(l=d+16&-16,e=l+-1|0,e=(e|0)==11?l:e):e=10;l=e+1|0;e=l;4294967295<e>>>0&&(oa(6413),q());e=ha(e);k[i>>2]=e;k[i+8>>2]=l|-2147483648;k[i+4>>2]=d}d&&W(e,c,d);ca[g+15|0]=0;ca[d+e|0]=ea[g+15|0];V=g+16|0;return}oa(6400);q()}function rc(i,c,d){i=i|0;c=c|0;d=d|0;var e=0,g=0;e=V+-64|0;V=e;g=1;a:{if(w(i,c,0))break a;g=0;if(!c)break a;c=x(c,6756);g=0;if(!c)break a;k[e+20>>2]=-1;k[e+16>>2]=i;k[e+12>>2]=0;k[e+8>>2]=c;Aa(e+24|0);k[e+56>>2]=1;ba[k[k[c>>2]+28>>2]](c,e+8|0,k[d>>2],1);i=k[e+32>>2];(i|0)==1&&(k[d>>2]=k[e+24>>2]);g=(i|0)==1}i=g;V=e- -64|0;return i|0}function Ca(g,c,d,e){ca[g+53|0]=1;a:{if(k[g+4>>2]!=(d|0))break a;ca[g+52|0]=1;d=k[g+16>>2];if(!d){k[g+36>>2]=1;k[g+24>>2]=e;k[g+16>>2]=c;if((e|0)!=1|k[g+48>>2]!=1)break a;ca[g+54|0]=1;return}if((c|0)==(d|0)){d=k[g+24>>2];(d|0)==2&&(k[g+24>>2]=e,d=e);if(k[g+48>>2]!=1|(d|0)!=1)break a;ca[g+54|0]=1;return}ca[g+54|0]=1;k[g+36>>2]=k[g+36>>2]+1}}function sc(g,c){var d,e=0;a:{while(1){if(!c)return 0;c=x(c,6852);if(!c|k[c+8>>2]&(k[g+8>>2]^-1))break a;if(w(k[g+12>>2],k[c+12>>2],0))return 1;if(!(ca[g+8|0]&1))break a;d=k[g+12>>2];if(!d)break a;d=x(d,6852);if(d){c=k[c+12>>2];g=d;continue}break}g=k[g+12>>2];if(!g)break a;g=x(g,6964);if(!g)break a;e=Ya(g,k[c+12>>2])}return e}function tc(l,c,d,e){var g,m,i,n=0;if(!c){k[e>>2]=0;return 0}a:{while(1){m=l+1|0;g=c+-1|0;i=ea[l|0];b:{if(!(i>>>0>5|!(1<<i&52))){c=g;l=m;break b}if(g>>>0<3)break a;i=c+-4|0;g=ea[m|0]|ea[m+1|0]<<8|ea[m+2|0]<<16;if(i>>>0<g>>>0)break a;c=i-g|0;l=(m+g|0)+3|0}n=n+1|0;if(c)continue;break}k[e>>2]=0;return n}k[d>>2]=l;k[e>>2]=c;return n}function za(g){var c,d=0,e=0;a:{b:{c=g;if(!(c&3))break b;if(!ea[g|0])return 0;while(1){c=c+1|0;if(!(c&3))break b;if(ea[c|0])continue;break}break a}while(1){d=c;c=c+4|0;e=k[d>>2];if(!((e^-1)&e+-16843009&-2139062144))continue;break}if(!(e&255))return d-g|0;while(1){e=ea[d+1|0];c=d+1|0;d=c;if(e)continue;break}}return c-g|0}function ib(){P(7060,4848),O(7084,4853,1,1,0),qe(),re(),ue(),le(),se(),Zd(),ve(),$d(),we(),xe(),ye(),cc(2896,4959),cc(5704,4971),I(5792,4,5004),I(5884,2,5017),I(5976,4,5032),Xa(2740,5047),ze(),gb(5093),fb(5130),eb(5169),db(5200),cb(5240),bb(5269),Ae(),Be(),gb(5376),fb(5408),eb(5441),db(5474),cb(5508),bb(5541),Ce(),De()}function uc(i,c,d,e){i=i|0;c=c|0;d=d|0;e=e|0;var g=0,l;g=V-16|0;V=g;ea[e+11|0]>>>7|0?l=k[e>>2]:l=e;ea[e+11|0]>>>7|0?e=k[e+4>>2]:e=ea[e+11|0];c=xc(l,e,c,d,g+12|0,g+8|0);d=k[g+12>>2];a:{if(!c){k[i+8>>2]=k[g+8>>2];k[i+4>>2]=d;k[i>>2]=0;break a}U(d);k[i+8>>2]=0;k[i+4>>2]=0;k[i>>2]=c}V=g+16|0}function vc(i,c,d){var e=0,g=0;e=V-16|0;V=e;k[e>>2]=k[i+8>>2];g=k[i+8>>2];k[e+8>>2]=i+8;k[e+4>>2]=ga(c,12)+g;if(k[e>>2]!=k[e+4>>2])while(1){g=k[d+4>>2];c=k[e>>2];k[c>>2]=k[d>>2];k[c+4>>2]=g;k[c+8>>2]=k[d+8>>2];c=k[e>>2]+12|0;k[e>>2]=c;if((c|0)!=k[e+4>>2])continue;break}k[k[e+8>>2]>>2]=k[e>>2];V=e+16|0}function wc(g,c,d){var e=0;e=V-16|0;V=e;k[e>>2]=g;g=k[g+4>>2];k[e+4>>2]=g;k[e+8>>2]=g+ga(c,12);if(k[e+4>>2]!=k[e+8>>2])while(1){c=k[d+4>>2];g=k[e+4>>2];k[g>>2]=k[d>>2];k[g+4>>2]=c;k[g+8>>2]=k[d+8>>2];g=k[e+4>>2]+12|0;k[e+4>>2]=g;if((g|0)!=k[e+8>>2])continue;break}k[k[e>>2]+4>>2]=k[e+4>>2];V=e+16|0}function xc(n,c,d,e,g,o){var i=0,q=0,l,m=0;a:{if(e<<24>>24<=-1){q=4;if(d)break a}q=5;if(!n|c>>>0>16777215|(!g|!o))break a;m=c+5|0;i=z(m);if(!i)return 3;q=0;ca[i|0]=0;l=c+1|0;ca[i+1|0]=l;ca[i+2|0]=l>>>8;ca[i+3|0]=l>>>16;ca[i+4|0]=d?e|128:e;W(i+5|0,n,c);k[g>>2]=i;k[o>>2]=m}return q}function yc(){var d=0,c;d=V-32|0;V=d;L(3268,3296,3332,0,2672,37,2675,0,2675,0,1804,2677,38);k[d+28>>2]=0;k[d+24>>2]=39;c=k[d+28>>2];k[d+16>>2]=k[d+24>>2];k[d+20>>2]=c;od(1816,d+16|0);k[d+28>>2]=0;k[d+24>>2]=40;c=k[d+28>>2];k[d+8>>2]=k[d+24>>2];k[d+12>>2]=c;od(1725,d+8|0);V=d+32|0}function zc(g){var c,d,e=0;ea[g+11|0]>>>7|0?c=k[g+4>>2]:c=ea[g+11|0];e=z(c+4|0);c=e;ea[g+11|0]>>>7|0?d=k[g+4>>2]:d=ea[g+11|0];k[c>>2]=d;d=e+4|0;ea[g+11|0]>>>7|0?c=k[g>>2]:c=g;ea[g+11|0]>>>7|0?g=k[g+4>>2]:g=ea[g+11|0];W(d,c,g);return e}function Ac(i,c,d,e){i=i|0;c=c|0;d=d|0;e=e|0;var g=0,l=0;if(w(i,k[c+8>>2],0)){Da(c,d,e);return}g=k[i+12>>2];l=i+16|0;Za(l,c,d,e);a:{if((g|0)<2)break a;g=(g<<3)+l|0;i=i+24|0;while(1){Za(i,c,d,e);if(ea[c+54|0])break a;i=i+8|0;if(i>>>0<g>>>0)continue;break}}}function Bc(i,c,d){var e,g;e=V-16|0;V=e;k[e>>2]=k[i+8>>2];g=k[i+8>>2];k[e+8>>2]=i+8;k[e+4>>2]=(c<<2)+g;if(k[e>>2]!=k[e+4>>2])while(1){k[k[e>>2]>>2]=k[d>>2];c=k[e>>2]+4|0;k[e>>2]=c;if((c|0)!=k[e+4>>2])continue;break}k[k[e+8>>2]>>2]=k[e>>2];V=e+16|0}function Mb(l,c){var d=0,e=0,g,i;e=V-32|0;V=e;d=Ib(e+8|0,Jb(l,((k[l+4>>2]-k[l>>2]|0)/12|0)+1|0),(k[l+4>>2]-k[l>>2]|0)/12|0,l+8|0);g=k[d+8>>2];i=k[c+4>>2];k[g>>2]=k[c>>2];k[g+4>>2]=i;k[g+8>>2]=k[c+8>>2];k[d+8>>2]=k[d+8>>2]+12;Hb(l,d);Fb(d);V=e+32|0}function Cc(g,c,d){var e;e=V-16|0;V=e;k[e>>2]=g;g=k[g+4>>2];k[e+4>>2]=g;k[e+8>>2]=g+(c<<2);if(k[e+4>>2]!=k[e+8>>2])while(1){k[k[e+4>>2]>>2]=k[d>>2];g=k[e+4>>2]+4|0;k[e+4>>2]=g;if((g|0)!=k[e+8>>2])continue;break}k[k[e>>2]+4>>2]=k[e+4>>2];V=e+16|0}function Dc(g,c,d){var e,i;e=V-16|0;V=e;k[e>>2]=k[g+8>>2];i=k[g+8>>2];k[e+8>>2]=g+8;k[e+4>>2]=c+i;if(k[e>>2]!=k[e+4>>2])while(1){ca[k[e>>2]]=ea[d|0];c=k[e>>2]+1|0;k[e>>2]=c;if((c|0)!=k[e+4>>2])continue;break}k[k[e+8>>2]>>2]=k[e>>2];V=e+16|0}function Ec(g,c,d){var e;e=V-16|0;V=e;k[e>>2]=g;g=k[g+4>>2];k[e+4>>2]=g;k[e+8>>2]=g+c;if(k[e+4>>2]!=k[e+8>>2])while(1){ca[k[e+4>>2]]=ea[d|0];g=k[e+4>>2]+1|0;k[e+4>>2]=g;if((g|0)!=k[e+8>>2])continue;break}k[k[e>>2]+4>>2]=k[e+4>>2];V=e+16|0}function Jb(g,c){var d=0,e;d=V-16|0;V=d;k[d+12>>2]=c;e=Eb();if(e>>>0>=c>>>0){g=(k[g+8>>2]-k[g>>2]|0)/12|0;g>>>0<e>>>1>>>0&&(k[d+8>>2]=g<<1,g=V-16|0,V=g,V=g+16|0,g=d+12|0,c=d+8|0,e=k[(fa[c>>2]<fa[g>>2]?g:c)>>2]);V=d+16|0;return e}la();q()}function Bb(g,c){var d=0,e;d=V-16|0;V=d;k[d+12>>2]=c;e=Qb();if(e>>>0>=c>>>0){g=k[g+8>>2]-k[g>>2]>>2;g>>>0<e>>>1>>>0&&(k[d+8>>2]=g<<1,g=V-16|0,V=g,V=g+16|0,g=d+12|0,c=d+8|0,e=k[(fa[c>>2]<fa[g>>2]?g:c)>>2]);V=d+16|0;return e}la();q()}function wb(g,c){var d=0,e;d=V-16|0;V=d;k[d+12>>2]=c;e=rb();if(e>>>0>=c>>>0){g=k[g+8>>2]-k[g>>2]|0;g>>>0<e>>>1>>>0&&(k[d+8>>2]=g<<1,g=V-16|0,V=g,V=g+16|0,g=d+12|0,c=d+8|0,e=k[(fa[c>>2]<fa[g>>2]?g:c)>>2]);V=d+16|0;return e}la();q()}function Fc(i,c,d){var e=0,g=0;e=V-32|0;V=e;a:{if((k[i+8>>2]-k[i+4>>2]|0)/12>>>0>=c>>>0){wc(i,c,d);break a}g=Ib(e+8|0,Jb(i,((k[i+4>>2]-k[i>>2]|0)/12|0)+c|0),(k[i+4>>2]-k[i>>2]|0)/12|0,i+8|0);vc(g,c,d);Hb(i,g);Fb(g)}V=e+32|0}function Ob(g,c){var d,e;d=V-16|0;V=d;k[d>>2]=g;g=k[g+4>>2];k[d+4>>2]=g;k[d+8>>2]=g+12;e=k[c+4>>2];g=k[d+4>>2];k[g>>2]=k[c>>2];k[g+4>>2]=e;k[g+8>>2]=k[c+8>>2];k[d+4>>2]=k[d+4>>2]+12;k[k[d>>2]+4>>2]=k[d+4>>2];V=d+16|0}function w(e,c,d){if(!d)return k[e+4>>2]==k[c+4>>2];if((e|0)==(c|0))return 1;d=V-16|0;k[d+8>>2]=e;k[d+12>>2]=k[k[d+8>>2]+4>>2];d=k[d+12>>2];e=V-16|0;k[e+8>>2]=c;k[e+12>>2]=k[k[e+8>>2]+4>>2];return!Pc(d,k[e+12>>2])}function Da(g,c,d){var e;e=k[g+16>>2];if(!e){k[g+36>>2]=1;k[g+24>>2]=d;k[g+16>>2]=c;return}a:{if((c|0)==(e|0)){if(k[g+24>>2]!=2)break a;k[g+24>>2]=d;return}ca[g+54|0]=1;k[g+24>>2]=2;k[g+36>>2]=k[g+36>>2]+1}}function Gc(i,c,d){var e=0,g=0;e=V-32|0;V=e;a:{if(k[i+8>>2]-k[i+4>>2]>>2>>>0>=c>>>0){Cc(i,c,d);break a}g=Ab(e+8|0,Bb(i,(k[i+4>>2]-k[i>>2]>>2)+c|0),k[i+4>>2]-k[i>>2]>>2,i+8|0);Bc(g,c,d);ub(i,g);zb(g)}V=e+32|0}function Hc(i,c,d){var e=0,g=0;e=V-32|0;V=e;a:{if(k[i+8>>2]-k[i+4>>2]>>>0>=c>>>0){Ec(i,c,d);break a}g=vb(e+8|0,wb(i,(k[i+4>>2]-k[i>>2]|0)+c|0),k[i+4>>2]-k[i>>2]|0,i+8|0);Dc(g,c,d);ub(i,g);sb(g)}V=e+32|0}function Ic(g,c){g=g|0;c=c|0;var d=0,e;d=V-16|0;V=d;c=Uc(c,d+12|0,d+8|0);e=k[d+12>>2];a:{if(!c){k[g+8>>2]=k[d+8>>2];k[g+4>>2]=e;k[g>>2]=0;break a}U(e);k[g+8>>2]=0;k[g+4>>2]=0;k[g>>2]=c}V=d+16|0}function Jc(g,c){g=g|0;c=c|0;var d=0,e;d=V-16|0;V=d;c=Qc(c,d+12|0,d+8|0);e=k[d+12>>2];a:{if(!c){k[g+8>>2]=k[d+8>>2];k[g+4>>2]=e;k[g>>2]=0;break a}U(e);k[g+8>>2]=0;k[g+4>>2]=0;k[g>>2]=c}V=d+16|0}function Kc(e,c){var d;d=k[c+4>>2];k[e>>2]=k[c>>2];k[e+4>>2]=d;ta(e+8|0,c+8|0);ta(e+20|0,c+20|0);ta(e+32|0,c+32|0);k[e+52>>2]=k[c+52>>2];d=k[c+48>>2];k[e+44>>2]=k[c+44>>2];k[e+48>>2]=d;return e}function ta(e,c){var d;d=V-16|0;V=d;k[e>>2]=0;k[e+4>>2]=0;k[d+12>>2]=0;k[e+8>>2]=0;V=d+16|0;k[e>>2]=k[c>>2];k[e+4>>2]=k[c+4>>2];k[e+8>>2]=k[c+8>>2];k[c+8>>2]=0;k[c>>2]=0;k[c+4>>2]=0;return e}function Lc(g,c){var d,e;d=V-16|0;V=d;k[d+4>>2]=g;e=k[c+4>>2];k[d+8>>2]=k[c>>2];k[d+12>>2]=e;k[k[d+4>>2]>>2]=k[d+8>>2];k[k[d+4>>2]+4>>2]=k[d+12>>2];k[d+4>>2]=k[d+4>>2]+8;V=d+16|0;return g}function Mc(g){g=g|0;var c=0,d=0,e;c=V-16|0;V=c;d=te(c+12|0,c+8|0);e=k[c+12>>2];a:{if(!d){k[g+8>>2]=k[c+8>>2];k[g+4>>2]=e;k[g>>2]=0;break a}U(e);k[g+8>>2]=0;k[g+4>>2]=0;k[g>>2]=d}V=c+16|0}function Nc(i,c){var d=0,e,g;d=V-16|0;V=d;k[d+12>>2]=i;e=ha(12);k[e+8>>2]=k[c+8>>2];g=k[c+4>>2];k[e>>2]=k[c>>2];k[e+4>>2]=g;k[k[d+12>>2]>>2]=e;k[d+12>>2]=k[d+12>>2]+8;V=d+16|0;return i}function Oc(g,c){var d=0,e=0;e=V-16|0;V=e;d=V-16|0;V=d;k[g>>2]=0;k[g+4>>2]=0;k[d+12>>2]=0;k[g+8>>2]=0;V=d+16|0;d=(k[c+4>>2]-k[c>>2]|0)/12|0;d&&(be(g,d),gd(g,k[c>>2],k[c+4>>2],d));V=e+16|0}function Oa(i,c){i=i|0;c=c|0;var d=0,e,g,l;d=V-16|0;V=d;e=k[i>>2];g=d+8|0;i=k[i+4>>2];c=(i>>1)+c|0;l=c;i&1&&(e=k[k[c>>2]+e>>2]);ba[e|0](g,l);i=qb(d+8|0);pb(d+8|0);V=d+16|0;return i|0}function Pc(g,c){var d,e;d=ea[g|0];e=ea[c|0];a:{if(!d|(d|0)!=(e|0))break a;while(1){e=ea[c+1|0];d=ea[g+1|0];if(!d)break a;c=c+1|0;g=g+1|0;if((d|0)==(e|0))continue;break}}return d-e|0}function Qc(g,c,d){var e;e=5;a:{if(!c|!d)break a;e=8;if(g>>>0>4)break a;e=z(5);if(!e)return 3;ca[e+4|0]=g;ca[e+1|0]=1;ca[e+2|0]=0;ca[e|0]=3;ca[e+3|0]=0;k[c>>2]=e;k[d>>2]=5;e=0}return e}function Ib(l,c,d,e){var g=0,i=0;g=V-16|0;V=g;k[g+12>>2]=0;k[l+12>>2]=0;k[l+16>>2]=e;c&&(i=Cb(c));k[l>>2]=i;d=ga(d,12)+i|0;k[l+8>>2]=d;k[l+4>>2]=d;k[l+12>>2]=ga(c,12)+i;V=g+16|0;return l}function Ab(l,c,d,e){var g=0,i=0;g=V-16|0;V=g;k[g+12>>2]=0;k[l+12>>2]=0;k[l+16>>2]=e;c&&(i=xb(c));k[l>>2]=i;d=(d<<2)+i|0;k[l+8>>2]=d;k[l+4>>2]=d;k[l+12>>2]=(c<<2)+i;V=g+16|0;return l}function Rc(g,c){var d=0,e=0;e=V-16|0;V=e;d=V-16|0;V=d;k[g>>2]=0;k[g+4>>2]=0;k[d+12>>2]=0;k[g+8>>2]=0;V=d+16|0;d=k[c+4>>2]-k[c>>2]>>2;d&&(de(g,d),id(g,k[c>>2],k[c+4>>2],d));V=e+16|0}function Sc(g,c){var d=0,e=0;e=V-32|0;V=e;d=Ab(e+8|0,Bb(g,(k[g+4>>2]-k[g>>2]>>2)+1|0),k[g+4>>2]-k[g>>2]>>2,g+8|0);k[k[d+8>>2]>>2]=k[c>>2];k[d+8>>2]=k[d+8>>2]+4;ub(g,d);zb(d);V=e+32|0}function Tc(g,c){var d=0,e=0;e=V-16|0;V=e;d=V-16|0;V=d;k[g>>2]=0;k[g+4>>2]=0;k[d+12>>2]=0;k[g+8>>2]=0;V=d+16|0;d=k[c+4>>2]-k[c>>2]|0;d&&(je(g,d),kd(g,k[c>>2],k[c+4>>2],d));V=e+16|0}function Za(l,c,d,e){var g,m,i,n;m=k[l+4>>2];l=k[l>>2];i=l;n=c;g=0;a:{if(!d)break a;c=m>>8;g=c;if(!(m&1))break a;g=k[c+k[d>>2]>>2]}ba[k[k[l>>2]+28>>2]](i,n,g+d|0,m&2?e:2)}function na(i,c){i=i|0;c=c|0;var d=0,e,g,l;d=V-16|0;V=d;e=k[i>>2];g=d;i=k[i+4>>2];c=(i>>1)+c|0;l=c;i&1&&(e=k[k[c>>2]+e>>2]);k[g+12>>2]=ba[e|0](l);V=d+16|0;return k[d+12>>2]}function Nb(e){var c=0,d;c=k[1893];d=e+3&-4;e=c+d|0;a:{if(e>>>0<=c>>>0?(d|0)>=1:0)break a;if(e>>>0>S()<<16>>>0&&!(Ra(e|0)|0))break a;k[1893]=e;return c}k[1897]=48;return-1}function Uc(g,c,d){var e;if(g<<24>>24<0)return 4;e=5;if(!(!c|!d)){e=z(5);if(!e)return 3;ca[e+4|0]=g;ca[e+1|0]=1;ca[e+2|0]=0;ca[e|0]=1;ca[e+3|0]=0;k[c>>2]=e;k[d>>2]=5;e=0}return e}function Vc(){var d=0,c;d=V-16|0;V=d;L(3164,3192,3228,0,2672,33,2675,0,2675,0,1775,2677,34);k[d+12>>2]=0;k[d+8>>2]=35;c=k[d+12>>2];k[d>>2]=k[d+8>>2];k[d+4>>2]=c;Dd(d);V=d+16|0}function ob(g,c){g=g|0;c=c|0;var d=0,i,e,l;d=V-16|0;V=d;i=k[g>>2];e=d;g=k[g+4>>2];c=(g>>1)+c|0;l=c;g&1&&(i=k[k[c>>2]+i>>2]);ca[e+15|0]=ba[i|0](l);V=d+16|0;return ea[d+15|0]}function Wc(i,c){i=i|0;c=c|0;var d=0,e,g,l;d=V-16|0;V=d;e=k[i>>2];g=d;i=k[i+4>>2];c=(i>>1)+c|0;l=c;i&1&&(e=k[k[c>>2]+e>>2]);ba[e|0](g,l);i=Ga(d);ef(d);V=d+16|0;return i|0}function Xc(i,c){i=i|0;c=c|0;var d=0,e,g,l;d=V-16|0;V=d;e=k[i>>2];g=d;i=k[i+4>>2];c=(i>>1)+c|0;l=c;i&1&&(e=k[k[c>>2]+e>>2]);ba[e|0](g,l);i=Ga(d);Ha(d);V=d+16|0;return i|0}function Yc(i,c){i=i|0;c=c|0;var d=0,e,g,l;d=V-16|0;V=d;e=k[i>>2];g=d;i=k[i+4>>2];c=(i>>1)+c|0;l=c;i&1&&(e=k[k[c>>2]+e>>2]);ba[e|0](g,l);i=Ga(d);La(d);V=d+16|0;return i|0}function Kb(g,c){var d=0,e=0;e=V-32|0;V=e;d=vb(e+8|0,wb(g,(k[g+4>>2]-k[g>>2]|0)+1|0),k[g+4>>2]-k[g>>2]|0,g+8|0);ca[k[d+8>>2]]=ea[c|0];k[d+8>>2]=k[d+8>>2]+1;ub(g,d);sb(d);V=e+32|0}function vb(l,c,d,e){var g=0,i=0;g=V-16|0;V=g;k[g+12>>2]=0;k[l+12>>2]=0;k[l+16>>2]=e;c&&(i=df(c));k[l>>2]=i;d=d+i|0;k[l+8>>2]=d;k[l+4>>2]=d;k[l+12>>2]=c+i;V=g+16|0;return l}function Ya(d,c){a:{if(!c)break a;c=x(c,6964);if(!c|k[c+8>>2]&(k[d+8>>2]^-1))break a;if(!w(k[d+12>>2],k[c+12>>2],0))break a;return w(k[d+16>>2],k[c+16>>2],0)}return 0}function Lb(e,c){var d;d=V-16|0;V=d;k[d>>2]=e;e=k[e+4>>2];k[d+4>>2]=e;k[d+8>>2]=e+4;k[k[d+4>>2]>>2]=k[c>>2];k[d+4>>2]=k[d+4>>2]+4;k[k[d>>2]+4>>2]=k[d+4>>2];V=d+16|0}function Zc(){var c=0;c=V-16|0;V=c;H(2564,1024,4,0);kf(kf(kf(kf(kf(kf(kf(kf(kf(c+8|0,1043,0),1070,1),1097,2),1130,3),1161,4),1197,5),1233,6),1269,7),1310,8);V=c+16|0}function Qb(){var d,c;d=V-16|0;V=d;k[d+12>>2]=1073741823;k[d+8>>2]=2147483647;c=V-16|0;V=c;V=c+16|0;V=d+16|0;c=d+8|0;d=d+12|0;return k[(fa[c>>2]<fa[d>>2]?c:d)>>2]}function Eb(){var d,c;d=V-16|0;V=d;k[d+12>>2]=357913941;k[d+8>>2]=2147483647;c=V-16|0;V=c;V=c+16|0;V=d+16|0;c=d+8|0;d=d+12|0;return k[(fa[c>>2]<fa[d>>2]?c:d)>>2]}function $c(e,c){var d;d=V-16|0;V=d;k[d>>2]=e;e=k[e+4>>2];k[d+4>>2]=e;k[d+8>>2]=e+1;ca[k[d+4>>2]]=ea[c|0];k[d+4>>2]=k[d+4>>2]+1;k[k[d>>2]+4>>2]=k[d+4>>2];V=d+16|0}function rb(){var d,c;d=V-16|0;V=d;k[d+12>>2]=-1;k[d+8>>2]=2147483647;c=V-16|0;V=c;V=c+16|0;V=d+16|0;c=d+8|0;d=d+12|0;return k[(fa[c>>2]<fa[d>>2]?c:d)>>2]}function ad(i,c,d,e){i=i|0;c=c|0;d=d|0;e=e|0;var g=0;g=V-16|0;V=g;k[g+12>>2]=c;k[g+8>>2]=d;k[g+4>>2]=e;i=ba[i|0](g+12|0,g+8|0,g+4|0)|0;V=g+16|0;return i|0}function bd(g,c){var d=0,e=0;d=g;e=c;a:{if(ea[g+8|0]&24)g=1;else{g=0;if(!c)break a;c=x(c,6804);if(!c)break a;g=(ea[c+8|0]&24)!=0}g=w(d,e,g)}return g}function cd(g,c,d){g=g|0;c=c|0;d=d|0;var e;e=(k[g+4>>2]-k[g>>2]|0)/12|0;if(e>>>0<c>>>0){Fc(g,c-e|0,d);return}e>>>0>c>>>0&&mb(g,k[g>>2]+ga(c,12)|0)}function dd(d){d=d|0;var c=0;c=V-16|0;V=c;k[c+12>>2]=d;d=V-16|0;k[d+8>>2]=k[c+12>>2];k[d+12>>2]=k[k[d+8>>2]+4>>2];d=Fe(k[d+12>>2]);V=c+16|0;return d|0}function ed(i,c,d,e,g,l){i=i|0;c=c|0;d=d|0;e=e|0;g=g|0;l=l|0;if(w(i,k[c+8>>2],l)){Ca(c,d,e,g);return}i=k[i+8>>2];ba[k[k[i>>2]+20>>2]](i,c,d,e,g,l)}function fd(g,c,d){g=g|0;c=c|0;d=d|0;var e;e=k[g+4>>2]-k[g>>2]>>2;if(e>>>0<c>>>0){Gc(g,c-e|0,d);return}e>>>0>c>>>0&&lb(g,k[g>>2]+(c<<2)|0)}function gd(i,c,d,e){var g=0;g=V-16|0;V=g;k[g>>2]=i;i=k[i+4>>2];k[g+4>>2]=i;k[g+8>>2]=ga(e,12)+i;oe(c,d,g+4|0);k[k[g>>2]+4>>2]=k[g+4>>2];V=g+16|0}function hd(e,c){e=e|0;c=c|0;var d=0;d=V-80|0;V=d;Gb(d+8|0,c);ba[e|0](d+24|0,d+8|0);e=Kc(ha(56),d+24|0);kb(d+24|0);y(d+8|0);V=d+80|0;return e|0}function id(i,c,d,e){var g=0;g=V-16|0;V=g;k[g>>2]=i;i=k[i+4>>2];k[g+4>>2]=i;k[g+8>>2]=(e<<2)+i;Oe(c,d,g+4|0);k[k[g>>2]+4>>2]=k[g+4>>2];V=g+16|0}function Ba(m,c,d,e,g,n){var i,o,l;i=k[m+4>>2];o=i>>8;m=k[m>>2];l=m;i&1&&(o=k[k[e>>2]+o>>2]);ba[k[k[m>>2]+20>>2]](l,c,d,e+o|0,i&2?g:2,n)}function jd(g,c,d){g=g|0;c=c|0;d=d|0;var e;e=k[g+4>>2]-k[g>>2]|0;if(e>>>0<c>>>0){Hc(g,c-e|0,d);return}e>>>0>c>>>0&&nb(g,k[g>>2]+c|0)}function kd(i,c,d,e){var g=0;g=V-16|0;V=g;k[g>>2]=i;i=k[i+4>>2];k[g+4>>2]=i;k[g+8>>2]=e+i;Oe(c,d,g+4|0);k[k[g>>2]+4>>2]=k[g+4>>2];V=g+16|0}function ld(l,c,d,e,g){var m,i,n;m=k[l+4>>2];i=m>>8;l=k[l>>2];n=l;m&1&&(i=k[k[d>>2]+i>>2]);ba[k[k[l>>2]+24>>2]](n,c,d+i|0,m&2?e:2,g)}function md(g,c){var d=0,e;d=V-16|0;V=d;k[d+12>>2]=g;e=ha(1);ca[e|0]=ea[c|0];k[k[d+12>>2]>>2]=e;k[d+12>>2]=k[d+12>>2]+8;V=d+16|0;return g}function nd(i,c,d,e){i=i|0;c=c|0;d=d|0;e=e|0;var g,l;g=k[i>>2];i=k[i+4>>2];c=(i>>1)+c|0;l=c;i&1&&(g=k[g+k[c>>2]>>2]);ba[g|0](l,d,e)}function ia(g,c){var d=0,e;if(c)while(1){e=(d<<4)+g|0;ea[e|0]&15||U(k[e+8>>2]);d=d+1|0;if((d|0)!=(c|0))continue;break}U(g)}function Va(g,c){var d=0,e;d=V-16|0;V=d;e=k[c+4>>2];k[d+8>>2]=k[c>>2];k[d+12>>2]=e;T(3008,g|0,2,3088,2748,28,v(d+8|0)|0,0);V=d+16|0}function Ua(g,c){var d=0,e;d=V-16|0;V=d;e=k[c+4>>2];k[d+8>>2]=k[c>>2];k[d+12>>2]=e;T(3008,g|0,3,3096,3108,29,v(d+8|0)|0,0);V=d+16|0}function od(g,c){var d=0,e;d=V-16|0;V=d;e=k[c+4>>2];k[d+8>>2]=k[c>>2];k[d+12>>2]=e;T(3268,g|0,2,3348,2748,41,v(d+8|0)|0,0);V=d+16|0}function wa(g,c){var d=0,e;d=V-16|0;V=d;e=k[c+4>>2];k[d+8>>2]=k[c>>2];k[d+12>>2]=e;T(4660,g|0,2,4772,2748,81,v(d+8|0)|0,0);V=d+16|0}function pd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(4660,1970,2,4780,2748,82,v(c+8|0)|0,0);V=c+16|0}function qd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(3568,3356,3,3740,3108,85,v(c+8|0)|0,0);V=c+16|0}function rd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(3568,3366,4,3760,3776,86,v(c+8|0)|0,0);V=c+16|0}function sd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(3568,3373,2,3784,2748,87,v(c+8|0)|0,0);V=c+16|0}function td(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(4380,3356,3,4552,3108,97,v(c+8|0)|0,0);V=c+16|0}function ud(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(4380,3366,4,4576,3776,98,v(c+8|0)|0,0);V=c+16|0}function vd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(3008,1743,2,3116,2748,30,v(c+8|0)|0,0);V=c+16|0}function wd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(3980,3356,3,4152,3108,91,v(c+8|0)|0,0);V=c+16|0}function xd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(3008,1751,2,3124,2748,31,v(c+8|0)|0,0);V=c+16|0}function yd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(3980,3366,4,4176,3776,92,v(c+8|0)|0,0);V=c+16|0}function zd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(4380,3373,2,4592,2748,99,v(c+8|0)|0,0);V=c+16|0}function Ad(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(3008,1763,3,3132,3108,32,v(c+8|0)|0,0);V=c+16|0}function Bd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(3980,3373,2,4192,2748,93,v(c+8|0)|0,0);V=c+16|0}function Cd(i,d,e,g){i=i|0;d=d|0;e=e|0;g=g|0;var c=0;c=V-32|0;V=c;Gb(c,g);ba[i|0](c+16|0,d,e,c);i=Ma(c+16|0);y(c);V=c+32|0;return i|0}function Dd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(3164,1789,2,3244,2748,36,v(c+8|0)|0,0);V=c+16|0}function Ed(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(2592,1364,2,2712,2748,12,v(c+8|0)|0,0);V=c+16|0}function Fd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(2592,1376,2,2752,2748,13,v(c+8|0)|0,0);V=c+16|0}function Gd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(4660,1392,2,4740,2748,77,v(c+8|0)|0,0);V=c+16|0}function Hd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(4660,1898,2,4748,2748,78,v(c+8|0)|0,0);V=c+16|0}function Id(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(2592,1392,2,2760,2748,14,v(c+8|0)|0,0);V=c+16|0}function Jd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(4660,1912,2,4756,2748,79,v(c+8|0)|0,0);V=c+16|0}function Kd(e){var c=0,d;c=V-16|0;V=c;d=k[e+4>>2];k[c+8>>2]=k[e>>2];k[c+12>>2]=d;T(4660,1927,2,4764,2748,80,v(c+8|0)|0,0);V=c+16|0}function qa(i,c,d){i=i|0;c=c|0;d=d|0;var e,g;e=k[i>>2];i=k[i+4>>2];c=(i>>1)+c|0;g=c;i&1&&(e=k[e+k[c>>2]>>2]);ba[e|0](g,d)}function Ld(e,c,d){e=e|0;c=c|0;d=d|0;e=k[e>>2]+ga(c,12)|0;k[e+8>>2]=k[d+8>>2];c=k[d+4>>2];k[e>>2]=k[d>>2];k[e+4>>2]=c;return 1}function Md(g,c,d,e){g=g|0;c=c|0;d=d|0;e=e|0;if(w(g,k[c+8>>2],0)){Da(c,d,e);return}g=k[g+8>>2];ba[k[k[g>>2]+28>>2]](g,c,d,e)}function Nd(g,c,d){g=g|0;c=c|0;d=d|0;var e;e=ha(12);g=k[g>>2];c=k[c>>2];k[e+8>>2]=k[d>>2];k[e+4>>2]=c;k[e>>2]=g;return e|0}function Na(g,c){g=g|0;c=c|0;var d,e;d=k[g>>2];g=k[g+4>>2];c=(g>>1)+c|0;e=c;g&1&&(d=k[k[c>>2]+d>>2]);return ba[d|0](e)|0}function Od(){var c=0;c=V-16|0;V=c;H(2956,1561,4,0);pa(pa(pa(pa(pa(c+8|0,1573,0),1589,1),1605,2),1631,3),1662,4);V=c+16|0}function ha(d){var c=0;d=d?d:1;a:{while(1){c=z(d);if(c)break a;c=k[1898];if(c){ba[c|0]();continue}break}Sa();q()}return c}function Ja(g,c,d){g=g|0;c=c|0;d=d|0;var e=0;e=V-16|0;V=e;ba[k[g>>2]](e+8|0,c,d);g=qb(e+8|0);pb(e+8|0);V=e+16|0;return g|0}function Pd(g,c){g=g|0;c=c|0;var d=0,e;d=V-16|0;V=d;e=k[c+52>>2];k[d+12>>2]=k[c+48>>2];k[d+8>>2]=e;jb(g,d+8|0);V=d+16|0}function Qd(e,c){var d=0;d=V-16|0;V=d;k[d+12>>2]=e;c=ja(c);k[k[d+12>>2]>>2]=c;k[d+12>>2]=k[d+12>>2]+8;V=d+16|0;return e}function Rd(g,c){g=g|0;c=c|0;var d=0,e;d=V-16|0;V=d;e=k[c+8>>2];k[d+12>>2]=k[c+4>>2];k[d+8>>2]=e;jb(g,d+8|0);V=d+16|0}function mb(e,c){var d;d=k[e+4>>2];if((d|0)!=(c|0))while(1){d=d+-12|0;if((d|0)!=(c|0))continue;break}k[e+4>>2]=c}function nb(e,c){var d;d=k[e+4>>2];if((d|0)!=(c|0))while(1){d=d+-1|0;if((d|0)!=(c|0))continue;break}k[e+4>>2]=c}function lb(e,c){var d;d=k[e+4>>2];if((d|0)!=(c|0))while(1){d=d+-4|0;if((d|0)!=(c|0))continue;break}k[e+4>>2]=c}function Sb(e,c,d){e=e|0;c=c|0;d=d|0;if((k[c+4>>2]-k[c>>2]|0)/12>>>0>d>>>0){Je(e,k[c>>2]+ga(d,12)|0);return}k[e>>2]=1}function Hb(e,c){var d=0;d=c+4|0;ae(k[e>>2],k[e+4>>2],d);B(e,d);B(e+4|0,c+8|0);B(e+8|0,c+12|0);k[c>>2]=k[c+4>>2]}function ub(e,c){var d=0;d=c+4|0;yb(k[e>>2],k[e+4>>2],d);B(e,d);B(e+4|0,c+8|0);B(e+8|0,c+12|0);k[c>>2]=k[c+4>>2]}function Sd(e,c,d){e=e|0;c=c|0;d=d|0;if(k[c+4>>2]-k[c>>2]>>2>>>0>d>>>0){Le(e,k[c>>2]+(d<<2)|0);return}k[e>>2]=1}function Td(g,c){var d=0,e;d=za(c);e=ha(d+13|0);k[e+8>>2]=0;k[e+4>>2]=d;k[e>>2]=d;k[g>>2]=W(e+12|0,c,d+1|0)}function Ud(){var c=0;c=V-16|0;V=c;H(2980,1475,4,0);sa(sa(sa(sa(c+8|0,1488,0),1506,1),1523,2),1542,3);V=c+16|0}function Vd(d,c){if(k[d+8>>2]!=(c|0))while(1){k[d+8>>2]=k[d+8>>2]+-12;if(k[d+8>>2]!=(c|0))continue;break}}function Wd(d,c){if(k[d+8>>2]!=(c|0))while(1){k[d+8>>2]=k[d+8>>2]+-4;if(k[d+8>>2]!=(c|0))continue;break}}function Xd(d,c){if(k[d+8>>2]!=(c|0))while(1){k[d+8>>2]=k[d+8>>2]+-1;if(k[d+8>>2]!=(c|0))continue;break}}function Ma(e){var c,d;c=ha(12);d=k[e+4>>2];k[c>>2]=k[e>>2];k[c+4>>2]=d;k[c+8>>2]=k[e+8>>2];return c}function Yd(e,c,d){e=e|0;c=c|0;d=d|0;if(k[c+4>>2]-k[c>>2]>>>0>d>>>0){Ie(e,k[c>>2]+d|0);return}k[e>>2]=1}function Zd(){var c=0;c=V-16|0;V=c;k[c+12>>2]=4910;Y(7176,k[c+12>>2],4,-2147483648,2147483647);V=c+16|0}function $d(){var c=0;c=V-16|0;V=c;k[c+12>>2]=4927;Y(7200,k[c+12>>2],4,-2147483648,2147483647);V=c+16|0}function oa(d){var c=0;c=M(8)|0;k[c>>2]=6512;k[c>>2]=6556;Td(c+4|0,d);k[c>>2]=6604;Fa(c|0,6636,102);q()}function ae(g,c,d){var e=0;e=d;c=c-g|0;d=k[d>>2]+ga((c|0)/-12|0,12)|0;k[e>>2]=d;(c|0)>=1&&W(d,g,c)}function be(e,c){var d=0;Eb()>>>0<c>>>0&&(la(),q());d=Cb(c);k[e>>2]=d;k[e+4>>2]=d;k[e+8>>2]=ga(c,12)+d}function ce(){var c=0;c=V-16|0;V=c;k[c+12>>2]=76;T(4380,3382,4,4624,2704,101,ja(c+12|0)|0,0);V=c+16|0}function de(e,c){var d;Qb()>>>0<c>>>0&&(la(),q());d=xb(c);k[e>>2]=d;k[e+4>>2]=d;k[e+8>>2]=(c<<2)+d}function ee(){var c=0;c=V-16|0;V=c;k[c+12>>2]=75;T(4380,3378,3,4600,3804,100,ja(c+12|0)|0,0);V=c+16|0}function fe(){var c=0;c=V-16|0;V=c;k[c+12>>2]=67;T(3980,3378,3,4200,3804,94,ja(c+12|0)|0,0);V=c+16|0}function ge(){var c=0;c=V-16|0;V=c;k[c+12>>2]=68;T(3980,3382,4,4224,2704,95,ja(c+12|0)|0,0);V=c+16|0}function B(e,c){var d;d=V-16|0;V=d;k[d+12>>2]=k[e>>2];k[e>>2]=k[c>>2];k[c>>2]=k[d+12>>2];V=d+16|0}function he(){var c=0;c=V-16|0;V=c;k[c+12>>2]=59;T(3568,3378,3,3792,3804,88,ja(c+12|0)|0,0);V=c+16|0}function ie(){var c=0;c=V-16|0;V=c;k[c+12>>2]=60;T(3568,3382,4,3824,2704,89,ja(c+12|0)|0,0);V=c+16|0}function je(e,c){var d;rb()>>>0<c>>>0&&(la(),q());d=df(c);k[e>>2]=d;k[e+4>>2]=d;k[e+8>>2]=c+d}function ke(l,c,d,e,g,i){l=l|0,c=c|0,d=d|0,e=e|0,g=g|0,i=i|0,w(l,k[c+8>>2],i)&&Ca(c,d,e,g)}function le(){var c=0;c=V-16|0;V=c;k[c+12>>2]=4889;Y(7152,k[c+12>>2],2,-32768,32767);V=c+16|0}function me(d){d=d|0;var c=0;c=V-16|0;V=c;k[c+12>>2]=d;d=k[c+12>>2];ib();V=c+16|0;return d|0}function ne(d){var c;c=V-16|0;V=c;k[d>>2]=0;k[d+4>>2]=0;k[c+12>>2]=0;k[d+8>>2]=0;V=c+16|0}function oe(e,c,d){c=c-e|0,(c|0)>=1&&(W(k[d>>2],e,c),k[d>>2]=k[d>>2]+ga((c>>>0)/12|0,12))}function pe(d){var c;d=k[d>>2]+-12|0;c=k[d+8>>2]+-1|0;k[d+8>>2]=c;(c|0)<=-1&&U(d)}function hb(e,c){e=e|0;c=c|0;var d=0;d=V-16|0;V=d;ba[e|0](d,c);e=Ma(d);V=d+16|0;return e|0}function qe(){var c=0;c=V-16|0;V=c;k[c+12>>2]=4858;Y(7096,k[c+12>>2],1,-128,127);V=c+16|0}function re(){var c=0;c=V-16|0;V=c;k[c+12>>2]=4863;Y(7140,k[c+12>>2],1,-128,127);V=c+16|0}function se(){var c=0;c=V-16|0;V=c;k[c+12>>2]=4895;Y(7164,k[c+12>>2],2,0,65535);V=c+16|0}function te(e,c){var d;d=z(1);if(!d)return 3;ca[d|0]=2;k[e>>2]=d;k[c>>2]=1;return 0}function ue(){var c=0;c=V-16|0;V=c;k[c+12>>2]=4875;Y(7128,k[c+12>>2],1,0,255);V=c+16|0}function yb(g,c,d){var e;e=d;c=c-g|0;d=k[d>>2]-c|0;k[e>>2]=d;(c|0)>=1&&W(d,g,c)}function ve(){var c=0;c=V-16|0;V=c;k[c+12>>2]=4914;Y(7188,k[c+12>>2],4,0,-1);V=c+16|0}function we(){var c=0;c=V-16|0;V=c;k[c+12>>2]=4932;Y(7212,k[c+12>>2],4,0,-1);V=c+16|0}function v(e){var c,d;c=ha(8);d=k[e+4>>2];k[c>>2]=k[e>>2];k[c+4>>2]=d;return c}function xe(){var c=0;c=V-16|0;V=c;k[c+12>>2]=4946;J(7224,k[c+12>>2],4);V=c+16|0}function ye(){var c=0;c=V-16|0;V=c;k[c+12>>2]=4952;J(7236,k[c+12>>2],8);V=c+16|0}function ze(){var c=0;c=V-16|0;V=c;k[c+12>>2]=5063;Z(2464,0,k[c+12>>2]);V=c+16|0}function Ae(){var c=0;c=V-16|0;V=c;k[c+12>>2]=5307;Z(6272,4,k[c+12>>2]);V=c+16|0}function Be(){var c=0;c=V-16|0;V=c;k[c+12>>2]=5337;Z(6312,5,k[c+12>>2]);V=c+16|0}function Ce(){var c=0;c=V-16|0;V=c;k[c+12>>2]=5575;Z(6352,6,k[c+12>>2]);V=c+16|0}function De(){var c=0;c=V-16|0;V=c;k[c+12>>2]=5606;Z(6392,7,k[c+12>>2]);V=c+16|0}function Ee(d){d=d|0;var c=0;c=V-16|0;V=c;ba[d|0](c);d=Ma(c);V=c+16|0;return d|0}function Fe(e){var c=0,d;c=za(e)+1|0;d=z(c);return!d?0:W(d,e,c)}function Ge(d){var c;c=d&31;d=0-d&31;return(-1>>>c&-2)<<c|(-1<<d&-2)>>>d}function gb(d){var c=0;c=V-16|0;V=c;k[c+12>>2]=d;Z(6032,0,k[c+12>>2]);V=c+16|0}function fb(d){var c=0;c=V-16|0;V=c;k[c+12>>2]=d;Z(6072,1,k[c+12>>2]);V=c+16|0}function eb(d){var c=0;c=V-16|0;V=c;k[c+12>>2]=d;Z(6112,2,k[c+12>>2]);V=c+16|0}function db(d){var c=0;c=V-16|0;V=c;k[c+12>>2]=d;Z(6152,3,k[c+12>>2]);V=c+16|0}function cb(d){var c=0;c=V-16|0;V=c;k[c+12>>2]=d;Z(6192,4,k[c+12>>2]);V=c+16|0}function bb(d){var c=0;c=V-16|0;V=c;k[c+12>>2]=d;Z(6232,5,k[c+12>>2]);V=c+16|0}function He(g,c,d,e){g=g|0,c=c|0,d=d|0,e=e|0,w(g,k[c+8>>2],0)&&Da(c,d,e)}function Ie(e,c){var d=0;d=V-16|0;V=d;k[e>>2]=E(3268,md(d+8|0,c)|0);V=d+16|0}function Je(e,c){var d=0;d=V-16|0;V=d;k[e>>2]=E(3008,Nc(d+8|0,c)|0);V=d+16|0}function Ke(d,c){d=d|0;c=c|0;if(k[d+4>>2]!=k[d+8>>2]){$c(d,c);return}Kb(d,c)}function jb(e,c){var d=0;d=V-16|0;V=d;k[e>>2]=E(2464,Lc(d+8|0,c)|0);V=d+16|0}function Le(e,c){var d=0;d=V-16|0;V=d;k[e>>2]=E(3164,Qd(d+8|0,c)|0);V=d+16|0}function Me(d,c){d=d|0;c=c|0;if(k[d+4>>2]!=k[d+8>>2]){Lb(d,c);return}Sc(d,c)}function Ne(d,c){d=d|0;c=c|0;if(k[d+4>>2]!=k[d+8>>2]){Ob(d,c);return}Mb(d,c)}function Oe(e,c,d){c=c-e|0,(c|0)>=1&&(W(k[d>>2],e,c),k[d>>2]=k[d>>2]+c)}function Pe(e,c,d){e=e|0;c=c|0;d=d|0;k[k[e>>2]+(c<<2)>>2]=k[d>>2];return 1}function Qe(){Zc(),lc(),Ud(),Od(),hc(),Vc(),yc(),gc(),kc(),ba[103](7585)|0}function Ia(g,c,d,e){g=g|0;c=c|0;d=d|0;e=e|0;return ba[k[g>>2]](c,d,e)|0}function Re(){var c=0;c=V-16|0;V=c;A(2006,2,4788,2748,83,52);V=c+16|0}function Se(){var c=0;c=V-16|0;V=c;D(3568,1,3736,2672,84,55);V=c+16|0}function Rb(e,c){var d=0;d=V-16|0;V=d;ab(e,c,za(c));V=d+16|0;return e}function Te(){var c=0;c=V-16|0;V=c;A(1455,2,2932,2748,18,10);V=c+16|0}function Ue(){var c=0;c=V-16|0;V=c;D(4380,1,4548,2672,96,71);V=c+16|0}function Ve(){var c=0;c=V-16|0;V=c;D(3980,1,4148,2672,90,63);V=c+16|0}function We(){var c=0;c=V-16|0;V=c;A(1417,2,2920,2748,16,8);V=c+16|0}function Xe(){var c=0;c=V-16|0;V=c;A(1435,1,2928,2672,17,9);V=c+16|0}function Ye(){var c=0;c=V-16|0;V=c;D(2592,4,2688,2704,11,3);V=c+16|0}function Ze(){var c=0;c=V-16|0;V=c;A(1398,4,2768,2704,15,7);V=c+16|0}function $e(e,c,d){e=e|0;c=c|0;d=d|0;ca[k[e>>2]+c|0]=ea[d|0];return 1}function Gb(e,c){var d=0;d=V-16|0;V=d;ab(e,c+4|0,k[c>>2]);V=d+16|0}function Cb(c){357913941<c>>>0&&(oa(2472),q());return ha(ga(c,12))}function xb(c){1073741823<c>>>0&&(oa(2472),q());return ha(c<<2)}function af(d,c){if(fa[d+4>>2]<fa[d+8>>2]){Ob(d,c);return}Mb(d,c)}function bf(d,c){if(fa[d+4>>2]<fa[d+8>>2]){Lb(d,c);return}Sc(d,c)}function cf(d,c){if(fa[d+4>>2]<fa[d+8>>2]){$c(d,c);return}Kb(d,c)}function df(c){4294967295<c>>>0&&(oa(2472),q());return ha(c)}function La(c){k[c>>2]&&(nb(c,k[c>>2]),U(k[c>>2]));return c}function ef(c){k[c>>2]&&(mb(c,k[c>>2]),U(k[c>>2]));return c}function Ha(c){k[c>>2]&&(lb(c,k[c>>2]),U(k[c>>2]));return c}function ja(d){var c;c=ha(4);k[c>>2]=k[d>>2];return c}function kb(c){La(c+32|0);Ha(c+20|0);ef(c+8|0);return c}function $a(e,c,d){e=e|0;c=c|0;d|0;return w(e,c,0)|0}function Fb(c){Vd(c,k[c+4>>2]),k[c>>2]&&U(k[c>>2])}function zb(c){Wd(c,k[c+4>>2]),k[c>>2]&&U(k[c>>2])}function sb(c){Xd(c,k[c+4>>2]),k[c>>2]&&U(k[c>>2])}function Ea(c){c=c|0;k[c>>2]=6556;pe(c+4|0);return c|0}function Tb(c){c=c|0;return(k[c+4>>2]-k[c>>2]|0)/12|0}function ff(d,c){d=d|0,c=c|0,ca[d|0]=ea[d|0]&254|c&1}function gf(d,c){d=d|0,c=c|0,ca[d|0]=ca[d|0]&1|c<<1}function hf(c){c=c|0;return k[c+4>>2]-k[c>>2]>>2}function jf(c){c=c|0;return k[c+4>>2]-k[c>>2]|0}function y(c){ea[c+11|0]>>>7|0&&U(k[c>>2])}function pa(e,c,d){G(2956,c|0,d|0);return e}function kf(e,c,d){G(2564,c|0,d|0);return e}function ua(e,c,d){G(4840,c|0,d|0);return e}function sa(e,c,d){G(2980,c|0,d|0);return e}function K(d,c){F(d|0,2896,+(zc(c)>>>0))}function lf(d,c){d=d|0,c=c|0,Rc(d,c+20|0)}function mf(d,c){d=d|0,c=c|0,Tc(d,c+32|0)}function qb(c){R(k[c>>2]);return k[c>>2]}function nf(d,c){d=d|0,c=c|0,k[d+8>>2]=c}function of(d,c){d=d|0,c=c|0,Oc(d,c+8|0)}function Ta(c){c=c|0;return ea[c|0]>>>1|0}function pf(c){c=c|0;return k[c+52>>2]}function Ka(c){c=c|0;return ba[c|0]()|0}function qf(c){c=c|0;return k[c+44>>2]}function rf(c){c=c|0,c&&U(La(c))}function sf(c){c=c|0,c&&U(Ha(c))}function tf(c){c=c|0,c&&U(ef(c))}function Pa(c){c=c|0;return k[c+4>>2]}function Db(c){c=c|0;return k[c+8>>2]}function uf(c){c=c|0,c&&U(kb(c))}function Wa(c){c=c|0;return ca[c|0]&1}function tb(c){c=c|0;return k[c>>2]}function vf(c){c=c|0;return ea[c|0]}function Ga(c){return ta(ha(12),c)}function xa(c){c=c|0,c&&U(c)}function wf(c){c|0;return q()|0}function va(){return ra(ha(12))|0}function xf(c){c|0;return 3568}function yf(c){c|0;return 2592}function zf(c){c|0;return 4380}function Af(c){c|0;return 3980}function Bf(c){c|0;return 3008}function Cf(c){c|0;return 3164}function Df(c){c|0;return 3268}function Ef(c){c|0;return 4660}function Ff(c){c|0;return 6488}function Gf(c){c=c|0,Ea(c),U(c)}function Qa(c){c=c|0;return c|0}function Hf(c){c=c|0,U(Ea(c))}function ra(c){ne(c);return c}function la(){oa(6481),q()}function ka(c){c=c|0,U(c)}function pb(c){Q(k[c>>2])}function Pb(c){c|0}ba[1]=yf;ba[2]=xa;ba[3]=Nd;ba[4]=Rd;ba[5]=Db;ba[6]=tb;ba[7]=uc;ba[8]=Ic;ba[9]=Mc;ba[10]=Jc;ba[11]=ad;ba[12]=Oa;ba[13]=na;ba[14]=Na;ba[15]=Cd;ba[16]=hb;ba[17]=Ee;ba[18]=hb;ba[19]=Bf;ba[20]=xa;ba[21]=Wa;ba[22]=ff;ba[23]=Ta;ba[24]=gf;ba[25]=Rd;ba[26]=Db;ba[27]=nf;ba[28]=ob;ba[29]=qa;ba[30]=Oa;ba[31]=na;ba[32]=qa;ba[33]=Cf;ba[34]=xa;ba[35]=vf;ba[36]=Na;ba[37]=Df;ba[38]=xa;ba[39]=Wa;ba[40]=Ta;ba[41]=ob;ba[42]=Ef;ba[43]=uf;ba[44]=tb;ba[45]=of;ba[46]=lf;ba[47]=mf;ba[48]=Pa;ba[49]=qf;ba[50]=Pd;ba[51]=pf;ba[52]=mc;ba[53]=xf;ba[54]=rf;ba[55]=va;ba[56]=Ke;ba[57]=jd;ba[58]=jf;ba[59]=Yd;ba[60]=$e;ba[61]=Af;ba[62]=tf;ba[63]=va;ba[64]=Ne;ba[65]=cd;ba[66]=Tb;ba[67]=Sb;ba[68]=Ld;ba[69]=zf;ba[70]=sf;ba[71]=va;ba[72]=Me;ba[73]=fd;ba[74]=hf;ba[75]=Sd;ba[76]=Pe;ba[77]=Na;ba[78]=Wc;ba[79]=Xc;ba[80]=Yc;ba[81]=na;ba[82]=Oa;ba[83]=hd;ba[84]=Ka;ba[85]=qa;ba[86]=nd;ba[87]=na;ba[88]=Ja;ba[89]=Ia;ba[90]=Ka;ba[91]=qa;ba[92]=nd;ba[93]=na;ba[94]=Ja;ba[95]=Ia;ba[96]=Ka;ba[97]=qa;ba[98]=nd;ba[99]=na;ba[100]=Ja;ba[101]=Ia;ba[102]=Ea;ba[103]=me;ba[104]=Qa;ba[105]=ka;ba[106]=Ff;ba[107]=Hf;ba[108]=Pa;ba[109]=Gf;ba[110]=Qa;ba[111]=ka;ba[112]=Pb;ba[113]=Pb;ba[114]=$a;ba[115]=ka;ba[116]=$a;ba[117]=ka;ba[118]=rc;ba[119]=ke;ba[120]=qc;ba[121]=He;ba[122]=ka;ba[123]=ed;ba[124]=jc;ba[125]=Md;ba[126]=ka;ba[127]=ic;ba[128]=dc;ba[129]=Ac;ba[130]=ka;ba[131]=fc;function S(){return Ub.byteLength/65536|0}return{z:Qe,A:U,B:z,C:dd,D:ib,E:wf}}var d=new Uint8Array(k.buffer);for(var C=new Uint8Array(123),g=25;g>=0;--g)C[48+g]=52+g,C[65+g]=g,C[97+g]=26+g;C[43]=62;C[47]=63;function e(g,i,k){var l,n,e=0,c=i,d=k.length;i=i+(d*3>>2)-(k[d-2]=="=")-(k[d-1]=="=");for(;e<d;e+=4)l=C[k.charCodeAt(e+1)],n=C[k.charCodeAt(e+2)],g[c++]=C[k.charCodeAt(e)]<<2|l>>4,c<i&&(g[c++]=l<<4|n>>2),c<i&&(g[c++]=n<<6|C[k.charCodeAt(e+3)])}e(d,1024,"RGd3Q29kZWNSZXR1cm5Db2RlAERnd0NvZGVjUmV0dXJuQ29kZV9TdWNjZXNzAERnd0NvZGVjUmV0dXJuQ29kZV9GYWlsdXJlAERnd0NvZGVjUmV0dXJuQ29kZV9Ob3RFbm91Z2hEYXRhAERnd0NvZGVjUmV0dXJuQ29kZV9PdXRPZk1lbW9yeQBEZ3dDb2RlY1JldHVybkNvZGVfQWNrSWRPdXRPZkJvdW5kcwBEZ3dDb2RlY1JldHVybkNvZGVfSW52YWxpZFBhcmFtZXRlcgBEZ3dDb2RlY1JldHVybkNvZGVfSW52YWxpZEZyYW1lVHlwZQBEZ3dDb2RlY1JldHVybkNvZGVfSW52YWxpZEFja0ZyYW1lTGVuZ3RoAERnd0NvZGVjUmV0dXJuQ29kZV9JbnZhbGlkRHJhaW5SZWFzb24ARW5jb2RlREdXUmVzdWx0AGdldFJhd0ZyYW1lAGdldFJhd0ZyYW1lU2l6ZQBnZXRSYwBlbmNvZGVER1dEYXRhRnJhbWUAZW5jb2RlREdXQWNrRnJhbWUAZW5jb2RlREdXRW1wdHlGcmFtZQBlbmNvZGVER1dEcmFpbkZyYW1lAERnd0ZyYW1lVHlwZQBEZ3dGcmFtZVR5cGVfRGF0YQBEZ3dGcmFtZVR5cGVfQWNrAERnd0ZyYW1lVHlwZV9FbXB0eQBEZ3dGcmFtZVR5cGVfRHJhaW4ARHJhaW5SZWFzb24ARHJhaW5SZWFzb25fRUxCAERyYWluUmVhc29uX1NMQgBEcmFpblJlYXNvbl9BcHBTZXJ2ZXJQdXNoAERyYWluUmVhc29uX0dyYWNlUGVyaW9kRXhwaXJlZABEcmFpblJlYXNvbl9Vbmtub3duAERHV0RhdGFGcmFtZQBnZXRSZXF1aXJlc0FjawBzZXRSZXF1aXJlc0FjawBnZXRBY2tJZABzZXRBY2tJZABnZXREYXRhAGdldERhdGFTaXplAHNldERhdGFTaXplAERHV0RyYWluRnJhbWUAZ2V0RHJhaW5SZWFzb24AREdXQWNrRnJhbWUAZ2V0UmVzZXJ2ZWQAREdXQWNrRnJhbWVKU1ZlYwBER1dEYXRhRnJhbWVKU1ZlYwBER1dEcmFpbkZyYW1lSlNWZWMARGVjb2RlREdXUmVzdWx0AGdldERhdGFGcmFtZXMAZ2V0RHJhaW5GcmFtZXMAZ2V0QWNrRnJhbWVzAGdldEZyYW1lTGVuZ3RoAGdldENvdW50RnJhbWVzAGdldEJ1ZlJlbWFpbmRlcgBnZXRCdWZSZW1haW5kZXJTaXplAGRlY29kZURHV0ZyYW1lAERHV1ZlcnNpb25zAERHV1ZFUl9HRU5FU0lTAERHV1ZFUl9QUkVGSVhFRF9BUFBfSEVBREVSUwBER1dWRVJfSEFORExFU19ER1dfRFJBSU5fRlJBTUUAREdXVkVSX0hBTkRMRVNfREdXX0RFQVVUSF9GUkFNRQBBUFBIRUFERVJfUFJFRklYAHgtZGd3LWFwcC0ASEVBREVSX0FQUElEAHgtZGd3LWFwcGlkAEhFQURFUl9BUFBWRVJTSU9OAHgtZGd3LWFwcHZlcnNpb24ASEVBREVSX0FVVEhUWVBFAHgtZGd3LWF1dGh0eXBlAEhFQURFUl9BVVRIVE9LRU4AQXV0aG9yaXphdGlvbgBIRUFERVJfREdXX1ZFUlNJT04AeC1kZ3ctdmVyc2lvbgBIRUFERVJfTE9HR0lOR19JRAB4LWRndy1sb2dnaW5naWQASEVBREVSX1RBUkdFVF9USUVSAHgtZGd3LXRpZXIASEVBREVSX1VVSUQAeC1kZ3ctdXVpZABER1dfQ0xJRU5UX1ZFUlNJT04AAwAAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWNFRQAAoBwAAIAJAABhbGxvY2F0b3I8VD46OmFsbG9jYXRlKHNpemVfdCBuKSAnbicgZXhjZWVkcyBtYXhpbXVtIHN1cHBvcnRlZCBzaXplADE4RGd3Q29kZWNSZXR1cm5Db2RlAAAAAFQcAADsCQAAMTVFbmNvZGVER1dSZXN1bHQAAACgHAAADAoAAFAxNUVuY29kZURHV1Jlc3VsdAAAgB0AACgKAAAAAAAAIAoAAFBLMTVFbmNvZGVER1dSZXN1bHQAgB0AAEwKAAABAAAAIAoAAGlpAHYAdmk=");e(d,2688,"PAoAAAQKAADEGwAALBwAAGlpaWlpAAAAtAoAAGAKAABOMTBlbXNjcmlwdGVuM3ZhbEUAAKAcAACgCgAAaWlpACwcAAA8CgAABAoAAGAKAAAgCgAArBsAANgbAABQCwAATlN0M19fMjEyYmFzaWNfc3RyaW5nSWNOU18xMWNoYXJfdHJhaXRzSWNFRU5TXzlhbGxvY2F0b3JJY0VFRUUATlN0M19fMjIxX19iYXNpY19zdHJpbmdfY29tbW9uSUxiMUVFRQAAAACgHAAAHwsAACQdAADgCgAAAAAAAAEAAABICwAAAAAAACAKAADYGwAAIAoAACAKAACMCwAAMTFEcmFpblJlYXNvbgAAAFQcAAB8CwAAMTJEZ3dGcmFtZVR5cGUAAFQcAACUCwAAMTRER1dEYXRhRnJhbWVKUwAAAACgHAAArAsAAFAxNERHV0RhdGFGcmFtZUpTAAAAgB0AAMgLAAAAAAAAwAsAAFBLMTRER1dEYXRhRnJhbWVKUwAAgB0AAOwLAAABAAAAwAsAANgbAAAADAAAlBsAANwLAADYGwAAdmlpaQAAAAC0CgAAAAwAABQcAAAADAAAlBsAANwLAAAUHAAAMTVER1dEcmFpbkZyYW1lSlMAAACgHAAASAwAAFAxNURHV0RyYWluRnJhbWVKUwAAgB0AAGQMAAAAAAAAXAwAAFBLMTVER1dEcmFpbkZyYW1lSlMAgB0AAIgMAAABAAAAXAwAAIwLAACcDAAAMTNER1dBY2tGcmFtZUpTAKAcAAC0DAAAUDEzREdXQWNrRnJhbWVKUwAAAACAHQAAzAwAAAAAAADEDAAAUEsxM0RHV0Fja0ZyYW1lSlMAAACAHQAA8AwAAAEAAADEDAAA2BsAAAQNAABwdXNoX2JhY2sAcmVzaXplAHNpemUAZ2V0AHNldABOU3QzX18yNnZlY3RvckkxM0RHV0Fja0ZyYW1lSlNOU185YWxsb2NhdG9ySVMxX0VFRUUATlN0M19fMjEzX192ZWN0b3JfYmFzZUkxM0RHV0Fja0ZyYW1lSlNOU185YWxsb2NhdG9ySVMxX0VFRUUATlN0M19fMjIwX192ZWN0b3JfYmFzZV9jb21tb25JTGIxRUVFAACgHAAAqg0AACQdAABuDQAAAAAAAAEAAADQDQAAAAAAACQdAAA6DQAAAAAAAAEAAADYDQAAAAAAAFBOU3QzX18yNnZlY3RvckkxM0RHV0Fja0ZyYW1lSlNOU185YWxsb2NhdG9ySVMxX0VFRUUAAAAAgB0AAAgOAAAAAAAA8A0AAFBLTlN0M19fMjZ2ZWN0b3JJMTNER1dBY2tGcmFtZUpTTlNfOWFsbG9jYXRvcklTMV9FRUVFAAAAgB0AAFAOAAABAAAA8A0AAEAOAACUGwAAQA4AAMQM");e(d,3760,"lBsAAEAOAAAsHAAAxAwAAHZpaWlpAAAALBwAAIgOAAC0CgAA8A0AACwcAABpaWlp");e(d,3824,"rBsAAPANAAAsHAAAxAwAAE5TdDNfXzI2dmVjdG9ySTE0REdXRGF0YUZyYW1lSlNOU185YWxsb2NhdG9ySVMxX0VFRUUATlN0M19fMjEzX192ZWN0b3JfYmFzZUkxNERHV0RhdGFGcmFtZUpTTlNfOWFsbG9jYXRvcklTMV9FRUVFAAAAJB0AADUPAAAAAAAAAQAAANANAAAAAAAAJB0AAAAPAAAAAAAAAQAAAHQPAAAAAAAAUE5TdDNfXzI2dmVjdG9ySTE0REdXRGF0YUZyYW1lSlNOU185YWxsb2NhdG9ySVMxX0VFRUUAAACAHQAApA8AAAAAAACMDwAAUEtOU3QzX18yNnZlY3RvckkxNERHV0RhdGFGcmFtZUpTTlNfOWFsbG9jYXRvcklTMV9FRUVFAACAHQAA7A8AAAEAAACMDwAA3A8AAJQbAADcDwAAwAs=");e(d,4176,"lBsAANwPAAAsHAAAwAsAACwcAAAkEAAAtAoAAIwPAAAsHA==");e(d,4224,"rBsAAIwPAAAsHAAAwAsAAE5TdDNfXzI2dmVjdG9ySTE1REdXRHJhaW5GcmFtZUpTTlNfOWFsbG9jYXRvcklTMV9FRUVFAE5TdDNfXzIxM19fdmVjdG9yX2Jhc2VJMTVER1dEcmFpbkZyYW1lSlNOU185YWxsb2NhdG9ySVMxX0VFRUUAJB0AAMYQAAAAAAAAAQAAANANAAAAAAAAJB0AAJAQAAAAAAAAAQAAAAQRAAAAAAAAUE5TdDNfXzI2dmVjdG9ySTE1REdXRHJhaW5GcmFtZUpTTlNfOWFsbG9jYXRvcklTMV9FRUVFAACAHQAANBEAAAAAAAAcEQAAUEtOU3QzX18yNnZlY3RvckkxNURHV0RyYWluRnJhbWVKU05TXzlhbGxvY2F0b3JJUzFfRUVFRQCAHQAAfBEAAAEAAAAcEQAAbBEAAJQbAABsEQAAXAw=");e(d,4576,"lBsAAGwRAAAsHAAAXAwAACwcAAC0EQAAtAoAABwRAAAsHA==");e(d,4624,"rBsAABwRAAAsHAAAXAwAADE1RGVjb2RlREdXUmVzdWx0AAAAoBwAACASAABQMTVEZWNvZGVER1dSZXN1bHQAAIAdAAA8EgAAAAAAADQSAABQSzE1RGVjb2RlREdXUmVzdWx0AIAdAABgEgAAAQAAADQSAAAECgAAdBIAAIwPAAB0EgAAHBEAAHQSAADwDQAAdBIAACwcAAB0EgAAtAoAAHQSAAA0EgAAUAsAAE44ZmFjZWJvb2s5ZGlzdHJpYmd3NmNvbW1vbjExREdXVmVyc2lvbnNFAAAAVBwAALwSAAB2b2lkAGJvb2wAY2hhcgBzaWduZWQgY2hhcgB1bnNpZ25lZCBjaGFyAHNob3J0AHVuc2lnbmVkIHNob3J0AGludAB1bnNpZ25lZCBpbnQAbG9uZwB1bnNpZ25lZCBsb25nAGZsb2F0AGRvdWJsZQBzdGQ6OnN0cmluZwBzdGQ6OmJhc2ljX3N0cmluZzx1bnNpZ25lZCBjaGFyPgBzdGQ6OndzdHJpbmcAc3RkOjp1MTZzdHJpbmcAc3RkOjp1MzJzdHJpbmcAZW1zY3JpcHRlbjo6dmFsAGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNpZ25lZCBjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgc2hvcnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgaW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludDE2X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQzMl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8ZmxvYXQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGRvdWJsZT4ATlN0M19fMjEyYmFzaWNfc3RyaW5nSWhOU18xMWNoYXJfdHJhaXRzSWhFRU5TXzlhbGxvY2F0b3JJaEVFRUUAAAAAJB0AAAYWAAAAAAAAAQAAAEgLAAAAAAAATlN0M19fMjEyYmFzaWNfc3RyaW5nSXdOU18xMWNoYXJfdHJhaXRzSXdFRU5TXzlhbGxvY2F0b3JJd0VFRUUAACQdAABgFgAAAAAAAAEAAABICwAAAAAAAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0lEc05TXzExY2hhcl90cmFpdHNJRHNFRU5TXzlhbGxvY2F0b3JJRHNFRUVFAAAAJB0AALgWAAAAAAAAAQAAAEgLAAAAAAAATlN0M19fMjEyYmFzaWNfc3RyaW5nSURpTlNfMTFjaGFyX3RyYWl0c0lEaUVFTlNfOWFsbG9jYXRvcklEaUVFRUUAAAAkHQAAFBcAAAAAAAABAAAASAsAAAAAAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lhRUUAAKAcAABwFwAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJaEVFAACgHAAAmBcAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SXNFRQAAoBwAAMAXAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0l0RUUAAKAcAADoFwAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJaUVFAACgHAAAEBgAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWpFRQAAoBwAADgYAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lsRUUAAKAcAABgGAAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJbUVFAACgHAAAiBgAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWZFRQAAoBwAALAYAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lkRUUAAKAcAADYGAAAYmFzaWNfc3RyaW5nAGFsbG9jYXRvcjxUPjo6YWxsb2NhdGUoc2l6ZV90IG4pICduJyBleGNlZWRzIG1heGltdW0gc3VwcG9ydGVkIHNpemUAdmVjdG9yAHN0ZDo6ZXhjZXB0aW9uAAAAAAAAjBkAAGgAAABpAAAAagAAAFN0OWV4Y2VwdGlvbgAAAACgHAAAfBkAAAAAAAC4GQAAZgAAAGsAAABsAAAAU3QxMWxvZ2ljX2Vycm9yAMgcAACoGQAAjBkAAAAAAADsGQAAZgAAAG0AAABsAAAAU3QxMmxlbmd0aF9lcnJvcgAAAADIHAAA2BkAALgZAABTdDl0eXBlX2luZm8AAAAAoBwAAPgZAABOMTBfX2N4eGFiaXYxMTZfX3NoaW1fdHlwZV9pbmZvRQAAAADIHAAAEBoAAAgaAABOMTBfX2N4eGFiaXYxMTdfX2NsYXNzX3R5cGVfaW5mb0UAAADIHAAAQBoAADQaAABOMTBfX2N4eGFiaXYxMTdfX3BiYXNlX3R5cGVfaW5mb0UAAADIHAAAcBoAADQaAABOMTBfX2N4eGFiaXYxMTlfX3BvaW50ZXJfdHlwZV9pbmZvRQDIHAAAoBoAAJQaAABOMTBfX2N4eGFiaXYxMjBfX2Z1bmN0aW9uX3R5cGVfaW5mb0UAAAAAyBwAANAaAAA0GgAATjEwX19jeHhhYml2MTI5X19wb2ludGVyX3RvX21lbWJlcl90eXBlX2luZm9FAAAAyBwAAAQbAACUGgAAAAAAAIQbAABuAAAAbwAAAHAAAABxAAAAcgAAAE4xMF9fY3h4YWJpdjEyM19fZnVuZGFtZW50YWxfdHlwZV9pbmZvRQDIHAAAXBsAADQaAAB2AAAASBsAAJAbAABEbgAASBsAAJwbAABiAAAASBsAAKgbAABjAAAASBsAALQbAABQYwAAgB0AAMAbAAAAAAAAuBsAAGgAAABIGwAA1BsAAGEAAABIGwAA4BsAAHMAAABIGwAA7BsAAHQAAABIGwAA+BsAAGkAAABIGwAABBwAAGoAAABIGwAAEBwAAGwAAABIGwAAHBwAAG0AAABIGwAAKBwAAGYAAABIGwAANBwAAGQAAABIGwAAQBwAAAAAAACMHAAAbgAAAHMAAABwAAAAcQAAAHQAAABOMTBfX2N4eGFiaXYxMTZfX2VudW1fdHlwZV9pbmZvRQAAAADIHAAAaBwAADQaAAAAAAAAZBoAAG4AAAB1AAAAcAAAAHEAAAB2AAAAdwAAAHgAAAB5AAAAAAAAABAdAABuAAAAegAAAHAAAABxAAAAdgAAAHsAAAB8AAAAfQAAAE4xMF9fY3h4YWJpdjEyMF9fc2lfY2xhc3NfdHlwZV9pbmZvRQAAAADIHAAA6BwAAGQaAAAAAAAAbB0AAG4AAAB+AAAAcAAAAHEAAAB2AAAAfwAAAIAAAACBAAAATjEwX19jeHhhYml2MTIxX192bWlfY2xhc3NfdHlwZV9pbmZvRQAAAMgcAABEHQAAZBoAAAAAAADEGgAAbgAAAIIAAABwAAAAcQAAAIM=");e(d,7572,"sB9Q");return q({Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:Infinity,Math:Math},i,k.buffer)}(Nb,D,E)}function ja(){return{then:function(c){c({instance:new ia()})}}}var ka=Error,C={};A=[];"object"!==typeof C&&L("no native wasm support detected");var D,E=new(function(c){var d=Array(c.initial);d.set=function(c,e){d[c]=e};d.get=function(c){return d[c]};return d})({initial:132,maximum:132,element:"anyfunc"}),la=!1;function ma(c,d){c||L("Assertion failed: "+d)}var na="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function oa(c,d,e){var g=G;if(0<e){e=d+e-1;for(var i=0;i<c.length;++i){var k=c.charCodeAt(i);if(55296<=k&&57343>=k){var l=c.charCodeAt(++i);k=65536+((k&1023)<<10)|l&1023}if(127>=k){if(d>=e)break;g[d++]=k}else{if(2047>=k){if(d+1>=e)break;g[d++]=192|k>>6}else{if(65535>=k){if(d+2>=e)break;g[d++]=224|k>>12}else{if(d+3>=e)break;g[d++]=240|k>>18;g[d++]=128|k>>12&63}g[d++]=128|k>>6&63}g[d++]=128|k&63}}g[d]=0}}var pa="undefined"!==typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function qa(c,d){var e=c>>1;for(var g=e+d/2;!(e>=g)&&xa[e];)++e;e<<=1;if(32<e-c&&pa)return pa.decode(G.subarray(c,e));e=0;for(g="";;){var i=H[c+2*e>>1];if(0==i||e==d/2)return g;++e;g+=String.fromCharCode(i)}}function ra(c,d,e){void 0===e&&(e=2147483647);if(2>e)return 0;e-=2;var g=d;e=e<2*c.length?e/2:c.length;for(var i=0;i<e;++i)H[d>>1]=c.charCodeAt(i),d+=2;H[d>>1]=0;return d-g}function sa(c){return 2*c.length}function ta(c,d){for(var e=0,g="";!(e>=d/4);){var i=I[c+4*e>>2];if(0==i)break;++e;65536<=i?(i-=65536,g+=String.fromCharCode(55296|i>>10,56320|i&1023)):g+=String.fromCharCode(i)}return g}function ua(c,d,e){void 0===e&&(e=2147483647);if(4>e)return 0;var g=d;e=g+e-4;for(var i=0;i<c.length;++i){var k=c.charCodeAt(i);if(55296<=k&&57343>=k){var l=c.charCodeAt(++i);k=65536+((k&1023)<<10)|l&1023}I[d>>2]=k;d+=4;if(d+4>e)break}I[d>>2]=0;return d-g}function va(c){for(var d=0,e=0;e<c.length;++e){var g=c.charCodeAt(e);55296<=g&&57343>=g&&++e;d+=4}return d}var wa,F,G,H,xa,I,J,ya,za,K=i.INITIAL_MEMORY||16777216;i.wasmMemory?D=i.wasmMemory:D=new B();D&&(wa=D.buffer);K=wa.byteLength;t=wa;wa=t;i.HEAP8=F=new Int8Array(t);i.HEAP16=H=new Int16Array(t);i.HEAP32=I=new Int32Array(t);i.HEAPU8=G=new Uint8Array(t);i.HEAPU16=xa=new Uint16Array(t);i.HEAPU32=J=new Uint32Array(t);i.HEAPF32=ya=new Float32Array(t);i.HEAPF64=za=new Float64Array(t);var Aa=[],Ba=[],Ca=[],Da=[];function Ea(){var c=i.preRun.shift();Aa.unshift(c)}var Fa=0,Ga=null,Ha=null;i.preloadedImages={};i.preloadedAudios={};function L(c){i.onAbort&&i.onAbort(c);z(c);la=!0;c=new ka("abort("+c+"). Build with -s ASSERTIONS=1 for more info.");m(c);throw c}function Ia(c,d){return String.prototype.startsWith?c.startsWith(d):0===c.indexOf(d)}var Ja="data:application/octet-stream;base64,",M="DGWCppBridge.wasm";if(!Ia(M,Ja)){o=M;M=i.locateFile?i.locateFile(o,u):u+o}function Ka(){try{if(A)return new Uint8Array(A);var c=Y(M);if(c)return c;if(w)return w(M);throw"both async and sync fetching of the wasm failed"}catch(c){L(c)}}function La(){return A||!q&&!r||"function"!==typeof fetch||Ia(M,"file://")?d("Promise").resolve().then(Ka):fetch(M,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+M+"'";return c.arrayBuffer()})["catch"](function(){return Ka()})}function Ma(c){for(;0<c.length;){var d=c.shift();if("function"==typeof d)d(i);else{var e=d.ga;"number"===typeof e?void 0===d.Y?E.get(e)():E.get(e)(d.Y):e(void 0===d.Y?null:d.Y)}}}function Na(c){this.G=c-16,this.ta=function(c){I[this.G+8>>2]=c},this.qa=function(c){I[this.G+0>>2]=c},this.ra=function(){I[this.G+4>>2]=0},this.pa=function(){F[this.G+12>>0]=0},this.sa=function(){F[this.G+13>>0]=0},this.ka=function(c,d){this.ta(c),this.qa(d),this.ra(),this.pa(),this.sa()}}function Oa(){return 0<Oa.aa}function Pa(c){switch(c){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+c)}}var Qa=void 0;function N(c){for(var d="";G[c];)d+=Qa[G[c++]];return d}var Ra={},Sa={},Ta={};function Ua(c){if(void 0===c)return"_unknown";c=c.replace(/[^a-zA-Z0-9_]/g,"$");var d=c.charCodeAt(0);return 48<=d&&57>=d?"_"+c:c}function Va(c,d){c=Ua(c);return new Function("body","return function "+c+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(d)}function Wa(c){var d=Error,e=Va(c,function(d){this.name=c,this.message=d,d=Error(d).stack,void 0!==d&&(this.stack=this.toString()+"\n"+d.replace(/^Error(:[^\n]*)?\n/,""))});e.prototype=Object.create(d.prototype);e.prototype.constructor=e;e.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message};return e}var Xa=void 0;function O(c){throw new Xa(c)}var Ya=void 0;function Za(c){throw new Ya(c)}function P(c,d,e){function g(d){d=e(d);d.length!==c.length&&Za("Mismatched type converter count");for(var g=0;g<c.length;++g)Q(c[g],d[g])}c.forEach(function(c){Ta[c]=d});var i=Array(d.length),k=[],l=0;d.forEach(function(c,d){Object.prototype.hasOwnProperty.call(Sa,c)?i[d]=Sa[c]:(k.push(c),Object.prototype.hasOwnProperty.call(Ra,c)||(Ra[c]=[]),Ra[c].push(function(){i[d]=Sa[c],++l,l===k.length&&g(i)}))});0===k.length&&g(i)}function Q(c,d,e){e=e||{};if(!("argPackAdvance"in d))throw new TypeError("registerType registeredInstance requires argPackAdvance");var g=d.name;c||O('type "'+g+'" must have a positive integer typeid pointer');if(Object.prototype.hasOwnProperty.call(Sa,c)){if(e.ja)return;O("Cannot register type '"+g+"' twice")}Sa[c]=d;delete Ta[c];Object.prototype.hasOwnProperty.call(Ra,c)&&(d=Ra[c],delete Ra[c],d.forEach(function(c){c()}))}function $a(c){return{count:c.count,R:c.R,T:c.T,G:c.G,I:c.I,K:c.K,L:c.L}}function ab(c){O(c.F.I.H.name+" instance already deleted")}var bb=!1;function cb(){}function db(c){--c.count.value,0===c.count.value&&(c.K?c.L.P(c.K):c.I.H.P(c.G))}function eb(c){if("undefined"===typeof FinalizationGroup)return eb=function(c){return c},c;bb=new FinalizationGroup(function(c){for(var d=c.next();!d.done;d=c.next())d=d.value,d.G?db(d):!1});eb=function(c){bb.register(c,c.F,c.F);return c};cb=function(c){bb.unregister(c.F)};return eb(c)}var fb=void 0,gb=[];function hb(){for(;gb.length;){var c=gb.pop();c.F.R=!1;c["delete"]()}}function R(){}var ib={};function jb(c,d,e){if(void 0===c[d].J){var g=c[d];c[d]=function(){Object.prototype.hasOwnProperty.call(c[d].J,arguments.length)||O("Function '"+e+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+c[d].J+")!");return c[d].J[arguments.length].apply(this,arguments)};c[d].J=[];c[d].J[g.V]=g}}function kb(c,d,e){Object.prototype.hasOwnProperty.call(i,c)?((void 0===e||void 0!==i[c].J&&void 0!==i[c].J[e])&&O("Cannot register public name '"+c+"' twice"),jb(i,c,c),Object.prototype.hasOwnProperty.call(i,e)&&O("Cannot register multiple overloads of a function with the same number of arguments ("+e+")!"),i[c].J[e]=d):(i[c]=d,void 0!==e&&(i[c].wa=e))}function lb(c,d,e,g,i,k,l,m){this.name=c,this.constructor=d,this.S=e,this.P=g,this.M=i,this.ha=k,this.U=l,this.fa=m,this.ma=[]}function mb(c,d,e){for(;d!==e;)d.U||O("Expected null or instance of "+e.name+", got an instance of "+d.name),c=d.U(c),d=d.M;return c}function nb(c,d){if(null===d)return this.Z&&O("null is not a valid "+this.name),0;d.F||O('Cannot pass "'+V(d)+'" as a '+this.name);d.F.G||O("Cannot pass deleted object as a pointer of type "+this.name);return mb(d.F.G,d.F.I.H,this.H)}function ob(c,d){if(null===d){this.Z&&O("null is not a valid "+this.name);if(this.X){var e=this.na();null!==c&&c.push(this.P,e);return e}return 0}d.F||O('Cannot pass "'+V(d)+'" as a '+this.name);d.F.G||O("Cannot pass deleted object as a pointer of type "+this.name);!this.W&&d.F.I.W&&O("Cannot convert argument of type "+(d.F.L?d.F.L.name:d.F.I.name)+" to parameter type "+this.name);e=mb(d.F.G,d.F.I.H,this.H);if(this.X)switch(void 0===d.F.K&&O("Passing raw pointer to smart pointer is illegal"),this.ua){case 0:d.F.L===this?e=d.F.K:O("Cannot convert argument of type "+(d.F.L?d.F.L.name:d.F.I.name)+" to parameter type "+this.name);break;case 1:e=d.F.K;break;case 2:if(d.F.L===this)e=d.F.K;else{var g=d.clone();e=this.oa(e,Gb(function(){g["delete"]()}));null!==c&&c.push(this.P,e)}break;default:O("Unsupporting sharing policy")}return e}function pb(c,d){if(null===d)return this.Z&&O("null is not a valid "+this.name),0;d.F||O('Cannot pass "'+V(d)+'" as a '+this.name);d.F.G||O("Cannot pass deleted object as a pointer of type "+this.name);d.F.I.W&&O("Cannot convert argument of type "+d.F.I.name+" to parameter type "+this.name);return mb(d.F.G,d.F.I.H,this.H)}function qb(c){return this.fromWireType(J[c>>2])}function rb(c,d,e){if(d===e)return c;if(void 0===e.M)return null;c=rb(c,d,e.M);return null===c?null:e.fa(c)}var sb={};function tb(c,d){for(void 0===d&&O("ptr should not be undefined");c.M;)d=c.U(d),c=c.M;return sb[d]}function ub(c,d){d.I&&d.G||Za("makeClassHandle requires ptr and ptrType");!!d.L!==!!d.K&&Za("Both smartPtrType and smartPtr must be specified");d.count={value:1};return eb(Object.create(c,{F:{value:d}}))}function S(c,d,e,g){this.name=c,this.H=d,this.Z=e,this.W=g,this.X=!1,this.P=this.oa=this.na=this.da=this.ua=this.la=void 0,void 0!==d.M?this.toWireType=ob:(this.toWireType=g?nb:pb,this.N=null)}function vb(c,d,e){Object.prototype.hasOwnProperty.call(i,c)||Za("Replacing nonexistant public symbol"),void 0!==i[c].J&&void 0!==e?i[c].J[e]=d:(i[c]=d,i[c].V=e)}function wb(c,d){ma(0<=c.indexOf("j"),"getDynCaller should only be called with i64 sigs");var e=[];return function(){e.length=arguments.length;for(var g=0;g<arguments.length;g++)e[g]=arguments[g];var k;-1!=c.indexOf("j")?k=e&&e.length?i["dynCall_"+c].apply(null,[d].concat(e)):i["dynCall_"+c].call(null,d):k=E.get(d).apply(null,e);return k}}function T(c,d){c=N(c);var e=-1!=c.indexOf("j")?wb(c,d):E.get(d);"function"!==typeof e&&O("unknown function pointer with signature "+c+": "+d);return e}var xb=void 0;function yb(c){c=Qb(c);var d=N(c);Z(c);return d}function zb(c,d){function e(c){i[c]||Sa[c]||(Ta[c]?Ta[c].forEach(e):(g.push(c),i[c]=!0))}var g=[],i={};d.forEach(e);throw new xb(c+": "+g.map(yb).join([", "]))}function Ab(c,d){for(var e=[],g=0;g<c;g++)e.push(I[(d>>2)+g]);return e}function Bb(c){for(;c.length;){var d=c.pop();c.pop()(d)}}function Cb(c){var d=Function;if(!(d instanceof Function))throw new TypeError("new_ called with constructor type "+typeof d+" which is not a function");var e=Va(d.name||"unknownFunctionName",function(){});e.prototype=d.prototype;e=new e();c=d.apply(e,c);return c instanceof Object?c:e}function Db(c,d,e,g,i){var k=d.length;2>k&&O("argTypes array size mismatch! Must at least get return value and 'this' types!");var l=null!==d[1]&&null!==e,m=!1;for(e=1;e<d.length;++e)if(null!==d[e]&&void 0===d[e].N){m=!0;break}var n="void"!==d[0].name,o="",q="";for(e=0;e<k-2;++e)o+=(0!==e?", ":"")+"arg"+e,q+=(0!==e?", ":"")+"arg"+e+"Wired";c="return function "+Ua(c)+"("+o+") {\nif (arguments.length !== "+(k-2)+") {\nthrowBindingError('function "+c+" called with ' + arguments.length + ' arguments, expected "+(k-2)+" args!');\n}\n";m&&(c+="var destructors = [];\n");var r=m?"destructors":"null";o="throwBindingError invoker fn runDestructors retType classParam".split(" ");g=[O,g,i,Bb,d[0],d[1]];l&&(c+="var thisWired = classParam.toWireType("+r+", this);\n");for(e=0;e<k-2;++e)c+="var arg"+e+"Wired = argType"+e+".toWireType("+r+", arg"+e+"); // "+d[e+2].name+"\n",o.push("argType"+e),g.push(d[e+2]);l&&(q="thisWired"+(0<q.length?", ":"")+q);c+=(n?"var rv = ":"")+"invoker(fn"+(0<q.length?", ":"")+q+");\n";if(m)c+="runDestructors(destructors);\n";else for(e=l?1:2;e<d.length;++e)k=1===e?"thisWired":"arg"+(e-2)+"Wired",null!==d[e].N&&(c+=k+"_dtor("+k+"); // "+d[e].name+"\n",o.push(k+"_dtor"),g.push(d[e].N));n&&(c+="var ret = retType.fromWireType(rv);\nreturn ret;\n");o.push(c+"}\n");return Cb(o).apply(null,g)}var Eb=[],U=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Fb(c){4<c&&0===--U[c].$&&(U[c]=void 0,Eb.push(c))}function Gb(c){switch(c){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var d=Eb.length?Eb.pop():U.length;U[d]={$:1,value:c};return d}}function Hb(c,d,e){switch(d){case 0:return function(c){return this.fromWireType((e?F:G)[c])};case 1:return function(c){return this.fromWireType((e?H:xa)[c>>1])};case 2:return function(c){return this.fromWireType((e?I:J)[c>>2])};default:throw new TypeError("Unknown integer type: "+c)}}function Ib(c,d){var e=Sa[c];void 0===e&&O(d+" has unknown type "+yb(c));return e}function V(c){if(null===c)return"null";var d=typeof c;return"object"===d||"array"===d||"function"===d?c.toString():""+c}function Jb(c,d){switch(d){case 2:return function(c){return this.fromWireType(ya[c>>2])};case 3:return function(c){return this.fromWireType(za[c>>3])};default:throw new TypeError("Unknown float type: "+c)}}function Kb(c,d,e){switch(d){case 0:return e?function(c){return F[c]}:function(c){return G[c]};case 1:return e?function(c){return H[c>>1]}:function(c){return xa[c>>1]};case 2:return e?function(c){return I[c>>2]}:function(c){return J[c>>2]};default:throw new TypeError("Unknown integer type: "+c)}}for(var n=Array(256),B=0;256>B;++B)n[B]=String.fromCharCode(B);Qa=n;Xa=i.BindingError=Wa("BindingError");Ya=i.InternalError=Wa("InternalError");R.prototype.isAliasOf=function(c){if(!(this instanceof R&&c instanceof R))return!1;var d=this.F.I.H,e=this.F.G,g=c.F.I.H;for(c=c.F.G;d.M;)e=d.U(e),d=d.M;for(;g.M;)c=g.U(c),g=g.M;return d===g&&e===c};R.prototype.clone=function(){this.F.G||ab(this);if(this.F.T)return this.F.count.value+=1,this;var c=eb(Object.create(Object.getPrototypeOf(this),{F:{value:$a(this.F)}}));c.F.count.value+=1;c.F.R=!1;return c};R.prototype["delete"]=function(){this.F.G||ab(this),this.F.R&&!this.F.T&&O("Object already scheduled for deletion"),cb(this),db(this.F),this.F.T||(this.F.K=void 0,this.F.G=void 0)};R.prototype.isDeleted=function(){return!this.F.G};R.prototype.deleteLater=function(){this.F.G||ab(this);this.F.R&&!this.F.T&&O("Object already scheduled for deletion");gb.push(this);1===gb.length&&fb&&fb(hb);this.F.R=!0;return this};S.prototype.ia=function(c){this.da&&(c=this.da(c));return c};S.prototype.ba=function(c){this.P&&this.P(c)};S.prototype.argPackAdvance=8;S.prototype.readValueFromPointer=qb;S.prototype.deleteObject=function(c){null!==c&&c["delete"]()};S.prototype.fromWireType=function(c){function d(){return this.X?ub(this.H.S,{I:this.la,G:e,L:this,K:c}):ub(this.H.S,{I:this,G:c})}var e=this.ia(c);if(!e)return this.ba(c),null;var g=tb(this.H,e);if(void 0!==g){if(0===g.F.count.value)return g.F.G=e,g.F.K=c,g.clone();g=g.clone();this.ba(c);return g}g=this.H.ha(e);g=ib[g];if(!g)return d.call(this);g=this.W?g.ea:g.pointerType;var i=rb(e,this.H,g.H);return null===i?d.call(this):this.X?ub(g.H.S,{I:g,G:i,L:this,K:c}):ub(g.H.S,{I:g,G:i})};i.getInheritedInstanceCount=function(){return Object.keys(sb).length};i.getLiveInheritedInstances=function(){var c=[],d;for(d in sb)Object.prototype.hasOwnProperty.call(sb,d)&&c.push(sb[d]);return c};i.flushPendingDeletes=hb;i.setDelayFunction=function(c){fb=c,gb.length&&fb&&fb(hb)};xb=i.UnboundTypeError=Wa("UnboundTypeError");i.count_emval_handles=function(){for(var c=0,d=5;d<U.length;++d)void 0!==U[d]&&++c;return c};i.get_first_emval=function(){for(var c=5;c<U.length;++c)if(void 0!==U[c])return U[c];return null};var Lb=!1;function W(c){for(var d=[],e=0;e<c.length;e++){var g=c[e];255<g&&(Lb&&ma(!1,"Character code "+g+" ("+String.fromCharCode(g)+")  at offset "+e+" not in 0x00-0xFF."),g&=255);d.push(String.fromCharCode(g))}return d.join("")}var Mb="function"===typeof atob?atob:function(c){var d="",e=0;c=c.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(e++)),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(e++)),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(e++)),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(e++));g=g<<2|i>>4;i=(i&15)<<4|k>>2;var m=(k&3)<<6|l;d+=String.fromCharCode(g);64!==k&&(d+=String.fromCharCode(i));64!==l&&(d+=String.fromCharCode(m))}while(e<c.length);return d};function Y(c){if(Ia(c,Ja)){c=c.slice(Ja.length);if("boolean"===typeof s&&s){try{var d=Buffer.from(c,"base64")}catch(e){d=new Buffer(c,"base64")}var e=new Uint8Array(d.buffer,d.byteOffset,d.byteLength)}else try{c=Mb(c);var g=new Uint8Array(c.length);for(d=0;d<c.length;++d)g[d]=c.charCodeAt(d);e=g}catch(c){throw Error("Converting base64 string to bytes failed.")}return e}}Ba.push({ga:function(){Ob()}});var Nb={q:function(c){return Pb(c+16)+16},p:function(c,d,e){new Na(c).ka(d,e);"uncaught_exception"in Oa?Oa.aa++:Oa.aa=1;throw c},b:E,v:function(c,d,e,g,i){var k=Pa(e);d=N(d);Q(c,{name:d,fromWireType:function(c){return!!c},toWireType:function(c,d){return d?g:i},argPackAdvance:8,readValueFromPointer:function(c){if(1===e)var g=F;else if(2===e)g=H;else if(4===e)g=I;else throw new TypeError("Unknown boolean type size: "+d);return this.fromWireType(g[c>>k])},N:null})},f:function(c,d,e,g,i,k,l,m,n,o,q,r,s){q=N(q);k=T(i,k);m&&(m=T(l,m));o&&(o=T(n,o));s=T(r,s);var t=Ua(q);kb(t,function(){zb("Cannot construct "+q+" due to unbound types",[g])});P([c,d,e],g?[g]:[],function(d){d=d[0];if(g)var e=d.H,i=e.S;else i=R.prototype;d=Va(t,function(){if(Object.getPrototypeOf(this)!==l)throw new Xa("Use 'new' to construct "+q);if(void 0===n.O)throw new Xa(q+" has no accessible constructor");var c=n.O[arguments.length];if(void 0===c)throw new Xa("Tried to invoke ctor of "+q+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(n.O).toString()+") parameters instead!");return c.apply(this,arguments)});var l=Object.create(i,{constructor:{value:d}});d.prototype=l;var n=new lb(q,d,l,s,e,k,m,o);e=new S(q,n,!0,!1);i=new S(q+"*",n,!1,!1);var r=new S(q+" const*",n,!1,!0);ib[c]={pointerType:i,ea:r};vb(t,d);return[e,i,r]})},h:function(c,d,e,g,i,k){ma(0<d);var l=Ab(d,e);i=T(g,i);var m=[k],n=[];P([],[c],function(c){c=c[0];var e="constructor "+c.name;void 0===c.H.O&&(c.H.O=[]);if(void 0!==c.H.O[d-1])throw new Xa("Cannot register multiple constructors with identical number of parameters ("+(d-1)+") for class '"+c.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");c.H.O[d-1]=function(){zb("Cannot construct "+c.name+" due to unbound types",l)};P([],l,function(g){c.H.O[d-1]=function(){arguments.length!==d-1&&O(e+" called with "+arguments.length+" arguments, expected "+(d-1));n.length=0;m.length=d;for(var c=1;c<d;++c)m[c]=g[c].toWireType(n,arguments[c-1]);c=i.apply(null,m);Bb(n);return g[0].fromWireType(c)};return[]});return[]})},c:function(c,d,e,g,i,k,l,m){var n=Ab(e,g);d=N(d);k=T(i,k);P([],[c],function(c){function g(){zb("Cannot call "+i+" due to unbound types",n)}c=c[0];var i=c.name+"."+d;m&&c.H.ma.push(d);var o=c.H.S,q=o[d];void 0===q||void 0===q.J&&q.className!==c.name&&q.V===e-2?(g.V=e-2,g.className=c.name,o[d]=g):(jb(o,d,i),o[d].J[e-2]=g);P([],n,function(g){g=Db(i,g,c,k,l);void 0===o[d].J?(g.V=e-2,o[d]=g):o[d].J[e-2]=g;return[]});return[]})},m:function(c,d,e){c=N(c),P([],[d],function(d){d=d[0];i[c]=d.fromWireType(e);return[]})},u:function(c,d){d=N(d),Q(c,{name:d,fromWireType:function(c){var d=U[c].value;Fb(c);return d},toWireType:function(c,d){return Gb(d)},argPackAdvance:8,readValueFromPointer:qb,N:null})},k:function(c,d,e,g){function i(){}e=Pa(e);d=N(d);i.values={};Q(c,{name:d,constructor:i,fromWireType:function(c){return this.constructor.values[c]},toWireType:function(c,d){return d.value},argPackAdvance:8,readValueFromPointer:Hb(d,e,g),N:null});kb(d,i)},j:function(c,d,e){var g=Ib(c,"enum");d=N(d);c=g.constructor;g=Object.create(g.constructor.prototype,{value:{value:e},constructor:{value:Va(g.name+"_"+d,function(){})}});c.values[e]=g;c[d]=g},n:function(c,d,e){e=Pa(e),d=N(d),Q(c,{name:d,fromWireType:function(c){return c},toWireType:function(c,d){if("number"!==typeof d&&"boolean"!==typeof d)throw new TypeError('Cannot convert "'+V(d)+'" to '+this.name);return d},argPackAdvance:8,readValueFromPointer:Jb(d,e),N:null})},g:function(c,d,e,g,i,k){var l=Ab(d,e);c=N(c);i=T(g,i);kb(c,function(){zb("Cannot call "+c+" due to unbound types",l)},d-1);P([],l,function(e){e=[e[0],null].concat(e.slice(1));vb(c,Db(c,e,null,i,k),d-1);return[]})},e:function(c,d,e,g,i){function k(c){return c}d=N(d);-1===i&&(i=4294967295);var l=Pa(e);if(0===g){var m=32-8*e;k=function(c){return c<<m>>>m}}var n=-1!=d.indexOf("unsigned");Q(c,{name:d,fromWireType:k,toWireType:function(c,e){if("number"!==typeof e&&"boolean"!==typeof e)throw new TypeError('Cannot convert "'+V(e)+'" to '+this.name);if(e<g||e>i)throw new TypeError('Passing a number "'+V(e)+'" from JS side to C/C++ side to an argument of type "'+d+'", which is outside the valid range ['+g+", "+i+"]!");return n?e>>>0:e|0},argPackAdvance:8,readValueFromPointer:Kb(d,l,0!==g),N:null})},d:function(c,d,e){function g(c){c>>=2;return new i(wa,J[c+1],J[c])}var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][d];e=N(e);Q(c,{name:e,fromWireType:g,argPackAdvance:8,readValueFromPointer:g},{ja:!0})},o:function(c,d){d=N(d);var e="std::string"===d;Q(c,{name:d,fromWireType:function(c){var d=J[c>>2];if(e)for(var g=c+4,i=0;i<=d;++i){var k=c+4+i;if(i==d||0==G[k]){if(g){var l=g,m=G,n=l+(k-g);for(g=l;m[g]&&!(g>=n);)++g;if(16<g-l&&m.subarray&&na)l=na.decode(m.subarray(l,g));else{for(n="";l<g;){var o=m[l++];if(o&128){var q=m[l++]&63;if(192==(o&224))n+=String.fromCharCode((o&31)<<6|q);else{var r=m[l++]&63;o=224==(o&240)?(o&15)<<12|q<<6|r:(o&7)<<18|q<<12|r<<6|m[l++]&63;65536>o?n+=String.fromCharCode(o):(o-=65536,n+=String.fromCharCode(55296|o>>10,56320|o&1023))}}else n+=String.fromCharCode(o)}l=n}}else l="";if(void 0===s)var s=l;else s+=String.fromCharCode(0),s+=l;g=k+1}}else{s=Array(d);for(i=0;i<d;++i)s[i]=String.fromCharCode(G[c+4+i]);s=s.join("")}Z(c);return s},toWireType:function(c,d){d instanceof ArrayBuffer&&(d=new Uint8Array(d));var g="string"===typeof d;g||d instanceof Uint8Array||d instanceof Uint8ClampedArray||d instanceof Int8Array||O("Cannot pass non-string to std::string");var i=(e&&g?function(){for(var c=0,e=0;e<d.length;++e){var g=d.charCodeAt(e);55296<=g&&57343>=g&&(g=65536+((g&1023)<<10)|d.charCodeAt(++e)&1023);127>=g?++c:c=2047>=g?c+2:65535>=g?c+3:c+4}return c}:function(){return d.length})(),k=Pb(4+i+1);J[k>>2]=i;if(e&&g)oa(d,k+4,i+1);else if(g)for(g=0;g<i;++g){var l=d.charCodeAt(g);255<l&&(Z(k),O("String has UTF-16 code units that do not fit in 8 bits"));G[k+4+g]=l}else for(g=0;g<i;++g)G[k+4+g]=d[g];null!==c&&c.push(Z,k);return k},argPackAdvance:8,readValueFromPointer:qb,N:function(c){Z(c)}})},l:function(c,d,e){e=N(e);if(2===d)var g=qa,i=ra,k=sa,l=function(){return xa},m=1;else 4===d&&(g=ta,i=ua,k=va,l=function(){return J},m=2);Q(c,{name:e,fromWireType:function(c){for(var e=J[c>>2],i=l(),k,n=c+4,o=0;o<=e;++o){var q=c+4+o*d;(o==e||0==i[q>>m])&&(n=g(n,q-n),void 0===k?k=n:(k+=String.fromCharCode(0),k+=n),n=q+d)}Z(c);return k},toWireType:function(c,g){"string"!==typeof g&&O("Cannot pass non-string to C++ string type "+e);var l=k(g),n=Pb(4+l+d);J[n>>2]=l>>m;i(g,n+4,l+d);null!==c&&c.push(Z,n);return n},argPackAdvance:8,readValueFromPointer:qb,N:function(c){Z(c)}})},w:function(c,d){d=N(d),Q(c,{va:!0,name:d,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},x:Fb,y:function(c){4<c&&(U[c].$+=1)},i:function(c,d){c=Ib(c,"_emval_take_value");c=c.readValueFromPointer(d);return Gb(c)},t:function(){L()},r:function(c,d,e){G.copyWithin(c,d,d+e)},s:function(){L("OOM")},a:D};(function(){function c(c){i.asm=c.exports,Fa--,i.monitorRunDependencies&&i.monitorRunDependencies(Fa),0==Fa&&(null!==Ga&&(clearInterval(Ga),Ga=null),Ha&&(c=Ha,Ha=null,c()))}function d(d){c(d.instance)}function e(c){return La().then(function(){return ja()}).then(c,function(c){z("failed to asynchronously prepare wasm: "+c),L(c)})}var g={a:Nb};Fa++;i.monitorRunDependencies&&i.monitorRunDependencies(Fa);if(i.instantiateWasm)try{return i.instantiateWasm(g,c)}catch(c){return z("Module.instantiateWasm callback failed with error: "+c),!1}(function(){if(A||"function"!==typeof C.instantiateStreaming||Ia(M,Ja)||Ia(M,"file://")||"function"!==typeof fetch)return e(d);fetch(M,{credentials:"same-origin"}).then(function(c){return C.instantiateStreaming(c,g).then(d,function(c){z("wasm streaming compile failed: "+c);z("falling back to ArrayBuffer instantiation");return e(d)})})})();return{}})();var Ob=i.___wasm_call_ctors=function(){return(Ob=i.___wasm_call_ctors=i.asm.z).apply(null,arguments)},Z=i._free=function(){return(Z=i._free=i.asm.A).apply(null,arguments)},Pb=i._malloc=function(){return(Pb=i._malloc=i.asm.B).apply(null,arguments)},Qb=i.___getTypeName=function(){return(Qb=i.___getTypeName=i.asm.C).apply(null,arguments)};i.___embind_register_native_and_builtin_types=function(){return(i.___embind_register_native_and_builtin_types=i.asm.D).apply(null,arguments)};var Rb=i.__growWasmMemory=function(){return(Rb=i.__growWasmMemory=i.asm.E).apply(null,arguments)},Sb;Ha=function c(){Sb||Tb(),Sb||(Ha=c)};function Tb(){function c(){if(!Sb&&(Sb=!0,i.calledRun=!0,!la)){Ma(Ba);Ma(Ca);k(i);i.onRuntimeInitialized&&i.onRuntimeInitialized();if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;){var c=i.postRun.shift();Da.unshift(c)}Ma(Da)}}if(!(0<Fa)){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)Ea();Ma(Aa);0<Fa||(i.setStatus?(i.setStatus("Running..."),setTimeout(function(){setTimeout(function(){i.setStatus("")},1),c()},1)):c())}}i.run=Tb;if(i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);0<i.preInit.length;)i.preInit.pop()();Tb();return g.ready}}();typeof k==="object"&&typeof i==="object"?i.exports=l:typeof define==="function"&&define.amd?define([],function(){return l}):typeof k==="object"&&(k.DGWCppBridge=l)}),null);
__d("DGWUtils",["regeneratorRuntime","DGWCppBridge","DGWLoggingContext","Random","URI"],(function(a,b,c,d,e,f){"use strict";f.uuidv4=a;var g;function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=b("Random").random()*16|0;a=a=="x"?c:c&3|8;return a.toString(16)})}var h=null;c=function(){function a(){}a.initialize=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(!(h!=null)){a.next=2;break}return a.abrupt("return");case 2:a.next=4;return b("regeneratorRuntime").awrap(b("DGWCppBridge")());case 4:h=a.sent;case 5:case"end":return a.stop()}},null,this)};a.constructConnectUrl=function(a){var c,d=a.appId,e=a.appVersion,f=a.authType,i=a.dgwVersion,j=a.fbId,k=a.tier,l=a.loggingId,m=a.headers,n=a.endpoint;a=a.serviceId;var o=(c={},c[h.HEADER_APPID]=d,c[h.HEADER_APPVERSION]=e,c[h.HEADER_AUTHTYPE]=f,c[h.HEADER_DGW_VERSION]=i,c[h.HEADER_UUID]=j,c[h.HEADER_TARGET_TIER]=k,c);l!==void 0&&(o[h.HEADER_LOGGING_ID]=l);Object.keys(m).forEach(function(a){var b=h.APPHEADER_PREFIX+a;Object.prototype.hasOwnProperty.call(o,b)||(o[b]=m[a])});d=new(g||(g=b("URI")))(n);d.setQueryData(o);d.setPath(d.getPath()+"/"+a);return d.toString()};return a}();f.DGWUtils=c;d=function(){function a(a,b){this.$1=null,this.$2=a,this.$3=b}a.initialize=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(!(h!=null)){a.next=2;break}return a.abrupt("return");case 2:a.next=4;return b("regeneratorRuntime").awrap(b("DGWCppBridge")());case 4:h=a.sent;case 5:case"end":return a.stop()}},null,this)};a.getDrainReasons=function(){return{DrainReason_ELB:h.DrainReason.DrainReason_ELB,DrainReason_SLB:h.DrainReason.DrainReason_ELB,DrainReason_AppServerPush:h.DrainReason.DrainReason_ELB,DrainReason_GracePeriodExpired:h.DrainReason.DrainReason_ELB,DrainReason_Unknown:h.DrainReason.DrainReason_ELB}};var c=a.prototype;c.append=function(a){if(this.$1==null){this.$1=a;return}var b=this.$1.length,c=new Uint8Array(b+a.length);c.set(this.$1,0);c.set(a,b);this.$1=c};c.processData=function(){var a=h.decodeDGWFrame(this.$1);if(this.$1==null)return;var c=this.$1.length-a.getBufRemainderSize();this.$1&&this.$1.length>c?this.$1=new Uint8Array(this.$1.slice(c)):this.$1=null;if(a.getRc()!==h.DgwCodecReturnCode.DgwCodecReturnCode_Success){(c=this.$2)==null?void 0:c.logError(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Codec Decode Failure","Failed to decode Frame(s). Received error code "+a.getRc().constructor.name);return}if(a.getCountFrames()>0){for(var c=0;c<a.getDataFrames().size();c++){var d,e;(d=this.$2)==null?void 0:d.logEvent(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Received Data Frame from server");d=a.getDataFrames().get(c);(e=this.$3)==null?void 0:e.onDataReceived(Uint8Array.from(d.getData()),d.getRequiresAck()?d.getAckId():null)}for(var e=0;e<a.getAckFrames().size();e++){(d=this.$2)==null?void 0:d.logEvent(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Received ACK Frame from server");(c=this.$3)==null?void 0:c.handleAckReceived(a.getAckFrames().get(e).getAckId())}for(var d=0;d<a.getDrainFrames().size();d++){c=a.getDrainFrames().get(d).getDrainReason().constructor.name;(e=this.$2)==null?void 0:e.logEvent(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Received Drain Frame from server","DrainReason: "+c);(e=this.$3)==null?void 0:e.receivedDrainSignal(c)}}};c.encodeData=function(a,c,d){c=h.encodeDGWDataFrame(c,d,a);if(c.getRc()!==h.DgwCodecReturnCode.DgwCodecReturnCode_Success){(d=this.$2)==null?void 0:d.logError(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Data Frame encode failure","Failed to decode DGW Data Frame. Received error code "+c.getRc().constructor.name);return null}return c.getRawFrame()};c.encodeAck=function(a){a=h.encodeDGWAckFrame(a);if(a.getRc()!==h.DgwCodecReturnCode.DgwCodecReturnCode_Success){var c;(c=this.$2)==null?void 0:c.logError(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"ACK Frame encode failure","Failed to encode ACK Frame. Received error code "+a.getRc().constructor.name);return null}return a.getRawFrame()};c.encodeDrain=function(a){a=h.encodeDGWDrainFrame(a);if(a.getRc()!==h.DgwCodecReturnCode.DgwCodecReturnCode_Success){var c;(c=this.$2)==null?void 0:c.logError(b("DGWLoggingContext").DGWLoggingComponent.CODEC_COMPONENT,"Drain Frame encode failure","Failed to encode Drain Frame. Received error code "+a.getRc().constructor.name);return null}return a.getRawFrame()};return a}();f.DGWCodec=d}),null);
__d("DGWWebSocketTransport",[],(function(a,b,c,d,e,f){"use strict";f.getWebSocketConnection=a;function a(a){a=new WebSocket(a);a.binaryType="arraybuffer";return a}}),null);
__d("DGWStream",["regeneratorRuntime","Promise","DGWAckManager","DGWExponentialBackoff","DGWLoggingContext","DGWStreamEvents","DGWUtils","DGWWebSocketTransport","err","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=3e4,h="prod",i=128,j="DGW closing websocket connection",k=b("$InternalEnum")({NORMAL_CLOSURE:1e3,GOING_AWAY:1001,ABNORMAL_CLOSURE:1006,SERVER_INTERNAL_ERROR:1011,DGW_NORMAL_CLOSURE:4e3}),l=b("$InternalEnum").Mirrored(["ABNORMAL_CLOSURE","SERVER_INTERNAL_ERROR","UNKNOWN_ERROR"]);f.StreamError=l;a=function(){function a(a){var c=this,d=a.loggingContext,e=a.serviceId,f=a.streamCallbacks,g=a.streamEvents,h=a.streamOptions;a=a.ws;this.$4=!1;this.$2=!0;this.$5=d;this.$1=new(b("DGWAckManager").DGWAckManager)(this.$5);this.$6=1;this.$7=e;this.$8=g;this.$9=f;this.$10=h;this.$3=new(b("DGWUtils").DGWCodec)(this.$5,{onDataReceived:function(a,b){c.$9.onDataReceived(a),b!=null&&c.$12(b)},handleAckReceived:function(a){c.$1.handleAckReceived(a)},receivedDrainSignal:function(a){c.$4===!1&&(c.$9.onStreamMustDrain(c,a),c.$4=!0)}});this.$11=a}a.getDGWStream=function(c){var d,e,f,g,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;return b("regeneratorRuntime").async(function(x){while(1)switch(x.prev=x.next){case 0:g=c.appId,i=c.appVersion,j=c.authType,k=c.dgwVersion,l=c.endpoint,m=c.fbId,n=c.headers,o=c.serviceId,p=c.streamCallbacks,q=c.streamOptions;x.next=3;return b("regeneratorRuntime").awrap(b("DGWUtils").DGWCodec.initialize());case 3:x.next=5;return b("regeneratorRuntime").awrap(b("DGWUtils").DGWUtils.initialize());case 5:r=(d=q.overrideUrl)!=null?d:l;s=(e=q.loggingId)!=null?e:b("DGWUtils").uuidv4();t=b("DGWUtils").DGWUtils.constructConnectUrl({appId:g,appVersion:i,authType:j,dgwVersion:k,fbId:m,headers:n,loggingId:s,tier:(f=q.serviceTier)!=null?f:h,serviceId:o,endpoint:r});u=new(b("DGWLoggingContext").DGWLoggingContext)(k,s,o,m);v=new(b("DGWStreamEvents").DGWStreamEvents)(u);w=function(){return a.$13({connectUrl:t,loggingContext:u,serviceId:o,streamCallbacks:p,streamEvents:v,streamOptions:q})};x.prev=11;x.next=14;return b("regeneratorRuntime").awrap(b("DGWExponentialBackoff").callWithExponentialBackoff(w));case 14:return x.abrupt("return",x.sent);case 17:x.prev=17;x.t0=x["catch"](11);v.streamEstablishmentFailure(x.t0,"Could not establish stream with exponential backoff");throw x.t0;case 21:case"end":return x.stop()}},null,this,[[11,17]])};a.$13=function(c){var d=c.connectUrl,e=c.loggingContext,f=c.serviceId,g=c.streamEvents,h=c.streamCallbacks;c=c.streamOptions;d=b("DGWWebSocketTransport").getWebSocketConnection(d);var i=new a({loggingContext:e,serviceId:f,streamCallbacks:h,streamEvents:g,streamOptions:c,ws:d});i.$8.streamEstablishmentPending();i.$11.onmessage=a.$14(i);i.$11.onclose=a.$15(i);i.$11.onerror=function(){i.$2=!0};i.$11.onopen=function(){i.$8.streamEstablished(),i.$2=!1};return a.getStreamPromise(i)};a.getStreamPromise=function(a){return new(b("Promise"))(function(c,d){var e=a.$11.onerror;a.$11.onerror=function(){e(),d(b("err")("Stream could not be initialized"))};var f=a.$11.onopen;a.$11.onopen=function(){f(),c(a)}})};a.$15=function(a){return function(b){if(a.$2===!0){a.$8.connectionEstablishmentFailure(b.code);return}a.$2=!0;if(b.code!==k.DGW_NORMAL_CLOSURE&&b.code!==k.NORMAL_CLOSURE){a.$8.streamClosed(!1,"Websocket connection failure with code "+b.code);switch(b.code){case k.ABNORMAL_CLOSURE:a.$9.onError(l.ABNORMAL_CLOSURE);break;case k.SERVER_INTERNAL_ERROR:a.$9.onError(l.SERVER_INTERNAL_ERROR);break;default:a.$9.onError(l.UNKNOWN_ERROR);break}}else a.$8.streamClosed(!0,""),a.$9.onClose(a);a.$1.clearPendingAcks()}};a.$14=function(a){return function(b){if(!(b.data instanceof ArrayBuffer)){a.$8.error("Incorrect Data Protocol","Received "+typeof b.data+" instead of ArrayBuffer");return}a.$3.append(new Uint8Array(b.data));a.$3.processData()}};var c=a.prototype;c.send=function(a,c){var d,e,f;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:c===void 0&&(c=g);d=this.$6++%i;e=this.$16(a,!0,d);if(!(e===!1)){h.next=5;break}return h.abrupt("return",!1);case 5:h.next=7;return b("regeneratorRuntime").awrap(this.$1.waitForAck(d,c));case 7:f=h.sent;return h.abrupt("return",f);case 9:case"end":return h.stop()}},null,this)};c.$12=function(a){var b=this.$17("Error sending ACK");if(b===!1)return!1;b=this.$3.encodeAck(a);if(b==null||this.$11==null)return!1;this.$8.ackSent(a);this.$11.send(b);return!0};c.sendAndForget=function(a){return this.$16(a,!1,0)};c.$16=function(a,b,c){b===void 0&&(b=!1);c===void 0&&(c=0);var d=this.$17("Error sending data");if(d===!1)return!1;d=this.$3.encodeData(a,b,c);if(d==null||this.$11==null)return!1;this.$11.send(d);this.$8.dataSent(c,d.length,b);return!0};c.close=function(){this.$5.logEvent(b("DGWLoggingContext").DGWLoggingComponent.STREAM_COMPONENT,"Client called close on stream"),this.$11.close(k.DGW_NORMAL_CLOSURE,j)};c.$17=function(a){if(this.$11==null){this.$8.error(a,"Error sending message when websocket was uninitialized");return!1}if(this.$11.readyState!==WebSocket.OPEN){this.$8.error(a,"Error sending message when stream state is "+this.$11.readyState);return!1}if(this.$2){this.$8.error(a,"Error sending message when stream was closed locally");return!1}return!0};return a}();f.DGWStream=a}),null);
__d("DGWStreamCallbacks",[],(function(a,b,c,d,e,f){"use strict"}),null);
__d("DGWAuth",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";f.fromStringToDGWAuth=a;f.fromDGWAuthToString=c;var g=b("$InternalEnum")({TEST:"0:0",FACEBOOK:"1:0"});f.DGWAuth=g;function a(a){if(a==="TEST")return g.TEST;else if(a==="FACEBOOK")return g.FACEBOOK;else{a=new Error("failed to convert string ("+a+") to DGWAuth Type");a.stack;throw a}}function c(a){if(a===g.FACEBOOK)return"FACEBOOK";else return"TEST"}}),null);
__d("RawDGWClient",["DGWStream"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=a.appId,c=a.appVersion,d=a.authType,e=a.dgwVersion,f=a.endpoint;a=a.fbId;this.$1=b;this.$2=c;this.$3=d;this.$4=e;this.$5=f;this.$6=a}var c=a.prototype;c.establishDGWStream=function(a,c,d,e){return b("DGWStream").DGWStream.getDGWStream({appId:this.$1,appVersion:this.$2,authType:this.$3,dgwVersion:this.$4,endpoint:this.$5,headers:a,fbId:this.$6,serviceId:c,streamCallbacks:d,streamOptions:e})};c.establishDGWStreamWithInitialData=function(a,b,c,d,e){a=this.establishDGWStream(a,c,d,e);c=a.then(function(a){return a.send(b)});return{sendPromise:c,streamPromise:a}};return a}();f.RawDGWClient=a}),null);
__d("FBDGWClient",["DGWAuth","DGWWebConfig","RawDGWClient"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=new(b("RawDGWClient").RawDGWClient)({appId:(c=b("DGWWebConfig")).appId,appVersion:c.appVersion,authType:b("DGWAuth").DGWAuth.FACEBOOK,dgwVersion:c.dgwVersion,endpoint:c.endpoint,fbId:c.fbId});function a(){return g}}),null);
__d("RequestStreamCommonRequestStreamCommonTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({Accepted:1,Started:2,Stopped:3});d=a({Rejected:40,Error:50,TryAgain:80,Closed:99});f=a({BestEffort:0,Socket:10,Device:20});b=a({Flow_status:"flow_status",Log:"log",Rewrite:"rewrite",Data:"data",Termination:"termination",Amend_ack:"amend_ack"});e.exports={AckLevel:f,FlowStatus:c,StreamResponseDelta$Types:b,TerminationReason:d}}),null);
__d("RequestStreamCommonRequestStreamCommonSerializers",["RequestStreamCommonRequestStreamCommonTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";a=function(){return{}};c=function(){return{bytes:Uint8Array.of()}};d=function(){return{message:""}};f=function(){return{reason:b("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0)}};var g=function(){return{}},h=function(){return{stream_id:"0",last_sequencer:0,amendment_count:0,last_status:b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0)}},i=function(){return{caller_timestamp_ms:"0"}},j=function(){return{original_ping_timestamp_ms:"0"}},k=function(){return{}},l=function(a,c){c.writeStructBegin("ResponseRewriteRequest"),a.new_headers!=null&&(c.writeFieldBegin({fname:"new_headers",ftype:b("ThriftTypes").STRING,fid:1}),c.writeString(a.new_headers)),a.new_body!=null&&(c.writeFieldBegin({fname:"new_body",ftype:b("ThriftTypes").STRING,fid:2}),c.writeBinary(a.new_body)),a.patch_headers!=null&&(c.writeFieldBegin({fname:"patch_headers",ftype:b("ThriftTypes").STRING,fid:3}),c.writeString(a.patch_headers)),a.kill_body!=null&&(c.writeFieldBegin({fname:"kill_body",ftype:b("ThriftTypes").BOOL,fid:4}),c.writeBool(a.kill_body)),a.temporary!=null&&(c.writeFieldBegin({fname:"temporary",ftype:b("ThriftTypes").BOOL,fid:5}),c.writeBool(a.temporary)),c.writeFieldStop(),c.writeStructEnd()},m=function(a,c){c.writeStructBegin("ResponseData");c.writeFieldBegin({fname:"bytes",ftype:b("ThriftTypes").STRING,fid:1});if(a.bytes!=null)c.writeBinary(a.bytes);else{var d=Uint8Array.of();c.writeBinary(d)}a.metadata!=null&&(c.writeFieldBegin({fname:"metadata",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.metadata));c.writeFieldStop();c.writeStructEnd()},n=function(a,c){c.writeStructBegin("LogMessage");c.writeFieldBegin({fname:"message",ftype:b("ThriftTypes").STRING,fid:1});if(a.message!=null)c.writeString(a.message);else{a="";c.writeString(a)}c.writeFieldStop();c.writeStructEnd()},o=function(a,c){c.writeStructBegin("Termination");c.writeFieldBegin({fname:"reason",ftype:b("ThriftTypes").I32,fid:1});if(a.reason!=null){var d;c.writeI32((d=a.reason)!=null?d:0)}else{d=b("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0);c.writeI32((d=d)!=null?d:0)}a.message!=null&&(c.writeFieldBegin({fname:"message",ftype:b("ThriftTypes").STRING,fid:2}),c.writeString(a.message));a.retry_delay_ms!=null&&(c.writeFieldBegin({fname:"retry_delay_ms",ftype:b("ThriftTypes").I64,fid:3}),c.writeI64(b("jsbi").BigInt(a.retry_delay_ms)));c.writeFieldStop();c.writeStructEnd()},p=function(a,c){c.writeStructBegin("AmendStreamAck"),a.amendment_id!=null&&(c.writeFieldBegin({fname:"amendment_id",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.amendment_id))),a.accepted!=null&&(c.writeFieldBegin({fname:"accepted",ftype:b("ThriftTypes").BOOL,fid:2}),c.writeBool(a.accepted)),a.result!=null&&(c.writeFieldBegin({fname:"result",ftype:b("ThriftTypes").STRING,fid:3}),c.writeBinary(a.result)),c.writeFieldStop(),c.writeStructEnd()},q=function(a,c){c.writeStructBegin("StreamCheck");c.writeFieldBegin({fname:"stream_id",ftype:b("ThriftTypes").I64,fid:1});if(a.stream_id!=null)c.writeI64(b("jsbi").BigInt(a.stream_id));else{var d="0";c.writeI64(b("jsbi").BigInt(d))}c.writeFieldBegin({fname:"last_sequencer",ftype:b("ThriftTypes").I32,fid:2});if(a.last_sequencer!=null)c.writeI32(a.last_sequencer);else{d=0;c.writeI32(d)}c.writeFieldBegin({fname:"amendment_count",ftype:b("ThriftTypes").I32,fid:4});if(a.amendment_count!=null)c.writeI32(a.amendment_count);else{d=0;c.writeI32(d)}c.writeFieldBegin({fname:"last_status",ftype:b("ThriftTypes").I32,fid:3});if(a.last_status!=null){c.writeI32((d=a.last_status)!=null?d:0)}else{a=b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0);c.writeI32((d=a)!=null?d:0)}c.writeFieldStop();c.writeStructEnd()},r=function(a,c){c.writeStructBegin("Ping");c.writeFieldBegin({fname:"caller_timestamp_ms",ftype:b("ThriftTypes").I64,fid:1});if(a.caller_timestamp_ms!=null)c.writeI64(b("jsbi").BigInt(a.caller_timestamp_ms));else{var d="0";c.writeI64(b("jsbi").BigInt(d))}if(a.streams_to_check!=null){c.writeFieldBegin({fname:"streams_to_check",ftype:b("ThriftTypes").LIST,fid:2});c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.streams_to_check.length});for(var d=a.streams_to_check,a=Array.isArray(d),e=0,d=a?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(a){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}f=f;q(f,c)}}c.writeFieldStop();c.writeStructEnd()},s=function(a,c){c.writeStructBegin("Pong");c.writeFieldBegin({fname:"original_ping_timestamp_ms",ftype:b("ThriftTypes").I64,fid:1});if(a.original_ping_timestamp_ms!=null)c.writeI64(b("jsbi").BigInt(a.original_ping_timestamp_ms));else{var d="0";c.writeI64(b("jsbi").BigInt(d))}if(a.stream_ids_missing!=null){c.writeFieldBegin({fname:"stream_ids_missing",ftype:b("ThriftTypes").LIST,fid:2});c.writeListBegin({etype:b("ThriftTypes").I64,size:a.stream_ids_missing.length});for(var d=a.stream_ids_missing,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeI64(b("jsbi").BigInt(g))}}if(a.stream_ids_behind!=null){c.writeFieldBegin({fname:"stream_ids_behind",ftype:b("ThriftTypes").LIST,fid:3});c.writeListBegin({etype:b("ThriftTypes").I64,size:a.stream_ids_behind.length});for(var g=a.stream_ids_behind,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;d=g[e++]}else{e=g.next();if(e.done)break;d=e.value}d=d;c.writeI64(b("jsbi").BigInt(d))}}if(a.stream_ids_with_lost_amendments!=null){c.writeFieldBegin({fname:"stream_ids_with_lost_amendments",ftype:b("ThriftTypes").LIST,fid:4});c.writeListBegin({etype:b("ThriftTypes").I64,size:a.stream_ids_with_lost_amendments.length});for(var d=a.stream_ids_with_lost_amendments,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;c.writeI64(b("jsbi").BigInt(g))}}if(a.stream_ids_with_wrong_status!=null){c.writeFieldBegin({fname:"stream_ids_with_wrong_status",ftype:b("ThriftTypes").LIST,fid:5});c.writeListBegin({etype:b("ThriftTypes").I64,size:a.stream_ids_with_wrong_status.length});for(var g=a.stream_ids_with_wrong_status,f=Array.isArray(g),e=0,g=f?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(f){if(e>=g.length)break;d=g[e++]}else{e=g.next();if(e.done)break;d=e.value}a=d;c.writeI64(b("jsbi").BigInt(a))}}c.writeFieldStop();c.writeStructEnd()},t=function(a,c){c.writeStructBegin("StreamResponseDelta");if(a.flow_status!=null){var d;c.writeFieldBegin({fname:"flow_status",ftype:b("ThriftTypes").I32,fid:1});c.writeI32((d=a.flow_status)!=null?d:0);c.writeFieldStop();c.writeStructEnd();return}if(a.log!=null){c.writeFieldBegin({fname:"log",ftype:b("ThriftTypes").STRUCT,fid:2});n(a.log,c);c.writeFieldStop();c.writeStructEnd();return}if(a.rewrite!=null){c.writeFieldBegin({fname:"rewrite",ftype:b("ThriftTypes").STRUCT,fid:3});l(a.rewrite,c);c.writeFieldStop();c.writeStructEnd();return}if(a.data!=null){c.writeFieldBegin({fname:"data",ftype:b("ThriftTypes").STRUCT,fid:4});m(a.data,c);c.writeFieldStop();c.writeStructEnd();return}if(a.termination!=null){c.writeFieldBegin({fname:"termination",ftype:b("ThriftTypes").STRUCT,fid:5});o(a.termination,c);c.writeFieldStop();c.writeStructEnd();return}if(a.amend_ack!=null){c.writeFieldBegin({fname:"amend_ack",ftype:b("ThriftTypes").STRUCT,fid:6});p(a.amend_ack,c);c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()},u=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.new_headers=a.readString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.new_body=a.readBinary():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.patch_headers=a.readString():a.skip(e);break;case 4:e===b("ThriftTypes").BOOL?c.kill_body=a.readBool():a.skip(e);break;case 5:e===b("ThriftTypes").BOOL?c.temporary=a.readBool():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},v=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.bytes=a.readBinary():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.metadata=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.bytes===void 0&&(c.bytes=Uint8Array.of());return c},w=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.message=a.readString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.message===void 0&&(c.message="");return c},x=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I32?c.reason=b("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(a.readI32()):a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.message=a.readString():a.skip(e);break;case 3:e===b("ThriftTypes").I64?c.retry_delay_ms=a.readI64().toString():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.reason===void 0&&(c.reason=b("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0));return c},y=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.amendment_id=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").BOOL?c.accepted=a.readBool():a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.result=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},z=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.stream_id=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.last_sequencer=a.readI32():a.skip(e);break;case 4:e===b("ThriftTypes").I32?c.amendment_count=a.readI32():a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.last_status=b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(a.readI32()):a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.stream_id===void 0&&(c.stream_id="0");c.last_sequencer===void 0&&(c.last_sequencer=0);c.amendment_count===void 0&&(c.amendment_count=0);c.last_status===void 0&&(c.last_status=b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0));return c},A=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.caller_timestamp_ms=a.readI64().toString():a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.streams_to_check=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=z(a);c.streams_to_check.push(g)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.caller_timestamp_ms===void 0&&(c.caller_timestamp_ms="0");return c},B=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.original_ping_timestamp_ms=a.readI64().toString():a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.stream_ids_missing=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=a.readI64().toString();c.stream_ids_missing.push(g)}}else a.skip(e);break;case 3:if(e===b("ThriftTypes").LIST){c.stream_ids_behind=[];g=a.readListBegin();for(var f=0;f<g.size;f++){d=a.readI64().toString();c.stream_ids_behind.push(d)}}else a.skip(e);break;case 4:if(e===b("ThriftTypes").LIST){c.stream_ids_with_lost_amendments=[];d=a.readListBegin();for(var f=0;f<d.size;f++){g=a.readI64().toString();c.stream_ids_with_lost_amendments.push(g)}}else a.skip(e);break;case 5:if(e===b("ThriftTypes").LIST){c.stream_ids_with_wrong_status=[];g=a.readListBegin();for(var f=0;f<g.size;f++){d=a.readI64().toString();c.stream_ids_with_wrong_status.push(d)}}else a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.original_ping_timestamp_ms===void 0&&(c.original_ping_timestamp_ms="0");return c},C=function(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:if(f===b("ThriftTypes").I32)if(c==null)d.flow_status=b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(a.readI32()),c="flow_status";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: flow_status, previous deserialized field: "+c);else a.skip(f);break;case 2:if(f===b("ThriftTypes").STRUCT)if(c==null)d.log=w(a),c="log";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: log, previous deserialized field: "+c);else a.skip(f);break;case 3:if(f===b("ThriftTypes").STRUCT)if(c==null)d.rewrite=u(a),c="rewrite";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: rewrite, previous deserialized field: "+c);else a.skip(f);break;case 4:if(f===b("ThriftTypes").STRUCT)if(c==null)d.data=v(a),c="data";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: data, previous deserialized field: "+c);else a.skip(f);break;case 5:if(f===b("ThriftTypes").STRUCT)if(c==null)d.termination=x(a),c="termination";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: termination, previous deserialized field: "+c);else a.skip(f);break;case 6:if(f===b("ThriftTypes").STRUCT)if(c==null)d.amend_ack=y(a),c="amend_ack";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: amend_ack, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d};e.exports={AmendStreamAck$DefaultConstructor:g,LogMessage$DefaultConstructor:d,Ping$DefaultConstructor:i,Pong$DefaultConstructor:j,ResponseData$DefaultConstructor:c,ResponseRewriteRequest$DefaultConstructor:a,StreamCheck$DefaultConstructor:h,StreamResponseDelta$DefaultConstructor:k,Termination$DefaultConstructor:f,deserializeAmendStreamAck:y,deserializeLogMessage:w,deserializePing:A,deserializePong:B,deserializeResponseData:v,deserializeResponseRewriteRequest:u,deserializeStreamCheck:z,deserializeStreamResponseDelta:C,deserializeTermination:x,serializeAmendStreamAck:p,serializeLogMessage:n,serializePing:r,serializePong:s,serializeResponseData:m,serializeResponseRewriteRequest:l,serializeStreamCheck:q,serializeStreamResponseDelta:t,serializeTermination:o}}),null);
__d("RequestStreamSingleChannelSingleChannelRequestStreamTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Ignored:100,Success:200,Queued:250,UnknownStream:400,HandledUnknownResult:450,Failure:500});c=b("$InternalEnum")({Request_headers:"request_headers",Request_body:"request_body",Amend:"amend",Ack:"ack",Response:"response",Ping:"ping",Pong:"pong"});e.exports={Ack:a,Payload$Types:c}}),null);
__d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers",["RequestStreamCommonRequestStreamCommonSerializers","RequestStreamCommonRequestStreamCommonTypes","RequestStreamSingleChannelSingleChannelRequestStreamTypes","ThriftTypes","jsbi"],(function(a,b,c,d,e,f){"use strict";a=function(){return{}};c=function(){return{body:Uint8Array.of()}};d=function(){return{amendment:Uint8Array.of()}};f=function(){return{ack:b("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0)}};var g=function(){return{delta:[]}},h=function(){return{}},i=function(a,c){c.writeStructBegin("RequestStreamHeaders"),a.headers!=null&&(c.writeFieldBegin({fname:"headers",ftype:b("ThriftTypes").STRING,fid:1}),c.writeBinary(a.headers)),a.instrumentation_data!=null&&(c.writeFieldBegin({fname:"instrumentation_data",ftype:b("ThriftTypes").STRING,fid:2}),c.writeBinary(a.instrumentation_data)),c.writeFieldStop(),c.writeStructEnd()},j=function(a,c){c.writeStructBegin("RequestStreamBody");c.writeFieldBegin({fname:"body",ftype:b("ThriftTypes").STRING,fid:1});if(a.body!=null)c.writeBinary(a.body);else{a=Uint8Array.of();c.writeBinary(a)}c.writeFieldStop();c.writeStructEnd()},k=function(a,c){c.writeStructBegin("AmendStream");a.amendment_id!=null&&(c.writeFieldBegin({fname:"amendment_id",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.amendment_id)));c.writeFieldBegin({fname:"amendment",ftype:b("ThriftTypes").STRING,fid:2});if(a.amendment!=null)c.writeBinary(a.amendment);else{var d=Uint8Array.of();c.writeBinary(d)}a.is_query!=null&&(c.writeFieldBegin({fname:"is_query",ftype:b("ThriftTypes").BOOL,fid:3}),c.writeBool(a.is_query));a.instrumentation_data!=null&&(c.writeFieldBegin({fname:"instrumentation_data",ftype:b("ThriftTypes").STRING,fid:4}),c.writeBinary(a.instrumentation_data));c.writeFieldStop();c.writeStructEnd()},l=function(a,c){c.writeStructBegin("StreamResponseAck");a.response_id!=null&&(c.writeFieldBegin({fname:"response_id",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.response_id)));c.writeFieldBegin({fname:"ack",ftype:b("ThriftTypes").I32,fid:2});if(a.ack!=null){var d;c.writeI32((d=a.ack)!=null?d:0)}else{d=b("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0);c.writeI32((d=d)!=null?d:0)}a.query_result!=null&&(c.writeFieldBegin({fname:"query_result",ftype:b("ThriftTypes").STRING,fid:3}),c.writeBinary(a.query_result));c.writeFieldStop();c.writeStructEnd()},m=function(a,c){c.writeStructBegin("StreamResponse");a.response_id!=null&&(c.writeFieldBegin({fname:"response_id",ftype:b("ThriftTypes").I64,fid:1}),c.writeI64(b("jsbi").BigInt(a.response_id)));c.writeFieldBegin({fname:"delta",ftype:b("ThriftTypes").LIST,fid:2});if(a.delta!=null){c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:a.delta.length});for(var d=a.delta,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;b("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(g,c)}}else{g=[];c.writeListBegin({etype:b("ThriftTypes").STRUCT,size:g.length});for(var f=0;f<g.length;f++){e=g[f];b("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(e,c)}}if(a.ack_level!=null){c.writeFieldBegin({fname:"ack_level",ftype:b("ThriftTypes").I32,fid:3});c.writeI32((d=a.ack_level)!=null?d:0)}a.query_request!=null&&(c.writeFieldBegin({fname:"query_request",ftype:b("ThriftTypes").STRING,fid:4}),c.writeBinary(a.query_request));a.instrumentation_data!=null&&(c.writeFieldBegin({fname:"instrumentation_data",ftype:b("ThriftTypes").STRING,fid:5}),c.writeBinary(a.instrumentation_data));c.writeFieldStop();c.writeStructEnd()},n=function(a,c){c.writeStructBegin("Payload");if(a.request_headers!=null){c.writeFieldBegin({fname:"request_headers",ftype:b("ThriftTypes").STRUCT,fid:1});i(a.request_headers,c);c.writeFieldStop();c.writeStructEnd();return}if(a.request_body!=null){c.writeFieldBegin({fname:"request_body",ftype:b("ThriftTypes").STRUCT,fid:2});j(a.request_body,c);c.writeFieldStop();c.writeStructEnd();return}if(a.amend!=null){c.writeFieldBegin({fname:"amend",ftype:b("ThriftTypes").STRUCT,fid:3});k(a.amend,c);c.writeFieldStop();c.writeStructEnd();return}if(a.ack!=null){c.writeFieldBegin({fname:"ack",ftype:b("ThriftTypes").STRUCT,fid:4});l(a.ack,c);c.writeFieldStop();c.writeStructEnd();return}if(a.response!=null){c.writeFieldBegin({fname:"response",ftype:b("ThriftTypes").STRUCT,fid:5});m(a.response,c);c.writeFieldStop();c.writeStructEnd();return}if(a.ping!=null){c.writeFieldBegin({fname:"ping",ftype:b("ThriftTypes").STRUCT,fid:6});b("RequestStreamCommonRequestStreamCommonSerializers").serializePing(a.ping,c);c.writeFieldStop();c.writeStructEnd();return}if(a.pong!=null){c.writeFieldBegin({fname:"pong",ftype:b("ThriftTypes").STRUCT,fid:7});b("RequestStreamCommonRequestStreamCommonSerializers").serializePong(a.pong,c);c.writeFieldStop();c.writeStructEnd();return}c.writeFieldStop();c.writeStructEnd()},o=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.headers=a.readBinary():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.instrumentation_data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();return c},p=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").STRING?c.body=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.body===void 0&&(c.body=Uint8Array.of());return c},q=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.amendment_id=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").STRING?c.amendment=a.readBinary():a.skip(e);break;case 3:e===b("ThriftTypes").BOOL?c.is_query=a.readBool():a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.instrumentation_data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.amendment===void 0&&(c.amendment=Uint8Array.of());return c},r=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.response_id=a.readI64().toString():a.skip(e);break;case 2:e===b("ThriftTypes").I32?c.ack=b("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(a.readI32()):a.skip(e);break;case 3:e===b("ThriftTypes").STRING?c.query_result=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.ack===void 0&&(c.ack=b("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0));return c},s=function(a){var c={};a.readStructBegin();while(!0){var d=a.readFieldBegin(),e=d.ftype;d=d.fid;if(e===b("ThriftTypes").STOP)break;switch(d){case 1:e===b("ThriftTypes").I64?c.response_id=a.readI64().toString():a.skip(e);break;case 2:if(e===b("ThriftTypes").LIST){c.delta=[];d=a.readListBegin();for(var f=0;f<d.size;f++){var g=b("RequestStreamCommonRequestStreamCommonSerializers").deserializeStreamResponseDelta(a);c.delta.push(g)}}else a.skip(e);break;case 3:e===b("ThriftTypes").I32?c.ack_level=b("RequestStreamCommonRequestStreamCommonTypes").AckLevel.cast(a.readI32()):a.skip(e);break;case 4:e===b("ThriftTypes").STRING?c.query_request=a.readBinary():a.skip(e);break;case 5:e===b("ThriftTypes").STRING?c.instrumentation_data=a.readBinary():a.skip(e);break;default:a.skip(e)}a.readFieldEnd()}a.readStructEnd();c.delta===void 0&&(c.delta=[]);return c},t=function(a){var c,d={};a.readStructBegin();while(!0){var e=a.readFieldBegin(),f=e.ftype;e=e.fid;if(f===b("ThriftTypes").STOP)break;switch(e){case 1:if(f===b("ThriftTypes").STRUCT)if(c==null)d.request_headers=o(a),c="request_headers";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_headers, previous deserialized field: "+c);else a.skip(f);break;case 2:if(f===b("ThriftTypes").STRUCT)if(c==null)d.request_body=p(a),c="request_body";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_body, previous deserialized field: "+c);else a.skip(f);break;case 3:if(f===b("ThriftTypes").STRUCT)if(c==null)d.amend=q(a),c="amend";else throw new Error("more than one field have been deserialized in union type: Payload; current field: amend, previous deserialized field: "+c);else a.skip(f);break;case 4:if(f===b("ThriftTypes").STRUCT)if(c==null)d.ack=r(a),c="ack";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ack, previous deserialized field: "+c);else a.skip(f);break;case 5:if(f===b("ThriftTypes").STRUCT)if(c==null)d.response=s(a),c="response";else throw new Error("more than one field have been deserialized in union type: Payload; current field: response, previous deserialized field: "+c);else a.skip(f);break;case 6:if(f===b("ThriftTypes").STRUCT)if(c==null)d.ping=b("RequestStreamCommonRequestStreamCommonSerializers").deserializePing(a),c="ping";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ping, previous deserialized field: "+c);else a.skip(f);break;case 7:if(f===b("ThriftTypes").STRUCT)if(c==null)d.pong=b("RequestStreamCommonRequestStreamCommonSerializers").deserializePong(a),c="pong";else throw new Error("more than one field have been deserialized in union type: Payload; current field: pong, previous deserialized field: "+c);else a.skip(f);break;default:a.skip(f)}a.readFieldEnd()}a.readStructEnd();return d};e.exports={AmendStream$DefaultConstructor:d,Payload$DefaultConstructor:h,RequestStreamBody$DefaultConstructor:c,RequestStreamHeaders$DefaultConstructor:a,StreamResponse$DefaultConstructor:g,StreamResponseAck$DefaultConstructor:f,deserializeAmendStream:q,deserializePayload:t,deserializeRequestStreamBody:p,deserializeRequestStreamHeaders:o,deserializeStreamResponse:s,deserializeStreamResponseAck:r,serializeAmendStream:k,serializePayload:n,serializeRequestStreamBody:j,serializeRequestStreamHeaders:i,serializeStreamResponse:m,serializeStreamResponseAck:l}}),null);
__d("DGWStreamSetup",["regeneratorRuntime","CompactSerializer","DGWStream","DGWStreamCallbacks","FBDGWClient","FBLogger","RequestStreamSingleChannelSingleChannelRequestStreamSerializers"],(function(a,b,c,d,e,f){"use strict";f.setupRequestStream=a;function g(a,b){var c={};a=Object.entries(a);for(var d=0;d<a.length;d++){var e=a[d],f=e[0];e=e[1];typeof e=="string"?c["XRSS-"+f]=e:typeof e=="number"&&(c["XRSN-"+f]=e.toString())}b&&(c["xrs-body"]="true");return c}var h=function(){function a(a){this.$2=!1,this.$1=a}var c=a.prototype;c.onDataReceived=function(a){var c=this;if(this.$2){b("FBLogger")("requeststream-web").warn("get data after socket closed");return}a=b("CompactSerializer").deserialize(a,b("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").deserializePayload);if(a.response){a=a.response.delta;a.forEach(function(a){if(a.data)c.$1.onData(new TextDecoder("utf-8").decode(a.data.bytes));else if(a.flow_status)c.$1.onFlowStatus(a.flow_status);else if(a.termination){var d;d=(d=a.termination.message)!=null?d:"unknown termination msg";c.$1.onTermination(d)}else a.log?c.$1.onLog(a.log.message):b("FBLogger")("requeststream-web").warn("not support other delta type now")})}else b("FBLogger")("requeststream-web").warn("not support other Payload type now")};c.onError=function(a){this.$2=!0;switch(a){case b("DGWStream").StreamError.ABNORMAL_CLOSURE:this.$1.onTermination("Received error for abnormal closure");break;case b("DGWStream").StreamError.SERVER_INTERNAL_ERROR:this.$1.onTermination("Received error for internal server error");break;default:this.$1.onTermination("Received unknown error")}};c.onClose=function(a){this.$2||(a.close(),this.$2=!0,this.$1.onTermination("Client receive OnClose and Server will not send more data"))};c.onStreamMustDrain=function(a,c){!this.$2?(a.close(),this.$2=!0,this.$1.onTermination("onStreamMustDrain for RS Client: "+c)):b("FBLogger")("requeststream-web").warn("got onStreamMustDrain, but Stream has already been closed")};return a}();f.RSDGWStreamCallback=h;function a(a,c,d,e){var f,i,j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:f=g(c,d!=null);i=new h(a);j={};e!=null&&(j=(k=e.dgwStreamOptions)!=null?k:{});m.next=6;return b("regeneratorRuntime").awrap(b("FBDGWClient")().establishDGWStream(f,"realtime",i,j));case 6:l=m.sent;return m.abrupt("return",l);case 8:case"end":return m.stop()}},null,this)}}),null);
__d("StreamRef",["regeneratorRuntime","CompactSerializer","DGWStreamSetup","FBLogger","RequestStreamSingleChannelSingleChannelRequestStreamSerializers","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=b("$InternalEnum").Mirrored(["CREATED","STARTED","DISCONNECTED"]);f.StreamState=g;a=function(){function a(a,b,c,d,e){this.$1=g.CREATED,this.$3=a,this.$4=b,this.$5=c,this.$6=e,this.$7=d}var c=a.prototype;c.start=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:if(!(this.$1===g.CREATED)){c.next=19;break}c.prev=1;c.next=4;return b("regeneratorRuntime").awrap(b("DGWStreamSetup").setupRequestStream(this.$5,this.$3,this.$4,this.$7));case 4:this.$2=c.sent;c.next=11;break;case 7:c.prev=7;c.t0=c["catch"](1);b("FBLogger")("requeststream-web").warn("establishDGWStream failed");return c.abrupt("return",!1);case 11:if(!(this.$1===g.DISCONNECTED)){c.next=15;break}b("FBLogger")("requeststream-web").warn("already cancle stream before establishing it");this.$2&&this.$2.close();return c.abrupt("return",!1);case 15:this.$1=g.STARTED;a={};this.$4!=null&&(a={request_body:{body:new TextEncoder().encode(this.$4)}});return c.abrupt("return",this.$2.send(b("CompactSerializer").serialize(a,b("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload)));case 19:if(!(this.$1===g.STARTED)){c.next=24;break}b("FBLogger")("requeststream-web").warn("stream was already started");return c.abrupt("return",!1);case 24:b("FBLogger")("requeststream-web").warn("stream has not started");return c.abrupt("return",!1);case 26:case"end":return c.stop()}},null,this,[[1,7]])};c.amendwithoutAck=function(a){this.$1===g.STARTED&&this.$2?this.$2.send(a):b("FBLogger")("requeststream-web").warn("amendwithoutAck when stream has not started")};c.cancel=function(){this.$1===g.STARTED?this.$2&&this.$2.close():b("FBLogger")("requeststream-web").warn("cancel when stream has not started"),this.$1=g.DISCONNECTED};c.isActive=function(){return this.$1===g.STARTED};c.getState=function(){return this.$1};return a}();f.StreamRef=a}),null);
__d("DGWRequestStreamClient",["regeneratorRuntime","StreamRef"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var c=a.prototype;c.requestStream=function(a,c,d,e,f){var g,h;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:g=new(b("StreamRef").StreamRef)(a,c,d,e,f);i.next=3;return b("regeneratorRuntime").awrap(g.start());case 3:h=i.sent;if(!h){i.next=8;break}return i.abrupt("return",g);case 8:throw new Error("failed to start request stream");case 9:case"end":return i.stop()}},null,this)};return a}();f.DGWRequestStreamClient=a}),null);
__d("RequestStreamHandler",["RequestStreamCommonRequestStreamCommonTypes"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c,d){this.$1=a,this.$2=b,this.$3=c||function(a){},this.$4=d,this.$5=!1}var c=a.prototype;c.onFlowStatus=function(a){this.$4(a),a===b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started&&(this.$5=!0)};c.onData=function(a){this.$1!=null&&this.$5&&this.$1(a)};c.onTermination=function(a){this.$2(new Error(""+a))};c.onLog=function(a){this.$3(a)};return a}();e.exports=a}),null);
__d("RtiRequestStreamPulsarClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1745999");c=b("FalcoLoggerInternal").create("rti_request_stream_pulsar_client",a);e.exports=c}),null);
__d("PulsarLogger",["CurrentUser","RtiRequestStreamPulsarClientFalcoEvent"],(function(a,b,c,d,e,f){a=function(){function a(){}var c=a.prototype;c.log=function(a,c){b("RtiRequestStreamPulsarClientFalcoEvent").log(function(){return{test_id:c.testId,user_id:b("CurrentUser").getID(),request_id:c.requestId,test_name:a.testName,test_result:c.testResult,failure_reason:c.failureReason,transport:a.transport,payload_interval_ms:a.payloadIntervalMs.toString(),subscribe_issued:c.subscribeIssued,subscribe_success:c.subscribeSuccess,subscribe_latency_ms:c.subscribeLatencyMs.toString(),subscribe_timeout_interval_ms:a.timeoutIntervalMs.toString(),publish_timeout_interval_ms:c.publishTimeoutIntervalMs.toString(),num_flow_status_started:c.numFlowStatusStarted.toString(),num_flow_status_accepted:c.numFlowStatusAccepted.toString(),num_flow_status_stopped:c.numFlowStatusStopped.toString(),num_payloads_expected:a.numPayloadsExpected.toString(),num_payloads_received:c.numPayloadsReceived.toString(),test_duration_ms:c.testDurationMs.toString(),test_end_time_ms:c.testEndTimeMs.toString()}})};return a}();c=new a();f.pulsarLogger=c}),null);
__d("TestStateMachine",["BladeRunnerLogger","PulsarLogger","$InternalEnum"],(function(a,b,c,d,e,f){var g=b("$InternalEnum").Mirrored(["INITIAL","START","REQUEST_LANDED","SUCCESS","FAILURE","ABORT"]),h="Request timeout",i="Publish timeout",j="Payload integrity check failure",k="Stream terminate";a=function(){function a(a,b,c){this.$1=b,this.$2=c,this.$3=a,this.$4=g.INITIAL,this.$5=0,this.$6=0,this.$7=0,this.$8=Date.now(),this.$12=0,this.$13=0,this.$14=0,this.$15=0,this.$9=0,this.$10=0,this.$11=0}var c=a.prototype;c.hasTestEnd=function(){return this.$4===g.SUCCESS||this.$4===g.ABORT||this.$4===g.FAILURE};c.updatePublishTimeoutIntervalMs=function(){this.$5==0&&(this.$15=this.$3.payloadIntervalMs),this.$15=this.$3.timeoutIntervalMs+this.$3.payloadIntervalMs};c.getFailureReason=function(){return this.$16!=null?this.$17!=null?this.$16+" lastSeenError: "+this.$17:this.$16:""};c.logTestResult=function(){this.$11=Date.now(),b("BladeRunnerLogger").info("Pulsar test concluded. Number of expected payloads = "+this.$3.numPayloadsExpected+" , Number of received payload = "+this.$5+" , Test Result = "+this.$4+", Failure reason: "+(this.$16!=null?this.$16:"")),b("PulsarLogger").pulsarLogger.log(this.$3,{testId:this.$1,requestId:this.$2,testResult:this.hasTestEnd()?this.$4:"Unknown",numFlowStatusAccepted:this.$12,numFlowStatusStarted:this.$13,numFlowStatusStopped:this.$14,numPayloadsReceived:this.$5,publishTimeoutIntervalMs:this.$15,subscribeIssued:this.$6>0,subscribeLatencyMs:this.$10,subscribeSuccess:this.$7>0,testDurationMs:this.$11-this.$8,testEndTimeMs:this.$11,failureReason:this.$4===g.SUCCESS?"":this.getFailureReason()})};c.onStart=function(){var a=this;b("BladeRunnerLogger").info("Pulsar starts testId:"+this.$1+"requestId: "+this.$2);if(this.$4!==g.INITIAL){b("BladeRunnerLogger").warn("Drop Pulsar request");return}this.$4=g.START;this.$6++;this.$10==0&&(this.$9=Date.now());this.$18=setTimeout(function(){a.onTimeOut()},this.$3.timeoutIntervalMs)};c.onRequestLanded=function(){var a=this;b("BladeRunnerLogger").info("Pulsar request Landed");if(this.$4!==g.START){b("BladeRunnerLogger").warn("drop the request ack");return}clearTimeout(this.$18);this.updatePublishTimeoutIntervalMs();this.$4=g.REQUEST_LANDED;this.$7++;this.$10==0&&(this.$10=Date.now()-this.$9);this.$18=setTimeout(function(){a.onTimeOut()},this.$15)};c.onPayloadReceived=function(a){var c=this;b("BladeRunnerLogger").info("Pulsar payload received");if(this.$4!==g.REQUEST_LANDED){b("BladeRunnerLogger").warn("drop the received payload");return}clearTimeout(this.$18);this.$5++;this.updatePublishTimeoutIntervalMs();if(!this.payloadIntegrityCheck(a)){this.$16=j;this.$4=g.FAILURE;this.logTestResult();return}this.$3.numPayloadsExpected<=this.$5?(this.$4=g.SUCCESS,this.logTestResult()):this.$18=setTimeout(function(){c.onTimeOut()},this.$15)};c.onTerminate=function(a){b("BladeRunnerLogger").info("Pulsar on terminate");if(this.hasTestEnd()){b("BladeRunnerLogger").info("stream gets terminated after test ends "+a);return}clearTimeout(this.$18);this.$4=g.FAILURE;this.$16=k;this.$17=a;this.logTestResult()};c.onFlowStatusAccepted=function(){this.$12++};c.onFlowStatusStarted=function(){b("BladeRunnerLogger").info("Pulsar on flow status started"),this.$13++};c.onFlowStatusStopped=function(){this.$14++};c.onTimeOut=function(){b("BladeRunnerLogger").info("Pulsar timeout");if(this.hasTestEnd()){b("BladeRunnerLogger").warn("Timer not stopped after test ends");return}this.$4===g.REQUEST_LANDED?this.$16=i:this.$16=h;this.$4=g.FAILURE;this.logTestResult()};c.payloadIntegrityCheck=function(a){a=JSON.parse(a);a=a.payload||"";return a.length==this.$3.payloadSize+(this.$7-1)};return a}();e.exports=a}),null);
__d("PulsarClient",["BladeRunnerDeferredClient","BladeRunnerLogger","BladeRunnerStreamHandler","BladeRunnerTypes","DGWRequestStreamClient","Random","RequestStreamCommonRequestStreamCommonTypes","RequestStreamHandler","TestStateMachine","promiseDone","qex","uuid","$InternalEnum"],(function(a,b,c,d,e,f){var g=b("$InternalEnum").Mirrored(["WEB_BR_MQTT","WEB_RS_MQTT","WEB_RS_STARGATE"]);a=function(){function a(){var a;this.$1=(a=b("qex")._("1814429"))!=null?a:"web_pulsar_qe";a=(a=b("qex")._("1814371"))!=null?a:"WEB_BR_MQTT";this.$2=[];for(var a=a.split(","),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;switch(e){case"WEB_BR_MQTT":this.$2.push(g.WEB_BR_MQTT);break;case"WEB_RS_MQTT":this.$2.push(g.WEB_RS_MQTT);break;case"WEB_RS_STARGATE":this.$2.push(g.WEB_RS_STARGATE);break;default:b("BladeRunnerLogger").info("Pulsar test unknown transport");break}}this.$3=(e=b("qex")._("1787520"))!=null?e:0;this.$4=(d=b("qex")._("1841667"))!=null?d:2;this.$5=(c=b("qex")._("1841668"))!=null?c:100;this.$6=(a=b("qex")._("1841669"))!=null?a:1e5;this.$7=(e=b("qex")._("1841670"))!=null?e:1e4}var c=a.prototype;c.getBodyString=function(a){a={number_of_payloads:a.numPayloadsExpected,payload_size_in_bytes:a.payloadSize,time_interval_in_seconds:a.payloadIntervalMs/1e3,test_name:a.testName,time_span_mode:"fixed",publish_mode:"direct"};return JSON.stringify({input:a})};c.startSinglePulsarTest=function(){if(!b("Random").coinflip(this.$3)||window.document.location.href.includes("intern")||!window.document.location.href.includes("facebook.com"))return;var a=b("uuid")(),c=a;for(var d=this.$2,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=d.length)break;h=d[f++]}else{f=d.next();if(f.done)break;h=f.value}h=h;var i={testName:this.$1,transport:h,numPayloadsExpected:this.$4,payloadIntervalMs:this.$6,payloadSize:this.$5,timeoutIntervalMs:this.$7};h===g.WEB_BR_MQTT?this.runMQTTTest(a,c,i):this.runRSClientTest(h,a,c,i)}};c.runMQTTTest=function(a,c,d){b("BladeRunnerLogger").info("Running MQTT pulsar test");var e=b("BladeRunnerDeferredClient"),f=new(b("TestStateMachine"))(d,a,c),g=new(b("BladeRunnerStreamHandler"))(function(a){f.onPayloadReceived(a)},null,function(a){switch(a){case b("BladeRunnerTypes").StreamStatus.ACCEPTED:f.onFlowStatusAccepted();break;case b("BladeRunnerTypes").StreamStatus.STARTED:f.onFlowStatusStarted();f.onRequestLanded();break;case b("BladeRunnerTypes").StreamStatus.PAUSED:f.onFlowStatusStopped();break;case b("BladeRunnerTypes").StreamStatus.REJECTED:f.onTerminate("StreamUpdate: REJECTED");break;case b("BladeRunnerTypes").StreamStatus.CLOSED:f.onTerminate("StreamUpdate: CLOSED");break;default:b("BladeRunnerLogger").info("Pulsar Received statusUpdate unknown?")}},function(a){b("BladeRunnerLogger").info(" Pulsar Received log: "+a)},function(a){b("BladeRunnerLogger").info("Pulsar Received batch: "+JSON.stringify(a))});f.onStart();e.requestStream({method:"Pulsar",test_id:a},this.getBodyString(d),g,{requestId:c,forceLogContext:"pulsar"})};c.runRSClientTest=function(a,c,d,e){b("BladeRunnerLogger").info("Running SG pulsar test");a=new(b("DGWRequestStreamClient").DGWRequestStreamClient)();var f=new(b("TestStateMachine"))(e,c,d),g=new(b("RequestStreamHandler"))(function(a){f.onPayloadReceived(a)},function(a){f.onTerminate(a.message)},function(a){b("BladeRunnerLogger").info(" Pulsar Received log: "+a)},function(a){switch(a){case b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:f.onFlowStatusAccepted();break;case b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started:f.onFlowStatusStarted();f.onRequestLanded();break;case b("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped:f.onFlowStatusStopped();break}});f.onStart();var h={dgwStreamOptions:{loggingId:d}};b("promiseDone")(a.requestStream({method:"Pulsar",test_id:c},this.getBodyString(e),g,h,{requestId:d,forceLogContext:"pulsar"}).then(function(){b("BladeRunnerLogger").info("DGW create stream successfully")})["catch"](function(a){b("BladeRunnerLogger").info("DGW failed to create stream, with exception msg: "+a.message)}))};return a}();c=new a();e.exports=c}),null);
__d("XVideoUnifiedCVCControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f){a=b("jsRouteBuilder")("/video/unified_cvc/",Object.freeze({}),void 0);c=a;e.exports=c}),null);
__d("usePremiumMusicVideoInterruptionSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"PremiumMusicVideoInterruptionSubscribeResponsePayload",kind:"LinkedField",name:"premium_music_video_interruption_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"disable_autoplay",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePremiumMusicVideoInterruptionSubscription",selections:b,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePremiumMusicVideoInterruptionSubscription",selections:b},params:{id:"3656947831001794",metadata:{subscriptionName:"premium_music_video_interruption_subscribe"},name:"usePremiumMusicVideoInterruptionSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("VideoPlayerRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},{defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"},{defaultValue:"DEFAULT",kind:"LocalArgument",name:"videoPlayerContext"}],kind:"Fragment",metadata:null,name:"VideoPlayerRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcaster_origin",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_trace_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_looping",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"loop_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical_enabled",storageKey:null},{alias:null,args:null,concreteType:"MusicVideoMetadata",kind:"LinkedField",name:"pmv_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permalink_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{alias:null,args:[{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSuborigin"}],kind:"ScalarField",name:"dash_prefetch_experimental",storageKey:null},{alias:null,args:null,concreteType:"VideoCaptionLocale",kind:"LinkedField",name:"video_available_captions_locales",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"localized_creation_method",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"SphericalVideoRenderer",kind:"LinkedField",name:"spherical_video_renderer",plural:!1,selections:[{documentName:"VideoPlayerRelay_video_spherical_video_renderer",fragmentName:"VideoPlayerSphericalRelay_sphericalVideoRenderer",fragmentPropName:"sphericalVideoRenderer",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreaks",kind:"LinkedField",name:"instream_video_ad_breaks_comet",plural:!1,selections:[{documentName:"VideoPlayerRelay_video_instream_video_ad_breaks_comet",fragmentName:"InstreamVideoAdBreaksPlayer_adBreaks",fragmentPropName:"adBreaks",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_premium_music_video",storageKey:null},{args:[{kind:"Variable",name:"playerOrigin",variableName:"playerOrigin"},{kind:"Variable",name:"playerSuborigin",variableName:"playerSuborigin"}],kind:"FragmentSpread",name:"useOzQuickStarterData_video"},{args:[{kind:"Variable",name:"videoPlayerContext",variableName:"videoPlayerContext"}],kind:"FragmentSpread",name:"useRelay3DVideoImplementations_video"},{args:null,kind:"FragmentSpread",name:"useVideoImplementations_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaConfig_video"},{args:null,kind:"FragmentSpread",name:"useResolvedVideoPlayerConfigs_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerShakaPerformanceLoggerRelay_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoAutoplayGatingResult_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoDRMInfo_video"},{args:null,kind:"FragmentSpread",name:"useGraphQLVideoP2PSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerCaptionsSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerLiveLatencyKnobSettings_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAudioAvailabilityInfoRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioSettings_video",selections:[{alias:null,args:null,concreteType:"AudioSettings",kind:"LinkedField",name:"audio_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"video_volume_setting",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerAudioAvailabilityInfoRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_availability",storageKey:null},{alias:null,args:null,concreteType:"VideoMutedSegment",kind:"LinkedField",name:"muted_segments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"mute_start_time_in_sec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mute_end_time_in_sec",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoAutoplayGatingResult_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoAutoplayGatingResult_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"autoplay_gating_result",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_autoplay_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_autoplay",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerDefaultControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControls_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplLive_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerDefaultControlsImplNotLive_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useGraphQLVideoDRMInfo_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoDRMInfo_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"drm_info",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useOzQuickStarterData_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"representation_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mime_codec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"segment_type",storageKey:null}];return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},{defaultValue:null,kind:"LocalArgument",name:"playerSuborigin"}],kind:"Fragment",metadata:null,name:"useOzQuickStarterData_video",selections:[{alias:null,args:[{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSuborigin"}],concreteType:"VideoPrefetchResources",kind:"LinkedField",name:"dash_prefetch_resources",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoPrefetchResource",kind:"LinkedField",name:"audio",plural:!0,selections:a,storageKey:null},{alias:null,args:null,concreteType:"VideoPrefetchResource",kind:"LinkedField",name:"video",plural:!0,selections:a,storageKey:null}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("useGraphQLVideoP2PSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGraphQLVideoP2PSettings_video",selections:[{alias:null,args:null,concreteType:"VideoP2PSettings",kind:"LinkedField",name:"p2p_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ticket",storageKey:null},{alias:null,args:null,concreteType:"VideoP2PSettingsConfig",kind:"LinkedField",name:"config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"delay_p2p_until_play",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"disable_hivejava_for_livevc",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoHiveInitializationOptions",kind:"LinkedField",name:"hive_initialization_options",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoHiveInitializationOptionHiveJava",kind:"LinkedField",name:"hive_java",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"min_version",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hive_tech_order",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug_level",storageKey:null}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerCaptionsSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerCaptionsSettings_video",selections:[{alias:null,args:null,concreteType:"CaptionsSettings",kind:"LinkedField",name:"captions_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"always_show_captions",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoPlayerLiveLatencyKnobSettings_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerLiveLatencyKnobSettings_video",selections:[{alias:null,args:null,concreteType:"VideoBroadcastLowLatencyConfig",kind:"LinkedField",name:"broadcast_low_latency_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ll_desired_latency_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ll_latency_tolerance_ms",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useRouteProductAttribution",["CometRouterRouteInfoContext","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=g.useContext(b("CometRouterRouteInfoContext"));return a==null?void 0:a.productAttribution}}),null);
__d("usePremiumMusicVideoInterruptionSubscription",["CometRelay","React","RelayRTIGraphQLSubscriptionTopicProvider","usePremiumMusicVideoInterruptionSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=g!==void 0?g:g=b("usePremiumMusicVideoInterruptionSubscription.graphql");b("RelayRTIGraphQLSubscriptionTopicProvider").registerProviderForQuery(i,function(a){a=a.input;return"gqls/premium_music_video_interruption_subscribe/user_id_"+a.user_id});function a(a){var c=b("CometRelay").useRelayEnvironment();h.useEffect(function(){if(a==null)return;var d=b("CometRelay").requestSubscription(c,{subscription:i,variables:{input:{user_id:a}}});return function(){d.dispose()}},[a,c])}}),null);
__d("useEventCallbackOn",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,b,c){g.useEffect(function(){a.addEventListener(b,c);return function(){a.removeEventListener(b,c)}},[a,b,c])}}),null);
__d("VideoPlayerContextSensitiveConfigUtils",[],(function(a,b,c,d,e,f){"use strict";var g=function(a,b){return b.every(function(b){return a[b.name]===b.value})};a=function(a,b){return b.find(function(b){return g(a,b.contexts)})};f.getFirstMatchingValueAndContextTargets=a}),null);
__d("VideoPlayerContextSensitiveConfigResolver",["requireCond","VideoPlayerContextSensitiveConfigUtils","VideoPlayerContextSensitiveConfigPayload","cr:1724253"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1={},this.$2={},a==null?(this.$3=b("VideoPlayerContextSensitiveConfigPayload").static_values,this.$4=b("VideoPlayerContextSensitiveConfigPayload").context_sensitive_values):(this.$3=a.staticValues,this.$4=a.contextSensitiveValues)}var c=a.prototype;c.setContexts=function(a){this.$1=a,this.$2=this.$5(a)};c.getValue=function(a){if(this.$2[a]!=null)return this.$2[a];return this.$3[a]!=null?this.$3[a]:null};c.$5=function(a){var c=this;return Object.keys(this.$4).reduce(function(d,e){var f=c.$4[e];if(f!=null){f=b("VideoPlayerContextSensitiveConfigUtils").getFirstMatchingValueAndContextTargets(a,f);f!=null&&(d[e]=f.value)}return d},{})};a.getPayload=function(){return b("VideoPlayerContextSensitiveConfigPayload")};a.getSources=function(){return b("cr:1724253")};return a}();e.exports=a}),null);
__d("VideoPlayerShakaGlobalConfig",["VideoPlayerContextSensitiveConfigResolver"],(function(a,b,c,d,e,f){var g=new(b("VideoPlayerContextSensitiveConfigResolver"))(),h={};a=function(a){h=a};f.setGlobalOverrideConfig=a;c=function(a,b){if(!!h&&typeof h[a]==="boolean")return h[a];a=g.getValue(a);return a!=null&&typeof a==="boolean"?a:b};f.getBool=c;d=function(a,b){if(!!h&&typeof h[a]==="number")return h[a];a=g.getValue(a);return a!=null&&typeof a==="number"?a:b};f.getNumber=d;e=function(a,b){if(!!h&&typeof h[a]==="string")return h[a];a=g.getValue(a);return a!=null&&typeof a==="string"?a:b};f.getString=e}),null);
__d("useIsBackgrounded",["React","VideoPlayerShakaGlobalConfig","useEventCallbackOn"],(function(a,b,c,d,e,f){"use strict";e.exports=d;var g=b("React");function c(){var b=a.document;if(typeof b.hidden!=="undefined")return"visibilitychange";else if(typeof b.mozHidden!=="undefined")return"mozvisibilitychange";else if(typeof b.msHidden!=="undefined")return"msvisibilitychange";else if(typeof b.webkitHidden!=="undefined")return"webkitvisibilitychange";return"visibilitychange"}function h(){var b=a.document;if(typeof b.hidden!=="undefined")return b.hidden;else if(typeof b.mozHidden!=="undefined")return b.mozHidden;else if(typeof b.msHidden!=="undefined")return b.msHidden;else if(typeof b.webkitHidden!=="undefined")return b.webkitHidden;return!1}var i=c();function j(){var c=a.document.hasFocus?a.document.hasFocus():!0,d=h(),e=b("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1);return d||(e?!1:!c)}function d(c){var d=g.useState(function(){return j()}),e=d[0],f=d[1],h=!!c&&c.scrollTerminatesBackgrounded===!0;d=g.useCallback(function(){f(j())},[f,j]);c=d;var k=g.useCallback(function(){var a=j();a&&h&&e&&f(!1)},[e,h,f]);b("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1)&&(c=function(){});b("useEventCallbackOn")(a.window,"blur",c);b("useEventCallbackOn")(a.window,"focus",c);b("useEventCallbackOn")(a.document,i,d);b("useEventCallbackOn")(a.window,"scroll",k);return e}}),null);
__d("VideoPlayerViewabilityProvider.react",["React","VideoPlayerViewabilityContexts"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.isFullscreen;a=a.videoPlayerPassiveViewabilityInfo;return g.jsx(b("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext.Provider,{value:a,children:g.jsx(b("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:d,children:c})})}}),null);
__d("wrapWithContextProviders",["React"],(function(a,b,c,d,e,f){"use strict";f.wrapWithContextProviders=a;f.makeRenderProviderFn=c;var g=b("React");function a(a,b){return b.reduceRight(function(a,b){return b(a)},a)}function c(a,b){return function(c){return g.jsx(a.Provider,{value:b,children:c})}}}),null);
__d("VideoPlayerComponentContainer.react",["CometVisualCompletionAttributes","React","VideoPlayerContexts","VideoPlayerHooks","VideoPlayerViewabilityProvider.react","clearTimeout","requireCond","setTimeout","stylex","wrapWithContextProviders","cr:1269159"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a){var c=g.useRef(a);g.useEffect(function(){c.current=a},[a]);var d=g.useState(!1),e=d[0],f=d[1];d=g.useState(function(){var a=null;return{cleanup:function(){a&&a()},pingNotIdle:function(){a&&a();f(!1);var d=b("setTimeout")(function(){f(!0)},c.current);a=function(){b("clearTimeout")(d),a=null}}}});d=d[0];var h=d.cleanup;d=d.pingNotIdle;g.useEffect(function(){return h},[h]);return{isIdle:e,pingNotIdle:d}}function i(){var a=g.useState(!1),b=a[0],c=a[1];a=3e3;a=h(a);var d=a.isIdle,e=a.pingNotIdle;a=g.useCallback(function(){c(!0),e()},[e]);var f=g.useCallback(function(){c(!1),e()},[e]),i=g.useCallback(function(){c(!0),e()},[e]),j=g.useCallback(function(){e()},[e]),k=g.useCallback(function(){e()},[e]);return{isHovering:b,isIdle:d,onMouseDown:j,onMouseEnter:a,onMouseLeave:f,onMouseMove:i,onMouseUp:k}}function j(a){var c=i(),d=c.isHovering,e=c.isIdle,f=c.onMouseDown,h=c.onMouseEnter,j=c.onMouseLeave,k=c.onMouseMove;c=c.onMouseUp;var l=b("VideoPlayerHooks").useIsFullscreen();return g.jsx("div",babelHelpers["extends"]({className:"k4urcfbm kr520xx4 pmk7jnqg datstx6m"+(l&&e?" sorcqhzv":"")},b("CometVisualCompletionAttributes").IGNORE,{onMouseDown:f,onMouseEnter:h,onMouseLeave:j,onMouseMove:k,onMouseUp:c,children:g.jsx(b("VideoPlayerContexts").VideoPlayerMouseHoverContext.Provider,{value:d,children:g.jsx(b("VideoPlayerContexts").VideoPlayerMouseIdleContext.Provider,{value:e,children:a.children})})}))}function a(a){var c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var d=a.adClientToken,e=a.audioAvailabilityInfo,f=a.autoplayGatingResult,h=a.broadcastStatus,i=a.canAutoplay,k=a.controller,l=a.dimensions,m=a.initialTracePolicy,n=a.instanceKey,o=a.isFullscreen,p=a.isPremiumMusicVideo,q=a.lastMuteReason,r=a.lastPauseReason,s=a.lastPlayReason,t=a.originalHeight,u=a.originalWidth,v=a.videoFBID,w=a.videoPlayerPassiveViewabilityInfo,x=a.videoState,y=a.volumeSetting,z=x.activeCaptions,A=x.availableVideoQualities,B=x.bufferEnd,C=x.captionsLoaded,D=x.captionsVisible,E=x.currentVideoQuality,F=x.duration,G=x.ended,H=x.error,I=x.inbandCaptionsAutogenerated,J=x.inPlayStalling,K=x.isAbrEnabled,L=x.isLiveRewindActive,M=x.lastPlayedTimeMs,N=x.loopCount,O=x.loopCurrent,P=x.muted,Q=x.paused,R=x.playerImplementationName,S=x.playing,T=x.seekableRanges,U=x.seeking,V=x.selectedVideoQuality,W=x.stalling,X=x.streamInterrupted,Y=x.targetAudioQuality,Z=x.targetPlaybackRate,$=x.targetVideoQuality,aa=x.volume;x=x.watchTimeMs;c=g.jsx(j,{children:c});b("cr:1269159")(n,{controller:k,coreVideoStates:a,videoPlayerPassiveViewabilityInfo:w});v=(a=b("wrapWithContextProviders")).wrapWithContextProviders(c,[a.makeRenderProviderFn((c=b("VideoPlayerContexts")).VideoFBIDContext,v),a.makeRenderProviderFn(c.StallingContext,W),a.makeRenderProviderFn(c.PlayingContext,S),a.makeRenderProviderFn(c.InPlayStallingContext,J),a.makeRenderProviderFn(c.BufferEndContext,B),a.makeRenderProviderFn(c.LastMuteReasonContext,q),a.makeRenderProviderFn(c.LastPlayReasonContext,s),a.makeRenderProviderFn(c.LastPauseReasonContext,r),a.makeRenderProviderFn(c.PausedContext,Q),a.makeRenderProviderFn(c.CurrentVideoQualityContext,E),a.makeRenderProviderFn(c.MutedContext,P),a.makeRenderProviderFn(c.VolumeContext,aa),a.makeRenderProviderFn(c.SelectedVideoQualityContext,V),a.makeRenderProviderFn(c.SeekingContext,U),a.makeRenderProviderFn(c.DurationContext,F),a.makeRenderProviderFn(c.EndedContext,G),a.makeRenderProviderFn(c.ErrorContext,H),a.makeRenderProviderFn(c.DimensionsContext,l||null),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").InstanceKeyContext,n),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").ControllerContext,k),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").AvailableVideoQualitiesContext,A),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").PlayerImplementationNameContext,R),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").IsAbrEnabledContext,K),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").TargetAudioQualityContext,Y),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").TargetVideoQualityContext,$),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").PlaybackRateContext,Z),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").CanAutoplayContext,i),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").VolumeSettingContext,y),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").AutoplayGatingResultContext,f),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").BroadcastStatusContext,h),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").LoopCountContext,N),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").LoopCurrentContext,O),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").AdClientTokenContext,d),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").ActiveCaptionsContext,z),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").CaptionsVisibleContext,D),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").CaptionsLoadedContext,C),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").InbandCaptionsAutogeneratedContext,I),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").StreamInterruptedContext,X),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").WatchTimeContext,x),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").LastPlayedTimeContext,M),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").SeekableRangesContext,T),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").IsLiveRewindActiveContext,L),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").AudioAvailabilityInfoContext,e),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").IsPremiumMusicVideoContext,p),b("wrapWithContextProviders").makeRenderProviderFn(b("VideoPlayerContexts").InitialTracePolicyContext,m),function(a){return g.jsx(b("VideoPlayerContexts").VideoOriginalDimensionsContextMemoProvider,{originalHeight:t,originalWidth:u,children:a})},function(a){return g.jsx(b("VideoPlayerViewabilityProvider.react"),{isFullscreen:o,videoPlayerPassiveViewabilityInfo:w,children:a})}]);return g.jsx("div",{"data-instancekey":n,"data-testid":void 0,children:v})}c=g.memo(a);e.exports=c}),null);
__d("GlobalVideoPortsID",["cometUniqueID","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.makeVideoID=a;f.ensureVideoID=c;f.makePlaceID=d;function a(){return"id-pv-"+b("cometUniqueID")()}function c(a){if(typeof a==="string"){var c="id-pv-";if(a.indexOf(c)===0&&a.length>c.length)return a;else throw b("unrecoverableViolation")('Expected a GlobalVideoPortsVideoID, got a string that does not look like it: "'+a+'"',"comet_video_player")}else return null}function d(){return"id-pp-"+b("cometUniqueID")()}}),null);
__d("VideoPlayerFullscreenController",["CometFullScreen","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.createFullscreenController=a;function g(a){return a.current!=null&&b("CometFullScreen").getFullScreenElement()===a.current}function a(a){var c=[];function d(){c.forEach(function(a){a()})}var e=null;return{getIsFullscreen:function(){return g(a)},requestSetIsFullscreen:function(c){var d=a.current;if(d==null)throw b("unrecoverableViolation")("Requested full screen while the element is not present","comet_video_player");c!==g(a)&&(c===!0?b("CometFullScreen").requestFullScreen(d):c===!1&&b("CometFullScreen").exitFullScreen())},subscribe:function(a){c.length===0&&e==null&&(e=b("CometFullScreen").subscribeToFullScreenChangeEvent(d));c.push(a);return{remove:function(){b("removeFromArray")(c,a),c.length===0&&e!=null&&(e(),e=null)}}}}}}),null);
__d("VideoPlayerPortalingPlaceState",["GlobalVideoPortsContexts","GlobalVideoPortsID","React","gkx","usePrevious"],(function(a,b,c,d,e,f){"use strict";f.useVideoPlayerPortalingPlaceState=a;var g=b("React");c=function(a,c){var d=b("usePrevious")(a);g.useEffect(function(){a!==d&&(d!==null&&d&&!a&&c(b("GlobalVideoPortsID").makeVideoID()))},[a,d,c])};d=function(a,c){var d=g.useState(null),e=d[0];d=d[1];a!==e&&(e!==null&&e&&!a&&c(b("GlobalVideoPortsID").makeVideoID()),d(a))};var h=b("gkx")("1375802")?d:c;f.useRegenerateUniqueVideoID_exportedForTest=h;function a(a){var c=a.portalingEnabled;a=a.portalingFromVideoID;var d=b("GlobalVideoPortsContexts").useGlobalVideoPortsLoader(),e=b("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),f=b("GlobalVideoPortsContexts").useGlobalVideoPortsState(),i=e!=null&&f!=null,j=(i||d!=null)&&(c||a!=null),k=g.useState(function(){return b("GlobalVideoPortsID").makePlaceID()});k=k[0];var l=g.useState(function(){return b("GlobalVideoPortsID").makeVideoID()}),m=l[0];l=l[1];c=j&&c&&a!=null;a=c&&a!=null?a:m;h(c,l);g.useEffect(function(){j&&!i&&d&&d()},[i,j,d]);return{canBecomePortableLater:j,currentVideoID:a,globalVideoPortsManager:e,globalVideoPortsState:f,thisPlaceID:k}}}),null);
__d("VideoPlayerPortalingPlaceWithPortaling.react",["CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsRenderers.react","React","getOwnObjectValues","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.coreVideoPlayerMetaData,d=a.currentVideoID,e=a.fullscreenController,f=a.globalVideoPortsManager,h=a.globalVideoPortsState,i=a.implementations,j=a.isFullscreen,k=a.portablePlaceMetaData,l=a.renderComponents,m=a.renderPlaceholder,n=a.thisPlaceID,o=a.trackingDataEncrypted,p=a.trackingNodes,q=a.viewportMarginsForViewability;a=g.useState(function(){return b("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var r=a[0],s=g.useRef(null);b("useLayoutEffect_SAFE_FOR_SSR")(function(){f.addOrUpdatePlace({coreVideoPlayerMetaData:c,fullscreenController:e,implementations:i,injectCoreVideoStatesRef:s,isFullscreen:j,portablePlaceContainer:r,portablePlaceID:n,portablePlaceMetaData:k,portableVideoID:d,renderComponents:l,renderPlaceholder:m,trackingDataEncrypted:o,trackingNodes:p,viewportMarginsForViewability:q})},[].concat(b("getOwnObjectValues")(c),[d,e,j,f,r],b("getOwnObjectValues")(k||{}),[l,m,n,o,p,q]));b("useLayoutEffect_SAFE_FOR_SSR")(function(){return function(){f.removePlace({portablePlaceID:n})}},[f,n]);a=f.getPortableVideoState(h,d);return g.jsxs(g.Fragment,{children:[g.jsx(b("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:r},n),g.jsx(b("GlobalVideoPortsRenderers.react").GlobalVideoPortsVideoComponentsRenderer,{currentPlaceID:(h=(h=f.getCurrentPlaceStateForVideo(h,d))==null?void 0:h.portablePlaceID)!=null?h:null,currentVideoID:d,injectCoreVideoStatesRef:s,previousPlaceMetaData:(h=a==null?void 0:a.previousPlaceMetaData)!=null?h:null,renderComponents:l,thisPlaceID:n})]})}}),null);
__d("VideoPlayerPortalingPlace.react",["CometTrackingCodeContext","CometTrackingNodesContext","CometViewportMarginsContext","CoreVideoPlayer.react","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsID","GlobalVideoPortsRenderers.react","React","VideoPlayerFullscreenController","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerPortalingPlaceState","VideoPlayerPortalingPlaceWithPortaling.react","recoverableViolation","useStable"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h={bottom:0,left:0,right:0,top:0},i=g.forwardRef(function(a,c){var d=a.children;a=a.debugRole;return g.jsx(b("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentContainer,{debugRole:a,ref:c,children:d})});function a(a){var c=a.implementations,d=a.portalingEnabled,e=a.portalingFromVideoID,f=a.portalingPlaceMetaData,j=a.renderComponents,k=a.renderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","renderComponents","renderPlaceholder"]);g.useEffect(function(){return function(){}},[]);var l=e!=null?b("GlobalVideoPortsID").ensureVideoID(e):null;e!=null&&l==null&&b("recoverableViolation")("The provided portalingFromVideoID ("+String(e)+") does not look like such an ID. The video player will not use portaling until a valid ID is provided","comet_video_player");e=b("VideoPlayerPortalingPlaceState").useVideoPlayerPortalingPlaceState({portalingEnabled:d,portalingFromVideoID:l});d=e.canBecomePortableLater;l=e.currentVideoID;var m=e.globalVideoPortsManager,n=e.globalVideoPortsState;e=e.thisPlaceID;var o=g.useContext(b("CometViewportMarginsContext")),p=g.useRef(null),q=b("useStable")(function(){return b("VideoPlayerFullscreenController").createFullscreenController(p)}),r=g.useState(q.getIsFullscreen()),s=r[0],t=r[1];g.useEffect(function(){var a=q.subscribe(function(){var a=q.getIsFullscreen();t(a)});t(q.getIsFullscreen());return function(){a.remove()}},[q,t]);r=g.useContext(b("CometTrackingNodesContext"));r=r.join("");var u=g.useContext(b("CometTrackingCodeContext"));u=(u=u.encrypted_tracking[0])!=null?u:"";o=s?h:o;if(!d)return g.jsx(i,{debugRole:null,ref:p,children:g.jsx(b("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:e,currentVideoID:l,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:e,children:g.jsx(b("CoreVideoPlayer.react"),babelHelpers["extends"]({},a,{fullscreenController:q,implementations:c,isFullscreen:s,renderWithCoreVideoStates:j,trackingDataEncrypted:u,trackingNodes:r,viewportMarginsForViewability:o}))})});if(m&&n)return g.jsx(i,{debugRole:null,ref:p,children:g.jsx(b("VideoPlayerPortalingPlaceWithPortaling.react"),{coreVideoPlayerMetaData:a,currentVideoID:l,fullscreenController:q,globalVideoPortsManager:m,globalVideoPortsState:n,implementations:c,isFullscreen:s,portablePlaceMetaData:f,renderComponents:j,renderPlaceholder:k,thisPlaceID:e,trackingDataEncrypted:u,trackingNodes:r,viewportMarginsForViewability:o})});else return g.jsx(i,{debugRole:null,ref:p,children:g.jsx(b("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:null,currentVideoID:l,originalHeight:a.originalHeight,originalWidth:a.originalWidth,previousPlaceMetaData:null,renderPlaceholder:k,thisPlaceID:e})})}}),null);
__d("VideoPlayerTracePolicyProvider.react",["React","VideoPlayerTracePolicyContext"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.initialTracePolicy,e=a.routeTracePolicy;a=g.useState(d);var f=a[0],h=a[1];a=g.useState(e);var i=a[0],j=a[1];g.useEffect(function(){f!==d&&h(d),i!==e&&j(e)},[d,e,f,i]);return g.jsx(b("VideoPlayerTracePolicyContext").VideoPlayerTracePolicyContext.Provider,{value:{initialTracePolicy:f,routeTracePolicy:i},children:c})}}),null);
__d("CoreVideoPlayerWithComponents.react",["React","VideoPlayerComponentContainer.react","VideoPlayerPortalingPlace.react","VideoPlayerTracePolicyProvider.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,h=a.portalingPlaceMetaData,i=a.portalingRenderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder"]);var j=g.useCallback(function(a){return g.jsx(b("VideoPlayerComponentContainer.react"),babelHelpers["extends"]({},a,{children:c}))},[c]);return g.jsx(b("VideoPlayerTracePolicyProvider.react"),{initialTracePolicy:a.initialTracePolicy,routeTracePolicy:a.routeTracePolicy,children:g.jsx(b("VideoPlayerPortalingPlace.react"),babelHelpers["extends"]({},a,{implementations:d,portalingEnabled:e,portalingFromVideoID:f,portalingPlaceMetaData:h,renderComponents:j,renderPlaceholder:i}))})}}),null);
__d("VideoPlayerErrorBoundary.react",["FBLogger","React","getErrorSafe"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:null},c.suppressReactDefaultErrorLogging=!0,b)||babelHelpers.assertThisInitialized(c)}c.getDerivedStateFromError=function(a){return{error:b("getErrorSafe")(a)}};var d=c.prototype;d.componentDidCatch=function(a,c){c=c.componentStack;a=b("getErrorSafe")(a);a.componentStack=c;c=this.props;var d=c.description,e=c.onError;c=c.project;var f="ErrorBoundary caught an Error";d!=null&&(f=f+" ("+d+")");d=["OZ_NETWORK","BUFFERING_TIMEOUT","MEDIA_ERR_DECODE"];var g=!0;for(var h=0;h<d.length;h++)a.message.includes(d[h])&&(g=!1);d=b("FBLogger")(c==null?"comet_video_player":c).catching(a);g?d.fatal(f):d.warn(f);e!=null&&e(a)};d.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.error;return c?typeof a==="function"?a(c):a:b};return c}(a.PureComponent);e.exports=c}),null);
__d("VideoPlayerRetryableErrorBoundary.react",["React","VideoPlayerErrorBoundary.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.description,e=a.fallback;a=g.useState(0);var f=a[0],h=a[1],i=g.useCallback(function(){h(function(a){return a+1})},[]);a=g.useCallback(function(a){return f>=3?e({error:a,retry:null}):e({error:a,retry:i})},[e,i,f]);return g.jsx(b("VideoPlayerErrorBoundary.react"),{description:d,fallback:a,project:"comet_video_player",children:c},f)}}),null);
__d("VideoPlayerAutoplayHooks",["React","VideoPlayerAutoplayContexts","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.useAutoplayApi=a;f.useVideoAutoplayLocalScope=c;var g=b("React");function a(){var a=g.useContext(b("VideoPlayerAutoplayContexts").AutoplayApiContext);if(a==null)throw b("unrecoverableViolation")("Empty AutoplayApiContext. Are you rendering useAutoplayApi outside of VideoAutoplayManagerX?","comet_video_player");return a}function c(){return g.useContext(b("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext)}}),null);
__d("VideoPlayerDebugAutoplayAPI",["emptyFunction","requireCond","cr:1453865"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1453865"))!=null?a:{useVideoPlayerDebugAPI:b("emptyFunction").thatReturns(null),useVideoPlayerDebugAPIDefinition:b("emptyFunction"),useVideoPlayerDebugInfo:b("emptyFunction").thatReturns(null)};e.exports=c}),null);
__d("evaluateVideoAutoplayDefaultAllowRule",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return"ALLOW"}a.displayName="evaluateVideoAutoplayDefaultRule"}),null);
__d("evaluateVideoAutoplayDefaultIgnoreRule",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return"IGNORE"}a.displayName="evaluateVideoAutoplayDefaultIgnoreRule"}),null);
__d("makeSelectedAutoplayVideoSymbol",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){b=b+"::"+a;return b}}),null);
__d("AutoplayRulesEngine",[],(function(a,b,c,d,e,f){"use strict";var g=-2,h=-1;a=function(){function a(a){this.$1=g,this.$2=a}var b=a.prototype;b.evaluateAutoplay=function(a,b){b=b();var c=h;if(a)for(var d=0;d<this.$2.length;d++){var e=this.$2[d](a);if(e!=="SKIP"){b=e;c=d;break}}this.$1=c;return b};b.getIndexOfLastWinningRule=function(){return this.$1};b.getRules=function(){return this.$2};return a}();e.exports=a}),null);
__d("useAutoplayRulesEngine",["AutoplayRulesEngine","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=g.useRef(a),d=g.useState(function(){return new(b("AutoplayRulesEngine"))(a)}),e=d[0],f=d[1];g.useEffect(function(){c.current!==a&&f(function(){return new(b("AutoplayRulesEngine"))(a)})},[a]);g.useEffect(function(){c.current=e.getRules()},[e]);return e}}),null);
__d("useConcurrentAutoplayManagementAPI",["React","removeFromArray","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";f.useAutoplayControlID=a;f.createConcurrentAutoplayManagementAPI=h;f.useConcurrentAutoplayManagementAPI=c;var g=b("React");function a(){var a=b("useCometUniqueID")();return a}function h(){var a=[];return{isControllingComponent:function(b){var c=a.length;return a[c-1]===b},registerControllingComponent:function(c){b("removeFromArray")(a,c),a.push(c)},unregisterControllingComponent:function(c){var d=a.length;d>1&&b("removeFromArray")(a,c);return d>1}}}function c(){var a=g.useState(function(){return h()});a=a[0];return a}}),null);
__d("VideoPlayerOzWWWGlobalConfig",["VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f){"use strict";f.getBool=a;f.getNumber=c;f.getString=d;var g="oz_www_";function a(a,c){return b("VideoPlayerShakaGlobalConfig").getBool(g+a,c)}function c(a,c){return b("VideoPlayerShakaGlobalConfig").getNumber(g+a,c)}function d(a,c){return b("VideoPlayerShakaGlobalConfig").getString(g+a,c)}}),null);
__d("oz-player/configs/OzGlobalConfig",[],(function(a,b,c,d,e,f){"use strict";var g=null;a=function(a,b){return g?g.getBool(a,b):b};f.getBool=a;b=function(a,b){return g?g.getNumber(a,b):b};f.getNumber=b;c=function(a,b){return g?g.getString(a,b):b};f.getString=c;d=function(a){g=a};f.setGlobalConfig=d}),null);
__d("oz-player/shims/www/OzCacheStorageWWW",["CacheStorage","gkx"],(function(a,b,c,d,e,f){a="localstorage";c=b("gkx")("1621546")?"_oz_":"_video_";var g=new(b("CacheStorage"))(a,c);d={get:function(a){return g.get(a)},set:function(a,b){g.set(a,b)}};f=d;e.exports=f}),null);
__d("oz-player/shims/OzCacheStorage",["oz-player/shims/www/OzCacheStorageWWW"],(function(a,b,c,d,e,f){a=b("oz-player/shims/www/OzCacheStorageWWW");e.exports=a}),null);
__d("oz-player/shims/www/OzWindowEventsWWW",["Run"],(function(a,b,c,d,e,f){"use strict";a={onUnload:function(a){b("Run").onUnload(a)}};c=a;e.exports=c}),null);
__d("oz-player/shims/OzWindowEvents",["oz-player/shims/www/OzWindowEventsWWW"],(function(a,b,c,d,e,f){"use strict";a=b("oz-player/shims/www/OzWindowEventsWWW");e.exports=a}),null);
__d("oz-player/networks/OzBandwidthCache",["oz-player/shims/OzCacheStorage","oz-player/shims/OzWindowEvents"],(function(a,b,c,d,e,f){a=function(){function a(a,c){var d=this;this.$1=a;this.$2=c;b("oz-player/shims/OzWindowEvents").onUnload(function(){d.updateCachedBandwidth()})}var c=a.prototype;c.getCachedBandwidth=function(){var a=b("oz-player/shims/OzCacheStorage").get(this.$1);if(a==null)return null;a=Number(a);return isNaN(a)?null:a};c.updateCachedBandwidth=function(){b("oz-player/shims/OzCacheStorage").set(this.$1,String(this.$2()))};return a}();e.exports=a}),null);
__d("oz-player/networks/OzBandwidthUtils",[],(function(a,b,c,d,e,f){"use strict";f.getMeanBandwidth=g;f.getStandardDeviationOfBandwidth=h;f.getExponentiallyWeightedMovingAverage=i;f.getExponentiallyWeightedMovingAverageOfBandwidth=j;f.getBandwidthSamplesWithinRangeOfMean=k;f.getBandwidthEstimate=a;function g(a){var b=0;for(var c=0;c<a.length;c++)b+=a[c].bytes*8e3/a[c].timeInMs;return b/a.length}function h(a){var b=g(a),c=0;for(var d=0;d<a.length;d++)c+=Math.pow(a[d].bytes*8e3/a[d].timeInMs-b,2);return Math.round(Math.sqrt(c/a.length))}function i(a,b){b=Math.exp(Math.log(.5)/b);var c=0,d=0;for(var e=0;e<a.length;e++){var f=Math.pow(b,a[e].weight);c=a[e].value*(1-f)+c*f;d+=a[e].weight}return Math.round(c/(1-Math.pow(b,d)))}function j(a,b){return i(a.map(function(a){return{value:a.bytes*8e3/a.timeInMs,weight:a.timeInMs/1e3}}),b)}function k(a,b){var c=g(a),d=[];for(var e=0;e<a.length;e++)Math.abs(c-a[e].bytes*8e3/a[e].timeInMs)<b&&d.push(a[e]);return d}function a(a,b,c,d){var e=h(a);a=k(a,e*c);c=j(a,b);return c-e*d}}),null);
__d("oz-player/shims/OzEventEmitter",["requireCond","cr:1615798"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new(b("cr:1615798"))()}var c=a.prototype;c.addListener=function(a,b){return this.$1.addListener(a,b)};c.emit=function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=this.$1).emit.apply(b,[a].concat(d))};c.removeAllListeners=function(a){this.$1.removeAllListeners(a)};return a}();e.exports=a}),null);
__d("oz-player/shims/OzReadableStream",["requireCond","cr:1621176"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1621176");e.exports=a}),null);
__d("oz-player/shims/OzWritableStream",["requireCond","cr:1621177"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1621177");e.exports=a}),null);
__d("oz-player/utils/OzError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b.description)||this;c.$OzError1=b;c.name=b.type;return c}var c=b.prototype;c.getExtra=function(){return this.$OzError1.extra||{}};c.getType=function(){return this.$OzError1.type};c.getDescription=function(){return this.$OzError1.description};return b}(babelHelpers.wrapNativeSuper(Error));e.exports=a}),null);
__d("oz-player/networks/OzTransformStream",["oz-player/shims/OzEventEmitter","oz-player/shims/OzReadableStream","oz-player/shims/OzWritableStream","oz-player/utils/OzError"],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$OzTransformStream3=function(a){return a};c=c||{};c=c.errorTransform;(c===void 0||c===null)&&(c=d.$OzTransformStream3);var e=c||d.$OzTransformStream3;d.writable=new(b("oz-player/shims/OzWritableStream"))({start:function(a){d.$OzTransformStream2=a},write:function(a){d.emit("writableWrite",a);try{d.onDataWritten(a)}catch(a){d.$OzTransformStream1.error(new(b("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from write handler: "+d.constructor.name,extra:{code:"OZ_S-0",originalError:a}}))}d.$OzTransformStream1.enqueue(a)},close:function(){d.emit("writableClose");try{d.onClose()}catch(a){d.$OzTransformStream1.error(new(b("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from close handler: "+d.constructor.name,extra:{code:"OZ_S-1",originalError:a}}))}d.$OzTransformStream1.close()},abort:function(a){a=e(a);d.$OzTransformStream1.error(a)}});d.readable=new(b("oz-player/shims/OzReadableStream"))({start:function(a){d.$OzTransformStream1=a},cancel:function(a){d.emit("readableCancel",a),d.$OzTransformStream2.error(a)}});return d}var d=c.prototype;d.onDataWritten=function(a){};d.onClose=function(){};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=a}),null);
__d("oz-player/shims/OzNetworkDiagnostics",["requireCond","cr:1615799"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1615799");e.exports=a}),null);
__d("oz-player/utils/OzResourceTimingUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a){if(!performance.getEntriesByName)return null;a=performance.getEntriesByName(a,"resource");return a.reduce(function(a,b){if(a==null)return b;return typeof b.responseEnd==="number"&&typeof b.responseStart==="number"&&typeof b.startTime==="number"&&typeof a.responseEnd==="number"&&typeof a.responseStart==="number"&&typeof a.requestStart==="number"&&typeof a.startTime==="number"?b.responseEnd<a.responseEnd?a:b:null},null)};f.getLatestResourceTimingEntry=a}),null);
__d("oz-player/networks/OzNetworkRequestStreamBandwidthReporter",["oz-player/shims/OzNetworkDiagnostics","oz-player/utils/OzResourceTimingUtils","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f){"use strict";var g=b("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs;a=function(){function a(a){this.$10=Date.now();this.$11=0;this.$12=0;this.$13=function(){};this.$14=function(){};this.$15=new(b("oz-player/networks/OzTransformStream"))();var c=a.stream,d=a.loggerProvider,e=a.byteCountPerSample,f=a.minimumBytesToSampleOnClose,g=a.minimumSampleDuration,h=a.maximumSampleBandwidth,i=a.usePerformanceEntryOnClose,j=a.useResponseTimeMs,k=a.responseTimeHandicapMs,l=a.ignoreTimeToResponseStart;a=a.ignoreOnStreamWriteSamples;this.$1=c;this.$16=d;this.$2=e;this.$3=f;this.$4=g;this.$5=h;this.$6=i;this.$7=j;this.$8=k;this.$9=l;this.$17=a;this.$15.addListener("writableWrite",this.$18.bind(this));this.$15.addListener("writableClose",this.$19.bind(this))}var c=a.prototype;c.getTransformStream=function(){return this.$15};c.onBandwidthSample=function(a){this.$13=a};c.onTimeToFirstByteMsSample=function(a){this.$14=a};c.$20=function(a,b,c){b=b-c;if(this.$16){c=Date.now();this.$16&&this.$16.getOperationLogger("bandwidth_sampled").setLength(a).setClientTimeEnd(c).setClientTimeBegin(c-b).log()}this.$13(a,b)};c.$18=function(a){a.length!=void 0&&(this.$12+=a.length);if(this.$17)return;this.$21()};c.$19=function(){var a=Date.now()-this.$10,c=this.$1.getLastRequestUrl();c=c!=null?b("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(c):null;c&&this.$14(c.responseStart-c.requestStart);if(this.$3>0&&a>0&&this.$11===0&&this.$12>=this.$3){if(this.$6&&c&&c.responseEnd&&c.startTime){c=this.$9?c.responseEnd-c.responseStart:c.responseEnd-c.startTime;a=c>0?c:a}c=this.$1.getLastResponse();c=this.$7?g(c==null?void 0:c.headers)||0:0;this.$22(a,c)||this.$20(this.$12,a,Math.max(c-this.$8,0))}};c.$22=function(a,b){if(a-b<=0)return!0;b=this.$12*8/(a/1e3);return a<this.$4&&b>this.$5};c.$21=function(){var a=Date.now(),b=a-this.$10;this.$2>0&&this.$12>=this.$11+this.$2&&!this.$22(b,0)&&(this.$20(this.$12-this.$11,b,0),this.$10=a,this.$11=this.$12)};return a}();e.exports=a}),null);
__d("oz-player/shims/www/OzDeferredWWW",["Deferred"],(function(a,b,c,d,e,f){"use strict";a=b("Deferred");e.exports=a}),null);
__d("oz-player/shims/OzDeferred",["oz-player/shims/www/OzDeferredWWW"],(function(a,b,c,d,e,f){"use strict";a=b("oz-player/shims/www/OzDeferredWWW");e.exports=a}),null);
__d("oz-player/shims/www/OzMaybeNativePromiseWWW",["MaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";a=b("MaybeNativePromise");e.exports=a}),null);
__d("oz-player/shims/OzMaybeNativePromise",["oz-player/shims/www/OzMaybeNativePromiseWWW"],(function(a,b,c,d,e,f){"use strict";a=b("oz-player/shims/www/OzMaybeNativePromiseWWW");e.exports=a}),null);
__d("oz-player/scheduling/OzRoundRobinPriorityTaskQueue",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){b===void 0&&(b=-1),this.$3=function(){},this.$4=[],this.$5=new Map(),this.$6=new Map(),this.$1=a,this.$2=b}var c=a.prototype;c.getHighestPriority=function(){return Math.max.apply(Math,this.$4.map(function(a){return a.queue.length?a.priority:-Infinity}))};c.enqueue=function(a,b){b=this.$7(b);var c=this.$5.get(a),d=this.$8(a);if(c===b)return d;this.$5.has(a)&&this.remove(a);c=this.$9(b);var e=this.$4[c];e&&e.priority===b||(e={priority:b,queue:[]},this.$4.splice(c,0,e));this.$5.set(a,b);e.queue.push(a);this.$3(a,b>=this.$1?"immediate":"normal");return d};c.updatePriority=function(a,b){if(!this.$5.has(a))return;this.enqueue(a,b)};c.dequeue=function(){for(var a=0;a<this.$4.length;a++){var b=this.$4[a];if(b.queue.length){b=b.queue.shift();this.$6["delete"](b);this.$5["delete"](b);return b}}return null};c.remove=function(a){this.$6["delete"](a);var b=this.$5.get(a);if(b!==void 0){b=this.$9(b);b=this.$4[b];if(b&&b.queue){var c=b.queue.findIndex(function(b){return b===a});c>-1&&b.queue.splice(c,1)}this.$5["delete"](a)}};c.setOnTaskUpdated=function(a){this.$3=a};c.clearOnTaskUpdated=function(){this.setOnTaskUpdated(function(){})};c.getLength=function(){return this.$5.size};c.test_isEmpty=function(){return this.$5.size===0&&this.$6.size===0&&this.$4.every(function(a){return a.queue.length===0})};c.$8=function(a){var c=this,d=this.$6.get(a);if(!d){var e=new(b("oz-player/shims/OzDeferred"))(b("oz-player/shims/OzMaybeNativePromise"));d=e.getPromise();this.$6.set(a,d);var f=a.run;a.run=function(){return f.call(a).then(function(b){c.remove(a);e.resolve(b);return b})["catch"](function(b){c.remove(a);e.reject(b);throw b})}}return d};c.$9=function(a){a=this.$7(a);var b;for(b=0;b<this.$4.length;b++)if(a>=this.$4[b].priority)return b;return b};c.$7=function(a){this.$2>=0&&(a=Number.parseFloat(a.toFixed(this.$2)));return a};return a}();e.exports=a}),null);
__d("oz-player/shims/ozSetTimeoutAcrossTransitions",["requireCond","cr:1615804"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1615804");e.exports=a}),null);
__d("oz-player/scheduling/OzSequentialTaskScheduler",["oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$3=0;this.$1=a;a=b||{};b=a.taskTimeout;this.$4=b||0}var c=a.prototype;c.start=function(){this.$1.setOnTaskUpdated(this.$5.bind(this));var a=this.$1.dequeue();a&&this.$6(a,"immediate")};c.destroy=function(){this.$2&&this.$2.cancel(),this.$1.clearOnTaskUpdated()};c.$5=function(a,b){b=this.$6(a,b);b&&this.$1.remove(a)};c.$6=function(a,c){var d=this;if(this.$2&&c!=="immediate")return!1;this.$2&&this.$2.cancel();c=a.run()["catch"](function(a){});this.$4>0&&(c=b("oz-player/shims/OzMaybeNativePromise").race([c,new(b("oz-player/shims/OzMaybeNativePromise"))(function(a,c){b("oz-player/shims/ozSetTimeoutAcrossTransitions")(a,d.$4)})]));this.$3++;this.$2=a;c=c.then(function(){d.$3--;d.$2===a&&(d.$2=null);if(d.$3===0){var b=d.$1.dequeue();b&&d.$6(b,"immediate")}});return!0};return a}();e.exports=a}),null);
__d("oz-player/networks/OzStreamingTaskQueueProvider",["oz-player/scheduling/OzRoundRobinPriorityTaskQueue","oz-player/scheduling/OzSequentialTaskScheduler"],(function(a,b,c,d,e,f){"use strict";f.getQueue=a;var g=new Map(),h=new Map(),i=2;f.OZ_QUEUE_MAX_PRIORITY=i;var j=2,k=6e4;function a(a){var c=g.get(a);if(!c){c=new(b("oz-player/scheduling/OzRoundRobinPriorityTaskQueue"))(i,j);var d=new(b("oz-player/scheduling/OzSequentialTaskScheduler"))(c,{taskTimeout:k});g.set(a,c);h.set(a,d);d.start()}return c}}),null);
__d("oz-player/networks/OzBandwidthEstimator",["oz-player/configs/OzGlobalConfig","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/shims/OzEventEmitter","oz-player/networks/OzBandwidthCache","oz-player/networks/OzBandwidthUtils","oz-player/networks/OzNetworkRequestStreamBandwidthReporter"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("oz-player/networks/OzBandwidthUtils")).getBandwidthEstimate,h=a.getExponentiallyWeightedMovingAverage,i=a.getExponentiallyWeightedMovingAverageOfBandwidth,j=a.getStandardDeviationOfBandwidth,k=.9,l=5e5,m=2e4;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this)||this;c.$OzBandwidthEstimator1=[];c.$OzBandwidthEstimator2=[];c.$OzBandwidthEstimator3=new(b("oz-player/networks/OzBandwidthCache"))(b("oz-player/configs/OzGlobalConfig").getString("bandwidth_cache_key","bandwidthEstimate"),function(){return c.getAdjustedBandwidth(b("oz-player/configs/OzGlobalConfig"))});return c}var d=c.prototype;d.getBandwidth=function(a){var b=g(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_half_life",6),a.getNumber("bandwidth_estimator_outlier_exclusion_factor",2),a.getNumber("bandwidth_estimator_std_dev_penalty_factor",.1));return b>0?b:this.$OzBandwidthEstimator4(a)};d.getEstimatedTimeToFirstByteMs=function(a){return this.$OzBandwidthEstimator2.length>0?h(this.$OzBandwidthEstimator2.map(function(a){return{value:a,weight:1}}),a.getNumber("time_to_first_byte_estimate_half_life_ms",500)):null};d.$OzBandwidthEstimator4=function(a){var b=this.$OzBandwidthEstimator3.getCachedBandwidth();return typeof b==="number"&&b>0?b:a.getNumber("default_bandwidth_estimate",l)};d.getStandardDeviationOfBandwidth=function(){return j(this.$OzBandwidthEstimator1)};d.getSampleCount=function(){return this.$OzBandwidthEstimator1.length};d.getAdjustedBandwidth=function(a){if(this.$OzBandwidthEstimator1.length===0)return this.$OzBandwidthEstimator4(a);var b=a.getNumber("bandwidth_estimator_variance_penalty_half_life",0)>0?this.$OzBandwidthEstimator5(a):this.$OzBandwidthEstimator6(a);return this.$OzBandwidthEstimator7(a,b)};d.$OzBandwidthEstimator7=function(a,c){var d=Math.max(0,b("oz-player/networks/OzStreamingTaskQueueProvider").getQueue("video").getLength()-a.getNumber("bandwidth_penalty_additional_video_start",0));a=a.getNumber("bandwidth_penalty_per_additional_video",0);d=Math.min(k,d*a);return c*(1-d)};d.$OzBandwidthEstimator5=function(a){var b=i(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_half_life",6)),c=i(this.$OzBandwidthEstimator1,a.getNumber("bandwidth_estimator_variance_penalty_half_life",0));a=c<b?a.getNumber("bandwidth_estimator_variance_penalty_down_factor",0):a.getNumber("bandwidth_estimator_variance_penalty_up_factor",0);c=Math.abs(b-c)*a;return b-c};d.$OzBandwidthEstimator6=function(a){return this.getBandwidth(a)};d.pipeThroughReporter=function(a,c,d){var e=this;return{startStream:function(f){var g=new(b("oz-player/networks/OzNetworkRequestStreamBandwidthReporter"))({stream:c,loggerProvider:d,byteCountPerSample:a.getNumber("byte_count_per_sample",m),minimumBytesToSampleOnClose:a.getNumber("minimum_bytes_to_sample_on_close",0),minimumSampleDuration:a.getNumber("minimum_bandwidth_sample_duration",0),maximumSampleBandwidth:a.getNumber("maximum_bandwidth_sample_bandwidth",999999999),usePerformanceEntryOnClose:a.getBool("use_performance_entry_on_stream_close",!1),useResponseTimeMs:a.getBool("bandwidth_use_response_time_adjustment",!1),responseTimeHandicapMs:a.getNumber("bandwidth_response_time_handicap",0),ignoreTimeToResponseStart:a.getBool("ignore_time_to_response_start",!1),ignoreOnStreamWriteSamples:a.getBool("bandwidth_ignore_on_stream_write_samples",!1)});g.onBandwidthSample(function(b,c){e.$OzBandwidthEstimator8(b,c),a.getBool("update_bandwidth_cache_on_sample",!1)&&e.$OzBandwidthEstimator3.updateCachedBandwidth()});g.onTimeToFirstByteMsSample(e.$OzBandwidthEstimator9.bind(e));return c.startStream(f).then(function(b){return c.retrievedFromCache()&&a.getBool("exclude_prefetch_bandwidth_samples",!1)?b:b.pipeThrough(g.getTransformStream())})}}};d.$OzBandwidthEstimator8=function(a,c){this.$OzBandwidthEstimator1.push({bytes:a,timeInMs:c}),this.$OzBandwidthEstimator1.length>b("oz-player/configs/OzGlobalConfig").getNumber("max_bandwidth_sample_count",15)&&this.$OzBandwidthEstimator1.shift(),this.emit("bandwidth_sampled")};d.$OzBandwidthEstimator9=function(a){this.$OzBandwidthEstimator2.push(a),this.$OzBandwidthEstimator2.length>b("oz-player/configs/OzGlobalConfig").getNumber("max_bandwidth_sample_count",15)&&this.$OzBandwidthEstimator2.splice(0,1)};return c}(b("oz-player/shims/OzEventEmitter"));e.exports=new c()}),null);
__d("useVideoPlayerBandwidthEstimate",["React","VideoPlayerOzWWWGlobalConfig","oz-player/networks/OzBandwidthEstimator","useInterval"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=5e3;function a(){var a=function(){return b("oz-player/networks/OzBandwidthEstimator").getBandwidth(b("VideoPlayerOzWWWGlobalConfig"))},c=g.useState(a()),d=c[0],e=c[1];b("useInterval")(function(){return e(a())},h);return d}}),null);
__d("useVideoAutoplayState",["HiddenSubtreePassiveContext","React","VideoPlayerHooks","VideoPlayerViewabilityHooks","gkx","useIsBackgrounded","useVideoPlayerBandwidthEstimate"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=g.useTransition(),c=a[0],d=(a=b("VideoPlayerHooks")).useAdClientToken(),e=a.useAutoplayGatingResult(),f=a.useBroadcastStatus(),h=a.useEnded(),i=a.useIsFrozenPassive(),j=a.useLastPauseReason(),k=a.useLastPlayReason(),l=a.useMuted(),m=a.usePaused(),n=g.useContext(b("HiddenSubtreePassiveContext"));a=!d;var o=b("useIsBackgrounded")({scrollTerminatesBackgrounded:a}),p=b("useVideoPlayerBandwidthEstimate")(),q=b("VideoPlayerViewabilityHooks").useVideoPlayerPassiveViewabilityInfo(),r=b("VideoPlayerViewabilityHooks").useVideoPlayerExtendedPassiveViewabilityInfo();a=g.useState(n.getCurrentState().backgrounded);var s=a[0],t=a[1];a=g.useState(n.getCurrentState().hidden);var u=a[0],v=a[1];g.useEffect(function(){function a(a,b){v(a),t(b)}var d=n.subscribeToChanges(function(d){b("gkx")("1500552")?c(function(){var b=n.getCurrentState();a(b.hidden,b.backgrounded)}):a(d.hidden,d.backgrounded)}),e=n.getCurrentState().hidden,f=n.getCurrentState().backgrounded;b("gkx")("1500552")?c(function(){var b=n.getCurrentState();a(b.hidden,b.backgrounded)}):a(e,f);return function(){d.remove()}},[n,t,v]);a=g.useState(function(){return i.getCurrentState()});var w=a[0],x=a[1];g.useEffect(function(){var a=i.subscribeToChanges(function(a){x(a)}),b=i.getCurrentState();x(b);return function(){a.remove()}},[i,x]);var y=g.useMemo(function(){return{adClientToken:d,autoplayGatingResult:e,bandwidthEstimate:p,broadcastStatus:f,controllerIsFrozen:w,currentSubtreeIsBackgrounded:s,currentSubtreeIsHidden:u,ended:h,hiddenSubtreePassive:n,isBackgrounded:o,isFrozenPassive:i,lastPauseReason:j,lastPlayReason:k,muted:l,paused:m,videoPlayerExtendedPassiveViewabilityInfo:r,videoPlayerPassiveViewabilityInfo:q}},[d,e,p,f,w,s,u,h,n,o,i,j,k,l,m,r,q]);a=g.useState(y);var z=a[0],A=a[1],B=g.useRef(z);g.useEffect(function(){B.current=z},[z]);g.useEffect(function(){var a=!1;for(var b in y)if(Object.prototype.hasOwnProperty.call(y,b)&&y[b]!==B.current[b]){a=!0;break}a&&A(y)},[y,A]);return z}}),null);
__d("CoreVideoPlayerAutoplayClient.react",["CoreVideoPlayerAutoplayClientUtils","HiddenSubtreePassiveContext","React","VideoPlayerAutoplayHooks","VideoPlayerDebugAutoplayAPI","VideoPlayerHooks","VideoPlayerViewabilityConstants","WwwCometVideoAutoplayFalcoEvent","evaluateVideoAutoplayDefaultAllowRule","evaluateVideoAutoplayDefaultIgnoreRule","makeSelectedAutoplayVideoSymbol","qex","useAutoplayRulesEngine","useCometUniqueID","useConcurrentAutoplayManagementAPI","useVideoAutoplayState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a,c=b("useCometUniqueID")(),d=(a=b("VideoPlayerHooks")).useCanAutoplay(),e=a.useInstanceKey(),f=g.useMemo(function(){return b("makeSelectedAutoplayVideoSymbol")(c,e)},[c,e]),h=g.useRef(f);g.useEffect(function(){h.current=f},[f]);var i=g.useContext(b("HiddenSubtreePassiveContext")),j=a.useController(),k=g.useRef(!1),l=b("useConcurrentAutoplayManagementAPI").useAutoplayControlID();g.useEffect(function(){b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[ASSUME CONTROL] "+l),j.registerControllingComponent(l)},[j,l]);var m=a.useVideoPlayerPassiveViewabilityInfo();a=j.getCurrentState();a=a.paused;var n=g.useRef(a),o=b("VideoPlayerAutoplayHooks").useVideoAutoplayLocalScope(),p=g.useRef(o);g.useEffect(function(){p.current=o},[o]);var q=g.useCallback(function(){if(b("qex")._("1696068")){var a=j.getCurrentState(),c=a.lastPlayReason;a=a.paused;var d=n.current;n.current=a;var e=m==null?void 0:m.getCurrent();if(e){e=e.visiblePercentage;a=!a&&a!==d;d=e<b("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE&&e>0;p.current.disableScrollBeforePlayWhenOffscreen!==!0&&a&&c==="user_initiated"&&d&&(k.current=!0)}}},[j,m]),r=g.useRef(q);g.useEffect(function(){r.current=q},[q]);g.useEffect(function(){var a=j.subscribe(function(){q()});return function(){a.remove()}},[j,q]);var s=b("useVideoAutoplayState")(),t=b("useAutoplayRulesEngine")(o.autoplayLocalRules),u=d==="allow"?b("evaluateVideoAutoplayDefaultAllowRule"):b("evaluateVideoAutoplayDefaultIgnoreRule");a=g.useState(function(){return u});var v=a[0],w=a[1];a=g.useState(null);var x=a[0],y=a[1];a=g.useState(function(){return t.evaluateAutoplay(s,u)});var z=a[0],A=a[1];a=g.useState(null);var B=a[0],C=a[1],D=g.useRef(z),E=b("VideoPlayerAutoplayHooks").useAutoplayApi(),F=g.useRef(E);g.useEffect(function(){F.current=E},[E]);var G=d!=="dangerously_disable_autoplay_management";g.useEffect(function(){E.register(f,e,o,j,i,G);b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"register",autoplay_scope_id:p.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:E.getAutoplayManagerDebugInfo(p.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:D.current}});return function(){E.unregister(f),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"unregister",autoplay_scope_id:p.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:E.getAutoplayManagerDebugInfo(p.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:D.current}})}},[E,o,j,i,e,G,f]);g.useEffect(function(){var a=function(){var c=t.evaluateAutoplay(s,u);D.current=c;var d=t.getRules(),e=t.getIndexOfLastWinningRule(),a=e>=0?d[e]:u;d=m&&m.getCurrent();e=j.getCurrentState();e=e.paused;(B===null||B!==c)&&(A(c),C(c));if(c==="PAUSE"&&!e&&j.isControllingComponent(l)){e=!0;r.current();if(k.current){k.current=!1;var g=d==null?void 0:d.positionToViewport;g&&j.scrollIntoView(g.top<0);e=!1}if(e){g="[PAUSE] via short-circuit on "+a.name+".";b("CoreVideoPlayerAutoplayClientUtils").log(h.current,g);j.pause("autoplay_initiated");b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:p.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:E.getAutoplayManagerDebugInfo(p.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:c}})}}(x===null||x!==a)&&(w(function(){return a}),y(function(){return a}),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"rule_changed",autoplay_scope_id:p.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:E.getAutoplayManagerDebugInfo(p.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:c}}));b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[DECISION: "+c+"] from "+a.name);d&&E.update(f,c,d)},c=i.subscribeToChanges(function(a){i.getCurrentState().hidden||i.getCurrentState().backgrounded?j.isControllingComponent(l)||j.unregisterControllingComponent(l):j.registerControllingComponent(l)}),d=m?m.subscribe(function(){i.getCurrentState().hidden||i.getCurrentState().backgrounded?j.isControllingComponent(l)||j.unregisterControllingComponent(l):j.registerControllingComponent(l),a()}):null;a();return function(){c.remove(),d&&d.remove()}},[E,l,t,j,u,i,x,B,w,A,y,C,f,s,m]);g.useEffect(function(){var a=j.isControllingComponent(l),c=j.getCurrentState();c=c.paused;b("CoreVideoPlayerAutoplayClientUtils").componentShouldPause(z,D.current,c,a)&&(b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[PAUSE] the video for "+z),j.pause("autoplay_initiated"),b("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:p.current.autoplayScopeID,event_creation_time:Date.now(),initiator:h.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:F.current.getAutoplayManagerDebugInfo(p.current).selectedAutoplayVideoSymbol,target:h.current,target_current_autoplay_decision:z}}))},[z,j,l]);g.useEffect(function(){return function(){b("CoreVideoPlayerAutoplayClientUtils").log(h.current,"[RELEASE CONTROL] "+l),j.unregisterControllingComponent(l)}},[j,l]);b("VideoPlayerDebugAutoplayAPI").useVideoPlayerDebugAPIDefinition({applicableRule:v,autoplayApiRef:F,autoplayDecision:z,autoplayLocalScope:o,symbol:f});return null}}),null);
__d("VideoPlayerCaptionsAreaDeferred.react",["React","deferredLoadComponent","requireDeferredForDisplay"],(function(a,b,c,d,e,f){"use strict";b("React");a=b("deferredLoadComponent")(b("requireDeferredForDisplay")("VideoPlayerCaptionsArea.react"));e.exports=a}),null);
__d("WebSessionExtensionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:WebSessionExtensionLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setClientTime=function(a){this.$1.client_time=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setWebsessionID=function(a){this.$1.websession_id=a;return this};return a}();c={client_time:!0,reason:!0,websession_id:!0};e.exports=a}),null);
__d("WebSessionExtender",["WebSession","WebSessionExtensionTypedLogger","clearInterval","gkx","setInterval"],(function(a,b,c,d,e,f){"use strict";f.subscribe=a;f.unsubscribe=c;var g=2e4,h=new Set(),i=null;function a(a,c){c===void 0&&(c="extender");h.add(a);var d=b("gkx")("1252196");i==null&&(b("WebSession").extend(Date.now()+g+2e3),i=b("setInterval")(function(){b("WebSession").extend(Date.now()+g+2e3),d&&new(b("WebSessionExtensionTypedLogger"))().setClientTime(Date.now()).setWebsessionID(b("WebSession").getId()).setReason(c).log()},g))}function c(a){h["delete"](a);a=h.size;a===0&&i!=null&&(b("clearInterval")(i),i=null)}}),null);
__d("VideoPlayerWebSessionExtender.react",["React","VideoPlayerHooks","WebSessionExtender","useCometUniqueID"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=b("VideoPlayerHooks").usePlaying(),c=b("useCometUniqueID")();g.useEffect(function(){if(a){b("WebSessionExtender").subscribe(c,"video");return function(){b("WebSessionExtender").unsubscribe(c)}}},[a,c]);return null}}),null);
__d("useVideoPlayerDefaultLoadingIndicatorsLogic",["VideoPlayerHooks"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a=b("VideoPlayerHooks").useStalling(),c=b("VideoPlayerHooks").useStreamInterrupted(),d=b("VideoPlayerHooks").useIsLiveRewindActive();c=c&&!d;d=a;a=c?"live_video_interrupted_overlay":d?"spinner":"none";return{liveVideoInterruptedOverlayVisible:c,loadingIndicatorType:a,spinnerVisible:d}}}),null);
__d("useVideoPlayerDefaultLoadingIndicators",["CometPlaceholder.react","React","deferredLoadComponent","requireDeferred","requireDeferredForDisplay","useVideoPlayerDefaultLoadingIndicatorsLogic"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=b("deferredLoadComponent")(b("requireDeferredForDisplay")("VideoPlayerSpinner.react")),i=b("deferredLoadComponent")(b("requireDeferred")("VideoPlayerWithLiveVideoInterruptedOverlay.react"));function a(){var a=b("useVideoPlayerDefaultLoadingIndicatorsLogic")(),c=a.loadingIndicatorType;a=a.spinnerVisible;var d=g.jsx(b("CometPlaceholder.react"),{fallback:null,children:g.jsx(i,{})});a=g.jsx(h,{isVisible:a});var e=null;switch(c){case"spinner":e=a;break;case"live_video_interrupted_overlay":e=d;break;case"none":default:e=a}return{loadingIndicatorElement:e,loadingIndicatorType:c}}}),null);
__d("CVCv3DisabledPlayerOrigins",[],(function(a,b,c,d,e,f){a=Object.freeze({BEEPER:"beeper",FB_STORIES:"fb_stories"});e.exports=a}),null);
__d("CVCv3DisabledPlayerSubOrigins",[],(function(a,b,c,d,e,f){a=Object.freeze({LIVE_BEEPER:"live_beeper"});e.exports=a}),null);
__d("CVCv3SubscriptionHelper",["DateConsts","guid"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d){this.$1=a;this.$2=b("guid")();this.$3=((a=c)!=null?a:"null")+"::"+((c=d)!=null?c:"null");this.$4=null;this.$5=null}var c=a.prototype;c.isValidSubscription=function(){return!!this.$1};c.makeCVCv3StateUpdate=function(a,c,d,e){var f=null;a!=null&&!Number.isNaN(a)&&c!=null&&!Number.isNaN(c)&&(f={m:e,pf:Math.floor((c-a)*b("DateConsts").MS_PER_SEC),s:d,sa:Math.floor(a*b("DateConsts").MS_PER_SEC)});e={pps:this.$4,ps:f,si:this.$2,so:this.$3,vi:this.$1};this.$4=f;return e};c.makeUnifiedVideoCVCUpdate=function(a,b,c,d,e){a=this.makeCVCv3StateUpdate(a,b,c,d);this.$5!=null&&(a.tk=this.$5);return Object.assign({},a,e)};c.processUnifiedResponse=function(a){a=a;this.$5=a.tk;return a};c.clearAnyPreviousContext=function(){this.$4=null};return a}();e.exports=a}),null);
__d("UnifiedVideoCVCSubscription",["CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","XVideoUnifiedCVCControllerRouteBuilder","clearTimeout","cometAsyncFetch","emptyFunction","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g=Object.values(b("CVCv3DisabledPlayerOrigins")),h=Object.values(b("CVCv3DisabledPlayerSubOrigins")),i=10;a=function(){function a(a,c,d,e,f,i,j){var k=this;this.$17=function(){k.$10=null,k.$16(),k.$15(0)};this.$1=new(b("CVCv3SubscriptionHelper"))(a,c,d);this.$5=f;this.$6=null;this.$7=j;this.$10=null;this.$11=!this.$1.isValidSubscription();this.$3=null;this.$2=null;a=c!=null?g.includes(c):!1;f=d!=null?h.includes(d):!1;!a&&!f&&(this.$3=e,this.$12=i,this.$4=e.subscribe(function(){if(k.$3==null)return;var a=k.$3.getCurrentState();a.playing?k.$13(a):k.$14()}))}var c=a.prototype;c.$13=function(a){if(this.$3==null)return;var c=!1;this.$7!=null&&(c=!0);c||(c=this.$5?!0:b("gkx")("1124976"));if(!c)return;if(a.playing){if(this.$2==null){c=this.$3.getPlayheadPosition();c>=0&&(this.$2=c)}}else this.$2=null;this.$15(0)};c.stopUnifiedCVC=function(){this.$14()};c.destroy=function(){this.$14(),this.$4!=null&&this.$4.remove(),this.$4=null,this.$3=null};c.$14=function(){b("clearTimeout")(this.$9),b("clearTimeout")(this.$8),this.$9=null,this.$8=null,this.$2=null,this.$1.clearAnyPreviousContext(),this.$10=null};c.$16=function(){b("clearTimeout")(this.$8),this.$8=null};c.$15=function(a){var c=this;if(this.$3==null||this.$9!=null||this.$10!=null||this.$11)return;this.$9=b("setTimeout")(function(){c.$9=null;var a=c.$18();if(a==null)return;c.$10=a;b("promiseDone")(a,function(b){if(a!==c.$10)return;c.$10=null;if(b!=null){b=c.$1.processUnifiedResponse(b);c.$19(b)}},b("emptyFunction"));c.$8=b("setTimeout")(c.$17,i*b("DateConsts").MS_PER_SEC)},a)};c.$19=function(a){this.$16();a.d!=null&&this.$12!=null&&this.$12(a.d);if(a.a!=null){var c=a.a.t;switch(c){case"p":c=a.a.pi;c==null&&(c=i);this.$15(c*b("DateConsts").MS_PER_SEC);break;case"s":this.$11=!0;break}}};c.$18=function(){var a=this.$20();if(a==null)return null;a={d:JSON.stringify(a)};return b("cometAsyncFetch")(b("XVideoUnifiedCVCControllerRouteBuilder").buildURL({}),{data:a,method:"POST"})};c.$20=function(){if(this.$3==null)return null;var a={};this.$7!=null&&(a.lr=this.$7);this.$6!=null&&(a.lc=this.$6);this.$5&&(a.ls=!0);var b=0,c=0;this.$2!=null&&(b=this.$2,c=this.$3.getPlayheadPosition());var d=this.$3.getCurrentState();b=this.$1.makeUnifiedVideoCVCUpdate(b,c,this.$21(d),d.muted,a);return b};c.$21=function(a){if(a.playing||a.seeking)return"playing";else if(a.ended)return"ended";else if(a.paused)return"paused";else return"unknown"};c.testing_setLastStartPosition=function(a){this.$2=a};c.testing_makeUnifiedStateUpdate=function(){return this.$20()};c.testing_handleUnifiedResponse=function(a){return this.$19(a)};return a}();e.exports=a}),null);
__d("getPlayerFormatForLogData",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){return a===!0?"full_screen":b!=null?b:"inline"}}),null);
__d("useVideoPlayerUnifiedCVCProvider",["UnifiedVideoCVCSubscription","VideoPlayerHooks","createVideoStateHook","getPlayerFormatForLogData","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f){"use strict";f.useVideoPlayerUnifiedCVCProvider=a;c=b("createVideoStateHook").createVideoStateHook(null);var g=c.setterHook;d=b("createVideoStateHook").createVideoStateHook(null);var h=d.setterHook;e=d.valueHook;function a(a){var c=a.livingRoomID,d=a.playerFormat,e=a.subOrigin,f=a.videoFBID,i=b("VideoPlayerHooks").useIsLive(),j=b("VideoPlayerHooks").useIsFullscreen(),k=b("VideoPlayerHooks").useController(),l=g(),m=h();b("useLayoutEffect_SAFE_FOR_SSR")(function(){var a=new(b("UnifiedVideoCVCSubscription"))(f,b("getPlayerFormatForLogData")(j,d),e,k,i,function(a){m(a)},c);l(a);return function(){a.destroy()}},[c,j,i,d,m,l,e,k,f])}a=e;f.useVideoPlayerUnifiedCVCData=a}),null);
__d("VideoPlayerXImplSurface.react",["CoreVideoPlayerAutoplayClient.react","React","VideoPlayerCaptionsAreaDeferred.react","VideoPlayerInteractionOverlay.react","VideoPlayerWebSessionExtender.react","gkx","requireCond","useVideoPlayerDefaultLoadingIndicators","useVideoPlayerUnifiedCVCProvider","cr:1583596","cr:946298"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.disableLoadingIndicator;d=d===void 0?!1:d;var e=a.instreamVideoAdBreaksPlayer,f=a.livingRoomID,h=a.playerFormat,i=a.subOrigin,j=a.videoFBID;a=a.videoPlayerSpherical;b("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCProvider({livingRoomID:f,playerFormat:h,subOrigin:i,videoFBID:j});f=b("useVideoPlayerDefaultLoadingIndicators")();h=f.loadingIndicatorElement;return g.jsxs(g.Fragment,{children:[a,d?null:h,b("gkx")("1586633")?g.jsx(b("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{}):null,g.jsx(b("VideoPlayerCaptionsAreaDeferred.react"),{children:c}),g.jsx(b("CoreVideoPlayerAutoplayClient.react"),{}),b("cr:1583596")?g.jsx(b("cr:1583596"),{}):null,b("cr:946298")?g.jsx(b("cr:946298"),{subOrigin:i}):null,e,g.jsx(b("VideoPlayerWebSessionExtender.react"),{})]})}}),null);
__d("normalizeVideoPlayerLoopCount",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){c===void 0&&(c=null);d===void 0&&(d=null);if(a==null){d=((c=c)!=null?c:!1)?(c=d)!=null?c:0:0;d===-1?c=-1:d<0||!Number.isFinite(d)||Math.floor(d)!==d?c=0:c=d}else if(a===-1||a===Number.POSITIVE_INFINITY)c=-1;else if(a<0||!Number.isFinite(a)||Math.floor(a)!==a)throw b("unrecoverableViolation")("Invalid loopingCount: "+a,"comet_video_player");else c=a;return c}}),null);
__d("VideoPlayerXImpl.react",["CoreVideoPlayerWithComponents.react","React","VideoPlayerXImplSurface.react","gkx","normalizeVideoPlayerLoopCount","usePlayerOriginRouteTracePolicy","useRouteProductAttribution"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.children,d=a.disableLoadingIndicator,e=a.implementations,f=a.instreamVideoAdBreaksPlayer,h=a.portalingEnabled,i=a.portalingFromVideoID,j=a.portalingPlaceMetaData,k=a.portalingRenderPlaceholder,l=a.videoPlayerSpherical;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableLoadingIndicator","implementations","instreamVideoAdBreaksPlayer","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","videoPlayerSpherical"]);var m=b("usePlayerOriginRouteTracePolicy")(),n=b("useRouteProductAttribution")(),o=a.loopCount,p=a.playerFormat,q=a.subOrigin,r=a.videoFBID;o=b("normalizeVideoPlayerLoopCount")(o);return g.jsx(b("CoreVideoPlayerWithComponents.react"),babelHelpers["extends"]({},a,{implementations:e,loopCount:o,portalingEnabled:h,portalingFromVideoID:i,portalingPlaceMetaData:j,portalingRenderPlaceholder:k,productAttribution:b("gkx")("1759997")?n:null,routeTracePolicy:m,children:g.jsx(b("VideoPlayerXImplSurface.react"),{children:c,disableLoadingIndicator:d,instreamVideoAdBreaksPlayer:f,livingRoomID:a.livingRoomID,playerFormat:p,subOrigin:q,videoFBID:r,videoPlayerSpherical:l})}))}}),null);
__d("VideoPlayerFallbackCover.react",["fbt","React","requireCond","cr:1405514"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c;c=(c=a.message)!=null?c:g._("\u5f88\u62b1\u6b49\uff0c\u64ad\u653e\u6b64\u5f71\u7247\u6642\u767c\u751f\u554f\u984c\u3002");return h.jsx(b("cr:1405514"),{debugError:a.debugError,message:c,onRetry:a.onRetry})}}),null);
__d("defaultErrorBoundaryFallback",["fbt","React","VideoPlayerFallbackCover.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function i(a){return a&&b("gkx")("1792489")?a.message.toLowerCase().indexOf("audio_renderer_error")>=0:!1}function a(a){var c=a.error;a=a.retry;var d=i(c),e=null;a=a;d&&(e=g._("\u97f3\u8a0a\u8f49\u8b6f\u5668\u932f\u8aa4\uff1a\u8acb\u91cd\u65b0\u555f\u52d5\u96fb\u8166\u3002"),a=null);return h.jsx(b("VideoPlayerFallbackCover.react"),{debugError:c,message:e,onRetry:a})}}),null);
__d("getVideoPlayerAutoplayProps",["gkx"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){c=c!=null?c:"respect_user_settings";var e=c==="dangerously_always_autoplay";d=d!=null?d:"unknown";var f=b("gkx")("1454109")?a.autoplaySetting||"default_autoplay":a.autoplaySetting,g=b("gkx")("1454109")?f==="off":!1;e=e||c==="respect_user_settings"&&!g&&a.canAutoplay;g=c==="do_not_autoplay"?d:a.autoplayGatingResult;d=e?"allow":c==="dangerously_disable_autoplay_management"?"dangerously_disable_autoplay_management":"deny";return{autoplayGatingResult:g,autoplaySetting:f,canAutoplay:d}}}),null);
__d("GraphQLVideoAutoplayGatingResult",[],(function(a,b,c,d,e,f){"use strict";f.makeGraphQLVideoAutoplayGatingResult=a;function a(a,b,c){a=a!=null?a:"unknown";b=b?b:null;a={autoplayGatingResult:a,autoplaySetting:b,canAutoplay:c!=null?c:!1};return a}}),null);
__d("useGraphQLVideoAutoplayGatingResult",["CometRelay","GraphQLVideoAutoplayGatingResult","useGraphQLVideoAutoplayGatingResult_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useGraphQLVideoAutoplayGatingResult_video.graphql"),a);return b("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult(a.autoplay_gating_result,a.viewer_autoplay_setting,a.can_autoplay)}}),null);
__d("isEmptyObject",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){for(var b in a)return!1;return!0}}),null);
__d("GraphQLVideoDRMInfo",["isEmptyObject"],(function(a,b,c,d,e,f){"use strict";f.makeGraphQLVideoDRMInfo=a;function a(a){var c=a.fairplay_cert,d=a.graph_api_video_license_uri,e=a.video_license_uri_map;a=a.widevine_cert;d={fairplayCert:c,graphApiVideoLicenseUri:(c=d)!=null?c:null,videoLicenseUriMap:e,widevineCert:a};return d.graphApiVideoLicenseUri===null&&b("isEmptyObject")(d.videoLicenseUriMap)?null:d}}),null);
__d("useGraphQLVideoDRMInfo",["CometRelay","GraphQLVideoDRMInfo","React","gkx","useGraphQLVideoDRMInfo_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function i(a){if(a!=null){a=j(a);return b("GraphQLVideoDRMInfo").makeGraphQLVideoDRMInfo(a)}return null}function j(a){a=JSON.parse(a)||{};var b=a.fairplay_cert,c=a.graph_api_video_license_uri,d=a.video_license_uri_map;a=a.widevine_cert;return{fairplay_cert:b,graph_api_video_license_uri:c,video_license_uri_map:d,widevine_cert:a}}function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useGraphQLVideoDRMInfo_video.graphql"),a);var c=a.drm_info,d=h.useState(c),e=d[0],f=d[1];h.useEffect(function(){f(c)},[c]);d=h.useState(function(){return i(e)});var j=d[0],k=d[1];h.useEffect(function(){k(i(e))},[e]);d=h.useRef(null);var l=i(a.drm_info),m=h.useRef(null);d.current!==a.drm_info&&(d.current=a.drm_info,m.current=l);return b("gkx")("1718203")?m.current:j}}),null);
__d("GraphQLVideoP2PSettings",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";f.hiveTechOrderOrNull=a;var g=b("$InternalEnum").Mirrored(["HiveJava","HiveJS","StatsJS"]);f.HiveTechOrder=g;function a(a){return(a=g.cast(a))!=null?a:null}}),null);
__d("useGraphQLVideoP2PSettings",["CometRelay","GraphQLVideoP2PSettings","React","recoverableViolation","useGraphQLVideoP2PSettings_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function i(a){var c=null;if(a){var d,e,f,g,h;d={delay_p2p_until_play:(d=(d=a.config)==null?void 0:d.delay_p2p_until_play)!=null?d:!1,disable_hivejava_for_livevc:(d=(d=a.config)==null?void 0:d.disable_hivejava_for_livevc)!=null?d:!1};var i=a.ticket;e=(e=a.hive_initialization_options)==null?void 0:e.debug_level;f=(f=(f=a.hive_initialization_options)==null?void 0:f.hive_tech_order.map(function(a){var c=b("GraphQLVideoP2PSettings").hiveTechOrderOrNull(a);c==null&&a!=null&&b("recoverableViolation")("Invalid hive tech order: '"+a+"'","comet_video_player");return c}).filter(Boolean))!=null?f:[];g=(g=a.hive_initialization_options)==null?void 0:(g=g.hive_java)==null?void 0:g.min_version;h=((h=a.hive_initialization_options)==null?void 0:h.hive_java)?{minVersion:g}:null;g=a.hive_initialization_options?{HiveJava:h,debugLevel:e,hiveTechOrder:f}:null;c={config:d,hive_initialization_options:g,ticket:i}}return c}function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useGraphQLVideoP2PSettings_video.graphql"),a);var c=h.useRef(null),d=h.useRef(null);a=i((a=a.p2p_settings)!=null?a:null);var e=JSON.stringify(a);if(c.current!==e){c.current=(c=e)!=null?c:null;d.current=(e=a)!=null?e:null}return d.current}}),null);
__d("useOzQuickStarterData",["CometRelay","useOzQuickStarterData_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function h(a){return a.url!=null&&a.start!=null&&a.end!=null&&a.representation_id!=null&&a.mime_codec!=null&&a.segment_type!=null?{end:a.end,mimeCodec:a.mime_codec,representationID:a.representation_id,segmentType:a.segment_type,start:a.start,url:a.url}:null}function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useOzQuickStarterData_video.graphql"),a);a=a.dash_prefetch_resources;return a==null?null:{audio:a.audio.map(h).filter(Boolean),video:a.video.map(h).filter(Boolean)}}}),null);
__d("VideoPlayerAudioAvailabilityInfo",[],(function(a,b,c,d,e,f){"use strict";f.makeVideoPlayerAudioAvailabilityInfo=a;function a(a){var b=a.audioAvailability;a=a.mutedSegments;b={hasNoAudio:g(b),hasPartialNoAudio:h(b,a),mutedSegments:a};return b}function g(a){return a==="UNAVAILABLE"||a==="AVAILABLE_BUT_SILENT"}function h(a,b){return a==="AVAILABLE_BUT_MUTED"&&b.length>0}}),null);
__d("useVideoPlayerAudioAvailabilityInfoRelay",["CometRelay","VideoPlayerAudioAvailabilityInfo","useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useVideoPlayerAudioAvailabilityInfoRelay_video.graphql"),a);return b("VideoPlayerAudioAvailabilityInfo").makeVideoPlayerAudioAvailabilityInfo({audioAvailability:a.audio_availability,mutedSegments:(a=(a=a.muted_segments)==null?void 0:a.map(function(a){return{muteEndTimeInSec:a.mute_end_time_in_sec,muteStartTimeInSec:a.mute_start_time_in_sec}}))!=null?a:[]})}}),null);
__d("AudioSettingsVolumeSetting",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:"default",QUIET:"quiet"});e.exports=a}),null);
__d("useVideoPlayerAudioSettings",["AudioSettingsVolumeSetting","CometRelay","React","useVideoPlayerAudioSettings_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=1;c=.5;var j=new Map([["default",i],["quiet",c]]);function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useVideoPlayerAudioSettings_video.graphql"),a);a=(a=a.audio_settings)==null?void 0:a.video_volume_setting;var c="DEFAULT";switch(a){case"DEFAULT":case"QUIET":c=a;break;default:break}a=b("AudioSettingsVolumeSetting")[c];var d=(c=j.get(a))!=null?c:i;a=h.useMemo(function(){return{preferredVolumeSetting:d}},[d]);return a}}),null);
__d("useVideoPlayerCaptionsSettings",["CometRelay","useVideoPlayerCaptionsSettings_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useVideoPlayerCaptionsSettings_video.graphql"),a);return{alwaysShowCaptions:(a=(a=a.captions_settings)==null?void 0:a.always_show_captions)!=null?a:!1}}}),null);
__d("useVideoPlayerLiveLatencyKnobSettings",["CometRelay","useVideoPlayerLiveLatencyKnobSettings_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g;function a(a){var c;a=b("CometRelay").useFragment(g!==void 0?g:g=b("useVideoPlayerLiveLatencyKnobSettings_video.graphql"),a);return{desiredLatencyMs:(c=(c=a.broadcast_low_latency_config)==null?void 0:c.ll_desired_latency_ms)!=null?c:0,latencyToleranceMs:(a=(c=a.broadcast_low_latency_config)==null?void 0:c.ll_latency_tolerance_ms)!=null?a:0}}}),null);
__d("VideoPlayerRelay.react",["CometPlaceholder.react","CometRelay","CometTrackingNodeProvider.react","CurrentUser","ErrorMetadata","React","VideoPlayerRetryableErrorBoundary.react","VideoPlayerXImpl.react","defaultErrorBoundaryFallback","deferredLoadComponent","err","getVideoPlayerAutoplayProps","gkx","normalizeVideoPlayerLoopCount","requireCond","requireDeferredForDisplay","unrecoverableViolation","useGraphQLVideoAutoplayGatingResult","useGraphQLVideoDRMInfo","useGraphQLVideoP2PSettings","useOzQuickStarterData","usePremiumMusicVideoInterruptionSubscription","useVideoPlayerAudioAvailabilityInfoRelay","useVideoPlayerAudioSettings","useVideoPlayerCaptionsSettings","useVideoPlayerLiveLatencyKnobSettings","cr:1701936","cr:1694452","cr:1694453","cr:1446473","VideoPlayerRelay_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=c;var g,h=b("React"),i=b("deferredLoadComponent")(b("requireDeferredForDisplay")("VideoPlayerSphericalFallbackCover.react")),j=(d=b("cr:1694452"))!=null?d:a,k=(f=b("cr:1694453"))!=null?f:a;function l(a){var c,d=a.accessToken,e=a.adClientToken,f=a.autoplayGatingResult,l=a.canAutoplay,m=a.children,n=a.disableLoadingIndicator;n=n===void 0?!1:n;var o=a.externalLogID,p=a.externalLogType,q=a.initialForceHD,r=q===void 0?!1:q;q=a.initialTracePolicy;var s=a.livingRoomID,t=a.loopCount,u=a.manifestURL_DO_NOT_USE,v=a.playerFormat;v=v===void 0?"inline":v;var w=a.playerOriginOverride,x=a.portalingEnabled,y=a.portalingFromVideoID,z=a.portalingPlaceMetaData,A=a.portalingRenderPlaceholder,B=a.source_VPL_LOGGING_HACK,C=a.startTimestamp,D=a.subOrigin;a=a.video;b("usePremiumMusicVideoInterruptionSubscription")(b("CurrentUser").getID());var E=b("CometRelay").useFragment(g!==void 0?g:g=b("VideoPlayerRelay_video.graphql"),a);a=E.dash_prefetch_experimental;c=((c=E.video_available_captions_locales)!=null?c:[]).find(function(a){a=a.localized_creation_method;return a!=null})!=null;var F=b("cr:1701936")(E,{adClientToken:e}),G=b("useGraphQLVideoP2PSettings")(E),H=b("useGraphQLVideoDRMInfo")(E),I=!!(H&&H.fairplayCert!==null),J=b("useOzQuickStarterData")(E),K=h.useMemo(function(){return{forceProgressiveImpl:I,initialForceHD:r,manifestURL_DO_NOT_USE:u,ozQuickStarterData:J,videoFBID:E.id,videoPlayerShakaConfig:F}},[I,r,u,J,E.id,F]),L=j(E,K);K=k(E,K);L=b("gkx")("1669200")?L:K;K=b("useVideoPlayerCaptionsSettings")(E);var M=b("useVideoPlayerAudioSettings")(E),N=b("useVideoPlayerLiveLatencyKnobSettings")(E),O=N.desiredLatencyMs;N=N.latencyToleranceMs;var P=b("useVideoPlayerAudioAvailabilityInfoRelay")(E),Q=b("useGraphQLVideoAutoplayGatingResult")(E);Q=b("getVideoPlayerAutoplayProps")(Q,l,f);l=b("cr:1446473")(E);f=E.instream_video_ad_breaks_comet;var R=E.is_premium_music_video;f=f?h.jsx(b("CometPlaceholder.react"),{fallback:null,children:h.jsx(b("CometRelay").MatchContainer,{match:f,props:{instreamVideoAdBreaksComet:f,isPmv:R,playerFormat:v,subOrigin:D,videoFBID:E.id}})}):null;R=E.id;if(R==null)throw b("unrecoverableViolation")("Cannot play video: Empty video ID","comet_video_player");if(!L.length){var S=b("err")("Cannot play video: No matching video player implementations");S.metadata=new(b("ErrorMetadata"))();S.metadata.addEntry("COMET_VIDEO","VIDEO_ID",R);throw b("unrecoverableViolation")("Cannot play video: No matching video player implementations","comet_video_player",{error:S})}S=E.permalink_url;var T=E.spherical_video_renderer;T=T?h.jsx(b("CometRelay").MatchContainer,{match:T,props:{playerFormat:v,sphericalVideoRenderer:T,subOrigin:D,videoTahoeUrl:S}}):null;S=E.is_spherical;var U=E.is_spherical_enabled,V=E.permalink_url;if(S===!0&&U!==!0){if(V==null||V==="")throw b("unrecoverableViolation")("Cannot play video: Empty permalink URL for a spherical video","comet_video_player");return h.jsx(i,{videoTahoeUrl:V})}S=b("gkx")("1477051")?!1:e!=null;U=b("normalizeVideoPlayerLoopCount")(t,E.is_looping,E.loop_count);return h.jsx(b("VideoPlayerXImpl.react"),{VideoPlayerShakaPerformanceLoggerClass:l,accessToken:d,adClientToken:e,alwaysShowCaptions:K.alwaysShowCaptions,areCaptionsAutogenerated:c,audioAvailabilityInfo:P,autoplayGatingResult:Q.autoplayGatingResult,autoplaySetting:Q.autoplaySetting,broadcastId:E.broadcast_id,broadcastStatus:E.broadcast_status,broadcasterOrigin:E.broadcaster_origin,canAutoplay:Q.canAutoplay,captionsUrl:E.captions_url,children:m,desiredLatencyMs:O,disableLoadingIndicator:n,externalLogID:o,externalLogType:p,graphQLVideoDRMInfo:H,graphQLVideoP2PSettings:G,implementations:L,initialRepresentationIds:a,initialTracePolicy:q,instreamVideoAdBreaksPlayer:f,isLiveStreaming:E.is_live_streaming,isLiveTraceEnabled:E.is_live_trace_enabled,isPremiumMusicVideo:E.pmv_metadata!=null,isVideoBroadcast:E.is_video_broadcast,latencyToleranceMs:N,livingRoomID:s,loopCount:U,originalHeight:E.original_height,originalWidth:E.original_width,playerFormat:v,playerOriginOverride:w,portalingEnabled:x&&!S,portalingFromVideoID:y,portalingPlaceMetaData:z,portalingRenderPlaceholder:A,source_VPL_LOGGING_HACK:B,startTimestamp:C,subOrigin:D,videoFBID:R,videoPlayerSpherical:T,volumeSetting:M.preferredVolumeSetting},R)}function a(a,b){return[]}function c(a){var c=a.doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn;c=c===void 0?!1:c;var d=a.errorBoundaryFallback;a=babelHelpers.objectWithoutPropertiesLoose(a,["doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn","errorBoundaryFallback"]);a=h.jsx(b("CometTrackingNodeProvider.react"),{trackingNode:13,children:h.jsx(l,babelHelpers["extends"]({},a))});return c?a:h.jsx(b("VideoPlayerRetryableErrorBoundary.react"),{description:"VideoPlayerRelayBoundary",fallback:(c=d)!=null?c:b("defaultErrorBoundaryFallback"),children:a})}}),null);
__d("CometAudioManagerHooks",["CometAudioManagerContexts","React","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.useAudioApi=a;var g=b("React");function a(){var a=g.useContext(b("CometAudioManagerContexts").AudioApiContext);return a}}),null);
__d("makeAudioSymbol",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){b=b+"::"+a;return b}}),null);
__d("CoreVideoPlayerAudioClient.react",["CometAudioManagerContexts","CometAudioManagerHooks","CometThrottle","React","VideoPlayerHooks","VideoPlayerPortalingPlaceInfoProvider.react","makeAudioSymbol","useCometUniqueID","usePrevious"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a,c=b("useCometUniqueID")(),d=(a=b("VideoPlayerHooks")).useInstanceKey(),e=g.useMemo(function(){return b("makeAudioSymbol")(c,d)},[c,d]),f=b("CometAudioManagerHooks").useAudioApi(),h=g.useRef(f);g.useEffect(function(){h.current=f},[f]);var i=a.useController(),j=200,k=a.useLastPlayReason(),l=a.useLastMuteReason(),m=a.useMuted();j=b("CometThrottle")(a.useVolume,j,{trailing:!0});j=j();var n=b("usePrevious")(j),o=a.usePaused(),p=g.useContext(b("CometAudioManagerContexts").CometAudioLocalScopeContext),q=g.useContext(b("CometAudioManagerContexts").CometAudioGroupContext),r=b("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo(),s=a.useVolumeSetting(),t=g.useMemo(function(){return(q==null?void 0:q.groupID)||b("CometAudioManagerContexts").makeAudioGroupID()},[q==null?void 0:q.groupID]);a=g.useState(!0);var u=a[0];a=a[1];var v={audioLocalScope:p,controller:i,groupID:t,instanceKey:d,lastMuteReason:l,lastPlayReason:k,muted:m,paused:o,previousVolume:n,symbol:e,videoPlayerPortalingPlaceInfo:r,volume:j};g.useEffect(function(){s!=null&&i.setVolume(s)},[i,s]);p=q||{allowSound:u,groupID:t,setAllowSound:a};var w=g.useRef(p);g.useEffect(function(){f&&f.register(v,w.current);return function(){f&&f.unregister(e,t)}},[f,v,t,e]);g.useEffect(function(){f&&f.update(v)},[f,v]);g.useEffect(function(){!u&&h.current&&i.setMuted(!0,"audio_manager_initiated")},[u,h,i]);return null}}),null);
__d("VideoPlayerCaptionsDisplay.react",["React","recoverableViolation","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={captionsCenterAlign:{justifyContent:"taijpn5t",textAlign:"oqcyycmt"},captionsContainer:{bottom:"lhzng9rx",boxSizing:"rq0escxv",display:"j83agx80",justifyContent:"taijpn5t",paddingLeft:"k2nzzd71",paddingRight:"cnyvn6ex",position:"pmk7jnqg",textAlign:"oqcyycmt",transitionDuration:"pc15xi3s",transitionProperty:"flx89l3n",transitionTimingFunction:"eloblzlw",width:"k4urcfbm"},captionsDefault:{backgroundColor:"d6rk862h",color:"ljqsnud1",fontSize:"a5q79mjw",fontWeight:"ekzkrbhg",lineHeight:"j8p27hm0",marginTop:"kvgmc6g5",marginEnd:"nw5zvenu",marginBottom:"oygrvhab",marginStart:"pbhxczp3",paddingTop:"debrwdc1",paddingEnd:"m4n6deaq",paddingBottom:"pwvavz3a",paddingStart:"n1w2zk5c"},captionsLeftAlign:{justifyContent:"jifvfom9",textAlign:"hzawbc8m"},captionsRightAlign:{justifyContent:"bkfpd7mw",textAlign:"ftzlm3b6"}};function j(a){switch(a){case"center":return i.captionsCenterAlign;case"left":return i.captionsLeftAlign;case"right":return i.captionsRightAlign;default:b("recoverableViolation")("Unsupported captions text alignment: "+a,"comet_video_player")}}function a(a){var c=a.activeCaptions;a=a.adjustments;var d=c==null?void 0:c.rows;if(d!=null&&d.length>0){d=d.map(function(a){return a.trim()}).filter(function(a){return!!a});return d.length>0?h.jsx("div",{className:(g||(g=b("stylex")))(i.captionsContainer,j((c=c==null?void 0:(c=c.styles)==null?void 0:c.textAlignment)!=null?c:"center")),style:{paddingLeft:a.left,paddingRight:a.right,transform:"translateY("+-a.bottom+"px)"},children:h.jsx("div",{className:(g||(g=b("stylex")))(i.captionsDefault),children:d.map(function(a,b){return h.jsxs("span",{children:[a,h.jsx("br",{})]},b)})})}):null}return null}c=h.memo(a);d=c;e.exports=d}),null);
__d("useVideoPlayerCaptionsDisplayAdjustments",["React","VideoPlayerHooks"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=b("VideoPlayerHooks").useVideoPlayerCaptionsReservations(),c=g.useMemo(function(){var b={bottom:0,left:0,right:0,top:0};a.length>0&&a.forEach(function(a){b[a.location]+=a.size});return b},[a]);return c}}),null);
__d("VideoPlayerCaptions.react",["React","VideoPlayerCaptionsDisplay.react","VideoPlayerHooks","useVideoPlayerCaptionsDisplayAdjustments"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=b("VideoPlayerHooks").useActiveCaptions(),c=b("useVideoPlayerCaptionsDisplayAdjustments")();return g.jsx(b("VideoPlayerCaptionsDisplay.react"),{activeCaptions:a,adjustments:c})}}),null);
__d("VideoPlayerCaptionsArea.react",["React","VideoPlayerCaptions.react","VideoPlayerContexts","VideoPlayerHooks"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function h(a,b){switch(b.type){case"reserve":return a.concat(b.reservation);case"release":return a.filter(function(a){return a!==b.reservation});default:return a}}function a(a){a=a.children;var c=g.useReducer(h,[]),d=c[0],e=c[1];c=g.useState({release:function(a){e({reservation:a,type:"release"})},reserve:function(a){e({reservation:a,type:"reserve"});return a}});c=c[0];var f=b("VideoPlayerHooks").useCaptionsVisible();return g.jsx(b("VideoPlayerContexts").VideoPlayerCaptionsReservationActionsContext.Provider,{value:c,children:g.jsxs(b("VideoPlayerContexts").VideoPlayerCaptionsReservationsContext.Provider,{value:d,children:[f?g.jsx(b("VideoPlayerCaptions.react"),{}):null,a]})})}}),null);
__d("VideoPlayerCaptionsController",["JSResource","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.createCaptionsController=a;var g=b("JSResource")("VideoPlayerHTML5ApiCea608State").__setRef("VideoPlayerCaptionsController"),h=b("JSResource")("VideoPlayerHTML5ApiWebVttState").__setRef("VideoPlayerCaptionsController");function a(a){var c=a.captionsUrl,d=a.inbandCaptionsExpected,e=a.onCaptionsLoaded,f=null,i=null,j=null,k=null;function l(a){var c=h.load().then(function(b){if(c!==j)return;f=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(b){b.loadFromUrl(a)}})})["catch"](function(a){if(c!==j)return;b("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiWebVttState module: "+a.message,"comet_video_player")});return c}function m(){var a=g.load().then(function(b){if(a!==k)return;i=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(a){a.processQueue()}})})["catch"](function(c){if(a!==k)return;b("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiCea608State module: "+c.message,"comet_video_player")});return a}c!=null?j=l(c):d===!0&&(k=m());return{destroy:function(){f&&(f.destroy(),f=null),i&&(i.destroy(),i=null),j&&(j=null),k&&(k=null)},handleCea608BytesReceived:function(a){i&&i.enqueueBytes(a)},handleTimeUpdate:function(a){if(f){f.source&&f.source.handleTimeUpdate(a);return f.getCurrentScreenRepresentation()}else if(i){i.source&&i.source.handleTimeUpdate(a);return i.getCurrentScreenRepresentation()}return null},updateCaptionsUrl:function(a){f&&(f.destroy(),f=null),a!=null&&(j=l(a))},updateInbandCaptionsExpected:function(a){i&&(i.destroy(),i=null),a&&(k=m())}}}}),null);
__d("VideoPlayerActionButton.react",["CometLink.react","React","TetraIcon.react","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=a.icon,d=a.label,e=a.onPress,f=a.shouldJustifyContentCenter;f=f===void 0?!1:f;var i=a.testid;i=a.useVerticalLayout;a=i===void 0?!1:i;return h.jsxs("div",{className:(g||(g=b("stylex"))).dedupe(a?{}:{"align-items-1":"bp9cbjyn","display-1":"j83agx80","flex-direction-1":"btwxx1t3","padding-top-1":"discj3wi","padding-end-1":"hv4rvrfc","padding-bottom-1":"ihqw7lf3","padding-start-1":"dati1w0a"},f?{"justify-content-1":"taijpn5t"}:null,a?{"align-items-1":"bp9cbjyn","display-1":"j83agx80","flex-direction-1":"cbu4d94t","padding-top-1":"discj3wi","padding-end-1":"hv4rvrfc","padding-bottom-1":"ihqw7lf3","padding-start-1":"dati1w0a","text-align-1":"oqcyycmt","width-1":"p0n2ovh4"}:null),"data-testid":void 0,children:[h.jsx("div",{className:g.dedupe(a?{}:{"border-top-0.3":"gag4i7dh","border-end-0.3":"jsrkvy3z","border-bottom-0.3":"moy3fgm5","border-start-0.3":"kozd3uwk","border-top-start-radius-1":"s45kfl79","border-top-end-radius-1":"emlxlaya","border-bottom-end-radius-1":"bkmhp75w","border-bottom-start-radius-1":"spb7xbtv","margin-end-1":"tvfksri0","padding-top-1":"jktsbyx5","padding-end-1":"rv4hoivh","padding-bottom-1":"osnr6wyh","padding-start-1":"h4z51re5"},a?{"border-top-0.3":"gag4i7dh","border-end-0.3":"jsrkvy3z","border-bottom-0.3":"moy3fgm5","border-start-0.3":"kozd3uwk","border-top-start-radius-1":"s45kfl79","border-top-end-radius-1":"emlxlaya","border-bottom-end-radius-1":"bkmhp75w","border-bottom-start-radius-1":"spb7xbtv","margin-bottom-1":"n851cfcs","padding-top-1":"jktsbyx5","padding-end-1":"rv4hoivh","padding-bottom-1":"osnr6wyh","padding-start-1":"h4z51re5"}:null),children:h.jsx(b("TetraIcon.react"),{"aria-label":d,color:"white",hideHoverOverlay:!0,icon:c,onPress:e})}),h.jsx(b("TetraText.react"),{color:"white",type:"headlineEmphasized3",children:h.jsx(b("CometLink.react"),{onClick:e,children:d})})]})}}),null);
__d("VideoPlayerFallbackCoverImplWithoutRetry.react",["React","TetraText.react","requireCond","stylex","cr:1672302"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.debugError,d=a.message;a.onRetry;return g.jsxs("div",{className:"stjgntxs ni8dbmo4 taijpn5t j83agx80 ora8z2hr bp9cbjyn kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb",children:[g.jsx("div",{className:"ij9ysmuz cbu4d94t j83agx80 bp9cbjyn",children:g.jsx(b("TetraText.react"),{align:"center",color:"white",type:"bodyLink3",children:d})}),b("cr:1672302")?g.jsx(b("cr:1672302"),{error:c}):null]})}}),null);
__d("useDebouncedValue",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,b){var c=g.useState(a),d=c[0],e=c[1];g.useEffect(function(){var c=setTimeout(function(){return e(a)},b);return function(){return clearTimeout(c)}},[a,b]);return d}}),null);
__d("VideoPlayerSpinner.react",["CometLoadingAnimation.react","React","stylex","useDebouncedValue"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=36;function a(a){a=a.isVisible;var c=b("useDebouncedValue")(a,a?200:500);return h.jsx("div",{className:(g||(g=b("stylex"))).dedupe({"height-1":"tv7at329","opacity-1":"pedkr2u6","position-1":"pmk7jnqg","start-1":"kfkz5moi","top-1":"rk01pc8j","transform-0.1":"py2didcb","transition-delay-1":"chkx7lpg","transition-duration-1":"kmdw4o4n","transition-property-1":"art1omkt","transition-timing-function-1":"e4zzj2sf","width-1":"thwo4zme"},a?null:{"opacity-1":"b5wmifdl","transition-delay-1":"hwaazqwg","transition-duration-1":"kmdw4o4n","transition-property-1":"l23jz15m","transition-timing-function-1":"e4zzj2sf","visibility-1":"kr9hpln1"}),children:h.jsx(b("CometLoadingAnimation.react"),{animationPaused:!c,size:i})})}}),null);
__d("VideoPlayerSurface.react",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return this.props.children!=null?this.props.children:null};return b}(a.PureComponent);e.exports=c}),null);
__d("VideoPlayerDefaultControls.react",["CometPlaceholder.react","CometRelay","CometWarningScreenContext","React","VideoPlayerFullscreenControl.react","VideoPlayerHooks","deferredLoadComponent","requireDeferred","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility","VideoPlayerDefaultControls_video.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=b("deferredLoadComponent")(b("requireDeferred")("VideoPlayerDefaultControlsImplLive.react")),j=b("deferredLoadComponent")(b("requireDeferred")("VideoPlayerDefaultControlsImplNotLive.react"));function a(a){var c,d=a.forceVisible,e=a.forceVisibleOnMount,f=a.renderExpandControl,k=a.shouldRenderLivePauseControl,l=a.shouldRenderModeratorControl,m=a.shouldRenderQuietModeControl,n=a.shouldRenderWatchAndScrollControl,o=a.shouldUnmuteForBigPlayButton,p=a.subOrigin,q=a.video;a=a.videoTahoeUrl;q=b("CometRelay").useFragment(g!==void 0?g:g=b("VideoPlayerDefaultControls_video.graphql"),q);c=(c=b("CometWarningScreenContext").useIsContentVisible())!=null?c:!1;var r=b("VideoPlayerHooks").useMuted(),s=b("VideoPlayerHooks").useIsLive();e=b("useVideoPlayerDefaultControlsVisibility")({forceVisible:d,forceVisibleOnMount:e});var t=e.isControlsVisible;e=e.onUserInteraction;d=b("useVideoPlayerBigPlayButtonOverlay")({forceVisible:d===!1?!1:void 0,shouldUnmute:o});o=d.bigPlayButtonElement;d=d.bigPlayButtonIsVisible;t=t&&!d&&c;c=(r||t)&&!d;r=f!=null?f({onUserInteraction:e}):h.jsx(b("VideoPlayerFullscreenControl.react"),{onUserInteraction:e});d=s?h.jsx(i,{expandControl:r,isControlsVisible:t,isVolumeControlVisible:c,onUserInteraction:e,shouldRenderModeratorControl:l,shouldRenderPauseControl:k,shouldRenderQuietModeControl:m,shouldRenderWatchAndScrollControl:n,subOrigin:p,video:q,videoTahoeUrl:a}):h.jsx(j,{expandControl:r,isControlsVisible:t,isVolumeControlVisible:c,onUserInteraction:e,shouldRenderWatchAndScrollControl:n,subOrigin:p,video:q,videoTahoeUrl:a});return h.jsxs(h.Fragment,{children:[o,h.jsx(b("CometPlaceholder.react"),{fallback:null,children:d})]})}}),null);
__d("VideoPlayerBanzaiLogFlusher",["Banzai","BanzaiConsts","emptyFunction","gkx"],(function(a,b,c,d,e,f){"use strict";var g,h="video_player";a=b("emptyFunction");c=function(){function a(a){this.$1=a}var c=a.prototype;c.flushLogs=function(){var a=this.$1.consumeLoggerEvents();a.forEach(function(a){var c={event:a.eventType,logData:a.logData,routeTracePolicy:a.routeTracePolicy,source:a.source_VPL_LOGGING_HACK};if(a.source_VPL_LOGGING_HACK==="animated_image_share"&&b("gkx")("1710047"))return;a=(a=a.logData)==null?void 0:a.ad_client_token;var d=b("gkx")("1426867")?{batch:1500,delay:(g||(g=b("BanzaiConsts"))).VITAL_WAIT}:{delay:(g||(g=b("BanzaiConsts"))).VITAL_WAIT};b("gkx")("1107827")?b("Banzai").post(h,c,d):a!=null?b("Banzai").post(h,c,b("Banzai").VITAL):(d.delay=(g||(g=b("BanzaiConsts"))).BASIC_WAIT_COMET,b("Banzai").post(h,c,d))})};return a}();e.exports=c}),null);
__d("getErrorMessageFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}}),null);
__d("getErrorNameFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"MEDIA_ERR_UNKNOWN_"+((a=a)!=null?a:"UNDEFINED")}}}),null);
__d("VideoPlayerImplementationErrors",["getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerErrorFromHTMLVideoElementError=a;f.createVideoPlayerErrorFromVideoElementPlayPromiseRejectionReason=c;f.createVideoPlayerErrorFromGenericError=d;function a(a){var c=a.errorLocation,d=a.hostCallError,e=a.videoElementError,f=a.videoElementNetworkState;a=a.videoElementReadyState;var g=e==null?void 0:e.code,h=d!=null&&typeof d.message==="string"?d.message:null;h==null&&(h=e==null?void 0:e.message);h==null&&g!=null&&(h=b("getErrorMessageFromMediaErrorCode")(g));e={createdTimestamp:Date.now(),errorDescription:((e=h)!=null?e:"Empty error")+("; code: "+((h=g)!=null?h:"undefined"))+("; readyState: "+a)+("; networkState: "+f),errorLocation:c,errorName:b("getErrorNameFromMediaErrorCode")(g),originalError:d};return e}function c(a,b){if(a==null){var c={createdTimestamp:Date.now(),errorDescription:"Empty rejection reason from video play()",errorLocation:b,errorName:"PlayRejectedError"};return c}c={createdTimestamp:Date.now(),errorCode:typeof a.code==="string"?a.code:typeof a.code==="number"?String(a.code):void 0,errorDescription:typeof a.message==="string"?a.message:String(a),errorLocation:b,errorName:typeof a.name==="string"?a.name:"PlayRejectedError"};return c}function d(a,b,c){var d;d={message:(d=b==null?void 0:b.message)!=null?d:"",name:(d=b==null?void 0:b.name)!=null?d:"UnknownError",stack:(b==null?void 0:b.stack)||new Error().stack};b={createdTimestamp:Date.now(),errorCode:null,errorDescription:d.name+" "+d.message,errorLocation:c,errorName:a,stack:d.stack,url:null};return b}}),null);
__d("VideoPlayerImplementationStateMachine",["VideoPlayerImplementationErrors","gkx","recoverableViolation","shallowEqual","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerImplementationStateMachine=m;f.createVideoPlayerImplementationStateMachineWithStateTransitionHandlers=a;f.createReactVideoElementCallbacksForStateMachine=c;function g(a){var b=a.bufferingDetected,c=a.seeking;a=a.waitingForDomPlaying;return!b&&!c&&!a}function h(a){var c=a.bufferingDetected,d=a.prevPlaybackState,e=a.seeking;a=a.waitingForDomPlaying;c=g({bufferingDetected:c,seeking:e,waitingForDomPlaying:a});e=d;switch(d){case"stalling":e=c?"playing":"stalling";break;case"ended":case"paused":case"playing":break;default:d;b("recoverableViolation")("unexpected playbackState: "+d,"comet_video_player");break}return e}function i(a,c,d){switch(d.type){case"host_call_pause":case"host_call_play":case"host_call_set_current_time":case"host_call_set_volume":case"host_call_set_muted":case"host_call_set_playback_rate":case"host_call_set_video_quality":return babelHelpers["extends"]({},a,{hostCallQueue:a.hostCallQueue.concat([d])});case"dom_event_ended":return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});case"dom_event_pause":if(a.playbackState==="ended")return a;if(c.videoElementEnded===!0)return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});return a.playbackState==="paused"?a:babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play":var e=a.playbackState,f=e;switch(e){case"playing":case"stalling":case"ended":case"paused":f="stalling";break;default:e;b("recoverableViolation")("unexpected playbackState: "+e,"comet_video_player");break}e=!0;return babelHelpers["extends"]({},a,{playbackState:f,waitingForDomPlaying:e});case"dom_event_playing":f=a.bufferingDetected;e=a.seeking;var g=!1,i=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:h({bufferingDetected:f,prevPlaybackState:i,seeking:e,waitingForDomPlaying:g}),waitingForDomPlaying:g});case"dom_event_timeupdate":if(a.waitingForDomTimeUpdateAfterSeeked){f=a.bufferingDetected;i=a.seeking;e=!1;g=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:h({bufferingDetected:f,prevPlaybackState:g,seeking:i,waitingForDomPlaying:e}),waitingForDomPlaying:e,waitingForDomTimeUpdateAfterSeeked:!1})}return a;case"dom_event_seeking":f=a.playbackState;g=f;switch(f){case"paused":case"ended":break;case"stalling":case"playing":g="stalling";break;default:f,b("recoverableViolation")("unexpected playbackState: "+f,"comet_video_player")}return babelHelpers["extends"]({},a,{playbackState:g,seeking:!0,waitingForDomPlaying:!0});case"dom_event_seeked":i=a.bufferingDetected;e=a.waitingForDomPlaying;f=!1;g=a.playbackState;return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:null,playbackState:h({bufferingDetected:i,prevPlaybackState:g,seeking:f,waitingForDomPlaying:e}),seeking:f,waitingForDomTimeUpdateAfterSeeked:!0});case"dom_event_error":i=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:"dom_event_error",hostCallError:null,videoElementError:d.payload.videoElementError,videoElementNetworkState:d.payload.videoElementNetworkState,videoElementReadyState:d.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:i,playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play_promise_created":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:d.payload.hostCallPlayID});case"dom_event_play_promise_resolved":return a.hostCallPlayIDLast!==d.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"dom_event_play_promise_rejected":return a.hostCallPlayIDLast!==d.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null,playbackState:a.playbackState==="stalling"?"paused":a.playbackState,waitingForDomPlaying:!1});case"implementation_host_call_queue_flushed":return babelHelpers["extends"]({},a,{hostCallQueue:[]});case"implementation_host_call_failed":g=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:d.payload.errorLocation,hostCallError:d.payload.hostCallError,videoElementError:d.payload.videoElementError,videoElementNetworkState:d.payload.videoElementNetworkState,videoElementReadyState:d.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:g,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_video_node_unmounted":return a;case"implementation_engine_initialized":return babelHelpers["extends"]({},a,{availableQualities:d.payload.availableQualities,selectedVideoQuality:d.payload.selectedVideoQuality,targetVideoQuality:d.payload.targetVideoQuality,videoProjection:d.payload.videoProjection});case"implementation_engine_destroyed":return a;case"implementation_fatal_error":return babelHelpers["extends"]({},a,{error:d.payload.fatalError,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:d.payload.seekSourcePosition});case"representation_changed":return babelHelpers["extends"]({},a,{targetVideoQuality:d.payload.targetVideoQuality});case"controller_pause_requested":return a.playbackState==="ended"?a:babelHelpers["extends"]({},a,{lastPauseReason:d.payload.reason,lastPausedTimeMs:Date.now(),lastPlayedTimeMs:0,playbackState:"paused",waitingForDomPlaying:!1,watchTimeMs:a.lastPlayedTimeMs>0?a.watchTimeMs+(Date.now()-a.lastPlayedTimeMs):a.watchTimeMs});case"controller_play_requested":if(a.playbackState!=="paused"&&a.playbackState!=="ended")return a;e=a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1?d.payload.reason==="loop_initiated"?a.loopCurrent+1:a.loopCurrent:0;return babelHelpers["extends"]({},a,{lastPlayReason:d.payload.reason,lastPlayedTimeMs:a.lastPlayedTimeMs===0?Date.now():a.lastPlayedTimeMs,loopCurrent:e,playbackState:"stalling",waitingForDomPlaying:!0});case"controller_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(f=c.videoElementPlayheadPosition)!=null?f:a.implementationSeekSourcePosition,seekTargetPosition:d.payload.seekTargetPosition,seeking:!0});case"controller_quality_requested":return babelHelpers["extends"]({},a,{selectedVideoQuality:d.payload.selectedVideoQuality});case"controller_set_playback_rate":return babelHelpers["extends"]({},a,{targetPlaybackRate:d.payload.playbackRate});case"controller_muted_requested":return babelHelpers["extends"]({},a,{lastMuteReason:d.payload.reason,muted:d.payload.muted});case"controller_volume_requested":return babelHelpers["extends"]({},a,{volume:d.payload.volume});case"controller_scrub_begin_requested":return a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!0,seekTargetPosition:null});case"controller_scrub_end_requested":return!a.scrubbing?a:babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(i=c.videoElementPlayheadPosition)!=null?i:a.implementationSeekSourcePosition,scrubbing:!1,seekTargetPosition:d.payload.seekTargetPosition,seeking:d.payload.seekTargetPosition!=null});case"buffering_begin_requested":g=a.playbackState;e=g;switch(g){case"paused":case"ended":break;case"playing":case"stalling":e="stalling";break;default:g;b("recoverableViolation")("unexpected playbackState: "+g,"comet_video_player");break}return babelHelpers["extends"]({},a,{bufferingDetected:!0,playbackState:e});case"buffering_end_requested":f=a.seeking;c=a.waitingForDomPlaying;i=!1;g=a.playbackState;return babelHelpers["extends"]({},a,{bufferingDetected:i,playbackState:h({bufferingDetected:i,prevPlaybackState:g,seeking:f,waitingForDomPlaying:c})});case"controller_set_captions_visible_requested":e=d.payload.captionsVisible;return a.captionsVisible===e?a:babelHelpers["extends"]({},a,{activeCaptions:e?a.activeCaptions:null,captionsVisible:e});case"controller_set_active_captions_requested":i=d.payload.activeCaptions;f=(g=i==null?void 0:i.rows)!=null?g:[];c=a.activeCaptions;var j=(e=c==null?void 0:c.rows)!=null?e:[];return j.length===f.length&&f.every(function(a,b){return j[b]===a})?a:babelHelpers["extends"]({},a,{activeCaptions:i});case"captions_loaded":return babelHelpers["extends"]({},a,{activeCaptions:a.activeCaptions,captionsLoaded:!0});case"captions_unloaded":return babelHelpers["extends"]({},a,{activeCaptions:null,captionsLoaded:!1});case"inband_captions_autogenerated_changed":g=d.payload.inbandCaptionsAutogenerated;return a.inbandCaptionsAutogenerated===g?a:babelHelpers["extends"]({},a,{inbandCaptionsAutogenerated:g});case"stream_ended":return babelHelpers["extends"]({},a,{streamEnded:!0});case"stream_interrupted":return babelHelpers["extends"]({},a,{streamInterrupted:!0});case"stream_resumed":return babelHelpers["extends"]({},a,{streamInterrupted:!1});case"seekable_ranges_changed":c=d.payload.seekableRanges;return babelHelpers["extends"]({},a,{seekableRanges:c});case"controller_set_is_live_rewind_active_requested":e=d.payload.isLiveRewindActive;return babelHelpers["extends"]({},a,{isLiveRewindActive:e});case"loop_count_change_requested":f=d.payload.loopCount;return f===a.loopCount?a:babelHelpers["extends"]({},a,{loopCount:f,loopCurrent:0});case"player_dimensions_changed":i=d.payload.dimensions;g=i.height;c=i.width;return c===a.dimensions.width&&g===a.dimensions.height?a:babelHelpers["extends"]({},a,{dimensions:{height:g,width:c}});default:return a}}function j(a,c,d){var e=c.type!=="dom_seeking";e=e?d:a.uncontrolledState;d=!b("shallowEqual")(e,a.uncontrolledState);c=i(a.controlledState,e,c);var f=!b("shallowEqual")(c,a.controlledState);return d||f?babelHelpers["extends"]({},a,{controlledState:f?c:a.controlledState,uncontrolledState:d?e:a.uncontrolledState}):a}var k,l;function m(a){var c=a.collectUncontrolledState,d=a.debugLogId;d=a.initialState;var e=a.onDispatched,f=a.onFatalError,g=d,h=g,i=0,k=!1,l=!1,m=!0,n=!0;return{dispatch:function(a){if(!n)return;var d=null,g=null;try{++i;if(i>=10)if(!k){k=!0;throw b("unrecoverableViolation")("Video player state machine loop detected","comet_video_player")}else return;var o=h.uncontrolledState;if(m)try{o=c()}catch(a){m=!1,g=a}var p=h;o=j(p,a,o);h=o;e(p,o,a)}catch(a){n=!1,d=a}finally{if(!l&&(d!=null||g!=null)){l=!0;try{f((p=d)!=null?p:g)}catch(a){}}--i}},getCurrentState:function(){return h},getInitialState:function(){return g}}}var n,o;function a(a){var b=a.collectUncontrolledState,c=a.debugLogId,d=a.initialState,e=a.onFatalError,f=a.stateTransitionHandlers;function g(a,b,c){try{var d=!0,e=0;while(d&&e<f.length){var g=f[e];d=g(a,b,c);++e}}finally{}}return m({collectUncontrolledState:b,debugLogId:c,initialState:d,onDispatched:g,onFatalError:e})}function c(a,b){function c(){}function d(a){return a}function e(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c)}}return{onAbort:c,onCanPlay:c,onCanPlayThrough:c,onDurationChange:e({type:"dom_event_durationchange"}),onEmptied:c,onEncrypted:c,onEnded:e({type:"dom_event_ended"}),onError:function(c){var e=d(c.currentTarget);b(e,["reactEvent("+c.type+")"]);a.dispatch({payload:{videoElementError:e.error,videoElementNetworkState:e.networkState,videoElementReadyState:e.readyState},type:"dom_event_error"})},onLoadStart:c,onLoadedData:c,onLoadedMetadata:c,onPause:e({type:"dom_event_pause"}),onPlay:e({type:"dom_event_play"}),onPlaying:e({type:"dom_event_playing"}),onProgress:e({type:"dom_event_progress"}),onRateChange:e({type:"dom_event_ratechange"}),onSeeked:e({type:"dom_event_seeked"}),onSeeking:e({type:"dom_event_seeking"}),onStalled:c,onSuspend:c,onTimeUpdate:e({type:"dom_event_timeupdate"}),onVolumeChange:e({type:"dom_event_volumechange"}),onWaiting:e({type:"dom_event_waiting"})}}}),null);
__d("VideoPlayerImplementationStateMachineHostCallQueue",["cometUniqueID","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f){"use strict";f.makeHostCallID=g;f.applyOrQueueHostCall=i;f.flushHostCallQueue=a;c=b("emptyFunction");function g(){return"id-vpdom-"+b("cometUniqueID")()}function h(a){var c=a.engineExtrasAPI,d=a.hostCall,e=a.machine;a=a.videoElementAPI;switch(d.type){case"host_call_play":var f=a.play();f&&(e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_created"}),b("promiseDone")(f.then(function(){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_resolved"})},function(a){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID,playPromiseRejectionReason:a},type:"dom_event_play_promise_rejected"})})));break;case"host_call_pause":a.pause();break;case"host_call_set_playback_rate":a.setPlaybackRate(d.payload.playbackRate);break;case"host_call_set_muted":a.setMuted(d.payload.muted);break;case"host_call_set_volume":a.setVolume(d.payload.volume);break;case"host_call_set_current_time":a.setPlayheadPosition(d.payload.currentTime);break;case"host_call_set_video_quality":c.setUserSelectedVideoQuality(d.payload.selectedVideoQuality);break;case"host_call_set_latency_level":c.setLatencyLevel(d.payload.latencyLevel);break;default:d.type;return!1}return!0}function i(a){var b=a.engineExtrasAPI,c=a.hostCall,d=a.machine;a=a.videoElementAPI;if(!a||!b)d.dispatch(c);else{var e=!1;try{e=h({engineExtrasAPI:b,hostCall:c,machine:d,videoElementAPI:a})}catch(b){d.dispatch({payload:{errorLocation:"apply_host_call_catch",hostCall:c,hostCallError:b,videoElementError:a.getError(),videoElementNetworkState:a.getNetworkState(),videoElementReadyState:a.getReadyState()},type:"implementation_host_call_failed"})}e&&d.dispatch({payload:{hostCall:c},type:"implementation_host_call_applied"})}}function j(a){var b=[];function c(){b=b.filter(function(a){return a.type!=="host_call_play"&&a.type!=="host_call_pause"})}function d(a){b=b.filter(function(b){return b.type!==a})}a.forEach(function(a){switch(a.type){case"host_call_play":c();break;case"host_call_pause":c();break;case"host_call_set_playback_rate":d(a.type);break;case"host_call_set_muted":d(a.type);break;case"host_call_set_volume":d(a.type);break;case"host_call_set_current_time":d(a.type);break;case"host_call_set_video_quality":d(a.type);break;case"host_call_set_latency_level":d(a.type);break;default:a.type}b=b.concat([a])});return b}function a(a){var b=a.engineExtrasAPI,c=a.machine,d=a.reason,e=a.state,f=a.videoElementAPI;a=[{payload:{hostCallID:g(),reason:d,volume:e.controlledState.volume},type:"host_call_set_volume"},{payload:{hostCallID:g(),muted:e.controlledState.muted,reason:d},type:"host_call_set_muted"},{payload:{hostCallID:g(),reason:d,selectedVideoQuality:e.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"}];d=j(e.controlledState.hostCallQueue.concat(a));d.forEach(function(a){i({engineExtrasAPI:b,hostCall:a,machine:c,videoElementAPI:f})});c.dispatch({payload:{hostCallsFlushed:d},type:"implementation_host_call_queue_flushed"})}}),null);
__d("VideoMimeTypes",[],(function(a,b,c,d,e,f){function a(a,b,c){return a+'; codecs="'+b+", "+c+'"'}f="mp4a.40.2";function b(a){return"avc1.42E0"+a.toString(16).toUpperCase()}function c(a){return"avc1.4D40"+a.toString(16).toUpperCase()}function d(a){return"avc1.6400"+a.toString(16).toUpperCase()}var g="video/mp4";b=a(g,b(30),f);var h=a(g,c(30),f);c=a(g,c(31),f);var i=a(g,d(50),f);a=a(g,d(51),f);g={h264baseline:b,h264main30avc:h,h264main31avc:c,h264high50avc:i,h264high51avc:a};e.exports=g}),null);
__d("VideoPlayerConnectionQuality",[],(function(a,b,c,d,e,f){"use strict";var g={POOR:"POOR",MODERATE:"MODERATE",GOOD:"GOOD",EXCELLENT:"EXCELLENT"},h=[{bandwidth:5e5,connectionQuality:g.POOR},{bandwidth:2e6,connectionQuality:g.MODERATE},{bandwidth:1e7,connectionQuality:g.GOOD}],i=100,j=null,k=null;a=function(a){if(j!==null&&k!==null&&j>=Date.now()-i)return k;a=a();var b=null;if(a!=null)for(var c=0;c<h.length;c++)if(a<h[c].bandwidth){b=h[c].connectionQuality;break}b===null&&(b=g.EXCELLENT);j=Date.now();k=b;return b};f.evaluate=a}),null);
__d("VideoPlayerLoggerPlayerStates",[],(function(a,b,c,d,e,f){a="started";b="unpaused";c={STARTED:a,UNPAUSED:b};e.exports=c}),null);
__d("VideoPlayerMutedStateChange",[],(function(a,b,c,d,e,f){"use strict";f.getVideoPlayerMutedStateChange=a;function a(a){var b=a.currMuted,c=a.currVolume,d=a.prevMuted;a=a.prevVolume;b=b||c===0;c=d||a===0;if(c===b)return null;return b?"muted":"unmuted"}}),null);
__d("getVideoBrowserTabId",["guid"],(function(a,b,c,d,e,f){e.exports=a;var g=b("guid")().slice(-8);function a(){return g}}),null);
__d("VideoPlayerImplementationStateMachineLogger",["PlaybackSpeedExperiments","SiteData","VideoMimeTypes","VideoPlayerConnectionQuality","VideoPlayerLoggerPlayerStates","VideoPlayerMutedStateChange","VideoPlayerStateBasedLoggingEvents","emptyFunction","getPlayerFormatForLogData","getVideoBrowserTabId","gkx","mapObject","recoverableViolation","removeFromArray"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerImplementationStateMachineLogger=a;var g,h=6e4;f.HEARTBEAT_INTERVAL=h;var i=.5,j=null,k=function(a){var b;j=(b=j)!=null?b:document.createElement("video");return!("canPlayType"in j)?"":j.canPlayType(a)};d=c=b("emptyFunction");e=c;a=c;f=c;var l=(d=b("PlaybackSpeedExperiments").enablePlaybackSpeedLogging())!=null?d:!1;function m(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,debugSubscribers:[],dontLogPauseOnUnpausedSeeking:!1,hasLoggedStallData:!1,hasLoggedStartedPlaying:!1,hasPausedOnce:!1,hasPendingRequestedPlaying:!1,initialSuborigin:void 0,interruptCount:0,interruptDuration:0,interruptEndTimestamp:0,interruptStartTimestamp:0,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedFullscreenState:!1,lastLoggedPlaybackSpeed:null,lastLoggedViewabilityPercentage:void 0,lastStartTimePosition:null,lastTrackedRepresentation:null,nextHeartbeatTime:null,nextPlayedThreeSecondsPlayheadPosition:null,sequenceNumber:0,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1,stallCount:0,stallCount200ms:0,stallDuration:0,stallStartTimestamp:0,stallCountTotal:0,stallDurationTotal:0,startStallCountTotal:0,startStallDurationTotal:0,vplEventSequenceNumber:0}}function n(a,b){return b==="muted"||b==="unmuted"||b==="started_playing"||b==="caption_change"||b==="unpaused"?a.controlledState.captionsVisible?"on":"off":void 0}function a(a){var c=new Map(),d=a.initialLoggingMetaData,e=d,f=[],j=m(),o=new Set(b("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);function p(a){j.debugSubscribers.push(a);return function(){b("removeFromArray")(j.debugSubscribers,a)}}function q(a){j.debugSubscribers.forEach(function(b){return b(a)})}function r(a){var b=j.stallStartTimestamp;if(b>0){j.stallCount+=1;j.stallCountTotal+=1;j.hasPendingRequestedPlaying&&(j.startStallCountTotal+=1);a=a-b;j.stallDurationTotal+=a;j.stallDuration+=a;j.stallCount200ms+=a>200?1:0;j.hasPendingRequestedPlaying&&(j.startStallDurationTotal+=a)}}function s(a,b){a=a.uncontrolledState.videoElementPlayheadPosition==null?null:a.uncontrolledState.videoElementPlayheadPosition;var c=null;switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"heart_beat":case"playback_speed_changed":case"representation_ended":c=j.lastStartTimePosition;break;case"scrubbed":c=a;break;default:break}switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"scrubbed":j.lastStartTimePosition=null;break;case"started_playing":case"unpaused":case"heart_beat":case"playback_speed_changed":case"representation_ended":j.lastStartTimePosition=a;break;default:break}return{video_last_start_time_position:c}}function t(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.streamInterrupted;b=b.controlledState.streamInterrupted;!a&&b?j.interruptStartTimestamp=c:a&&!b&&j.interruptStartTimestamp>0&&(j.interruptEndTimestamp=c,j.interruptCount+=1,j.interruptDuration+=j.interruptEndTimestamp-j.interruptStartTimestamp)}function u(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.playbackState;var d=b.controlledState.playbackState;a!=="stalling"&&d==="stalling"&&(q("stall_start"),j.stallStartTimestamp=c);a==="stalling"&&d!=="stalling"&&(r(b.uncontrolledState.clockTimestamp),j.stallStartTimestamp=0,q("stall_end"))}function v(a,b,c){a=b.uncontrolledState;b=a.videoElementPlayheadPosition;switch(c){case"unpaused":case"started_playing":j.nextPlayedThreeSecondsPlayheadPosition=((a=b)!=null?a:0)+3;break;case"paused":case"finished_playing":j.nextPlayedThreeSecondsPlayheadPosition=null;break;default:break}}function w(a,b,c){if(j.interruptCount>0&&j.interruptDuration>0){a={interrupt_count:j.interruptCount,interrupt_time:j.interruptDuration};j.interruptCount=0;j.interruptDuration=0;j.interruptStartTimestamp=0;j.interruptEndTimestamp=0;return a}return{interrupt_count:null,interrupt_time:null}}function x(a,b,c){var d={stall_count:null,stall_count_200_ms:null,stall_time:null},e=b.uncontrolledState.clockTimestamp,f=function(){var a={stall_count:j.stallCount,stall_count_200_ms:j.stallCount200ms,stall_time:j.stallDuration};j.stallCount=0;j.stallCount200ms=0;j.stallDuration=0;j.stallStartTimestamp=0;return a};a=a.controlledState.playbackState;var g=b.controlledState.playbackState;a!=="stalling"&&g==="stalling"&&(j.stallStartTimestamp=e);switch(c){case"started_playing":case"unpaused":case"finished_playing":case"paused":case"cancelled_requested_playing":case"playback_speed_changed":case"representation_ended":r(b.uncontrolledState.clockTimestamp);d=f();break;case"heart_beat":b.controlledState.playbackState!=="stalling"&&(r(b.uncontrolledState.clockTimestamp),d=f());break;default:break}return d}function y(a,b){a=a?a.getAndFlushTracedFrames():null;switch(b){case"finished_playing":case"paused":case"heart_beat":return a!=null?JSON.stringify(a):null;default:return null}}function z(a){a=a.controlledState.playbackState;switch(a){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:a;return"unknown"}}function A(){return{state:j.hasLoggedStartedPlaying?b("VideoPlayerLoggerPlayerStates").UNPAUSED:b("VideoPlayerLoggerPlayerStates").STARTED}}function B(e){var g=e.eventType,h=e.logDataOverrides,i=e.prevState,k=e.state;e=s(k,g);e=e.video_last_start_time_position;var m=x(i,k,g),p=m.stall_count,q=m.stall_count_200_ms;m=m.stall_time;var r=w(i,k,g),t=r.interrupt_count;r=r.interrupt_time;var u=y(a.initialLoggingMetaData.videoLiveTrace,g),A=[],B=a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplayGatingResult;B&&A.push(B);B=g==="entered_fs"?!0:g==="exited_fs"?!1:j.lastLoggedFullscreenState;var C=b("getPlayerFormatForLogData")(B,d.coreVideoPlayerMetaData.playerFormat),D=k.uncontrolledState.viewabilityPercentage,E=Boolean(k.uncontrolledState.isFBIsLiveTemplated),F=Boolean(k.uncontrolledState.isFBWasLive),G=k.uncontrolledState.videoElementPlaybackRate;G=G==null||G===0?j.lastLoggedPlaybackSpeed:G;var H=a.initialLoggingMetaData.productAttribution;u={access_token:a.initialLoggingMetaData.accessToken,ad_client_token:d.coreVideoPlayerMetaData.adClientToken,attribution_id:H!=null?JSON.stringify(H):null,autoplay_eligible:a.initialLoggingMetaData.coreVideoPlayerMetaData.canAutoplay==="allow",autoplay_failure_reasons:JSON.stringify(A),autoplay_setting:a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplaySetting,broadcaster_origin:a.initialLoggingMetaData.coreVideoPlayerMetaData.broadcasterOrigin,browser_tab_id:b("getVideoBrowserTabId")(),caption_state:n(k,g),current_playback_speed:l?G:null,current_viewability_percentage:D,data_connection_quality:b("VideoPlayerConnectionQuality").evaluate(function(){return k.uncontrolledState.estimatedBandwidth}),dropped_frame_count:k.uncontrolledState.videoElementDroppedFrameCount,external_log_id:d.coreVideoPlayerMetaData.externalLogID,external_log_type:d.coreVideoPlayerMetaData.externalLogType,frame_events:u,interrupt_count:t,interrupt_time:r,is_abr_enabled:k.isAbrEnabled,is_fbms:k.uncontrolledState.isFBMS,is_predictive_playback:k.uncontrolledState.isPredictiveDash,is_sound_on:!k.controlledState.muted,is_live_video_rewound:k.controlledState.isLiveRewindActive,is_templated_manifest:E||F,last_viewability_percentage:j.lastLoggedViewabilityPercentage,living_room_session_id:a.initialLoggingMetaData.coreVideoPlayerMetaData.livingRoomID,playback_is_drm:Boolean(a.initialLoggingMetaData.coreVideoPlayerMetaData.graphQLVideoDRMInfo),playback_duration:k.uncontrolledState.videoElementDuration,playback_is_broadcast:a.initialLoggingMetaData.coreVideoPlayerMetaData.isVideoBroadcast,playback_is_live_streaming:a.initialLoggingMetaData.coreVideoPlayerMetaData.isLiveStreaming,player_format:C,player_instance_key:d.instanceKey,player_origin:d.coreVideoPlayerMetaData.playerOriginOverride,player_state:z(k),player_suborigin:d.coreVideoPlayerMetaData.subOrigin,player_version:k.playerVersion,representation_id:k.uncontrolledState.videoRepresentationID,source_VPL_LOGGING_HACK:d.coreVideoPlayerMetaData.source_VPL_LOGGING_HACK,stall_count:p,stall_count_200_ms:q,stall_time:m,streaming_format:k.streamingFormat,total_frame_count:k.uncontrolledState.videoElementTotalFrameCount,tracking_data_encrypted:a.initialLoggingMetaData.trackingDataEncrypted,tracking_nodes:a.initialLoggingMetaData.trackingNodes,v2_heart_beat:b("gkx")("1434599")&&g==="heart_beat"?!0:null,video_bandwidth:k.uncontrolledState.estimatedBandwidth,video_id:d.coreVideoPlayerMetaData.videoFBID,video_last_start_time_position:e,video_play_reason:k.controlledState.lastPlayReason,video_player_height:(H=d.dimensions)==null?void 0:H.height,video_player_width:(A=d.dimensions)==null?void 0:A.width,video_time_position:k.uncontrolledState.videoElementPlayheadPosition,web_client_revision:b("SiteData").client_revision};t={event_seq_num:++j.vplEventSequenceNumber,seq_num:o.has(g)?++j.sequenceNumber:null,time_ms:Date.now()};var I={};c.forEach(function(a,b){I[b]=a});r=babelHelpers["extends"]({},I,u,h,t);F=(E=j.initialSuborigin)!=null?E:d.coreVideoPlayerMetaData.subOrigin;p=(C=r.source_VPL_LOGGING_HACK)!=null?C:F;m=(q=d.coreVideoPlayerMetaData.initialTracePolicy)!=null?q:d.coreVideoPlayerMetaData.routeTracePolicy;e={eventType:g,logData:r,routeTracePolicy:m,source_VPL_LOGGING_HACK:p};f.push(e);v(i,k,g);j.initialSuborigin==null&&F!=null&&(j.initialSuborigin=F);j.lastLoggedFullscreenState=B;j.lastLoggedPlaybackSpeed=G;g==="viewability_changed"&&(j.lastLoggedViewabilityPercentage=D)}var C={};function D(a,b,c){B({eventType:"requested_playing",logDataOverrides:babelHelpers["extends"]({},c,A()),prevState:a,state:b});j.hasPendingRequestedPlaying=!0;j.canLogPausedOrFinishedPlaying=!0;return C}function E(a,b,c){if(!j.canLogPausedOrFinishedPlaying)return C;else if(j.hasPendingRequestedPlaying){F(a,b,c);j.canLogPausedOrFinishedPlaying=!1;j.hasPendingRequestedPlaying=!1;return C}else{B({eventType:"paused",logDataOverrides:c,prevState:a,state:b});j.canLogPausedOrFinishedPlaying=!1;j.hasPendingRequestedPlaying=!1;return C}}function F(a,b,c){B({eventType:"cancelled_requested_playing",logDataOverrides:babelHelpers["extends"]({},c,A()),prevState:a,state:b});return C}function G(a,b,c){if(c.type==="dom_event_play_promise_rejected"&&j.hasPendingRequestedPlaying){c=c.payload.playPromiseRejectionReason;if(c!=null&&c.name==="NotAllowedError"){F(a,b,{debug_reason:"not_allowed"});return C}else return C}else return C}function H(a,b,c){if((c.type==="controller_play_requested"||c.type==="dom_event_play"&&!j.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==b.controlledState.playbackState){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;D(a,b,c);return C}else return C}function I(a,b,c){if(a.controlledState.playbackState==="stalling"&&b.controlledState.playbackState==="playing"&&j.canLogPlayingEvent){B({eventType:j.hasLoggedStartedPlaying?"unpaused":"started_playing",prevState:a,state:b});j.hasLoggedStartedPlaying=!0;j.canLogPlayingEvent=!1;j.hasPendingRequestedPlaying=!1;return C}else return C}function J(a,c,d){var e=c.controlledState.playbackState,f=a.controlledState.playbackState;if(d.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){E(a,c);j.isLoggingScrubbingSequence=!0;return C}else if(!a.controlledState.seeking&&c.controlledState.seeking&&!j.isLoggingScrubbingSequence&&e!=="paused"&&e!=="ended"&&!j.hasPendingRequestedPlaying){E(a,c);j.shouldLogRequestedPlayingForScrub=!0;return C}else if(d.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){D(a,c,{video_time_position:d.payload.seekTargetPosition});return C}else if(a.controlledState.seeking&&!c.controlledState.seeking){d=c.uncontrolledState.videoElementPlayheadPosition;var g=a.controlledState.implementationSeekSourcePosition;(!b("gkx")("1482680")||g!=null&&d!=null&&Math.abs(g-d)>i)&&(j.shouldLogRequestedPlayingForScrub&&e!=="paused"&&e!=="ended"&&D(a,c),B({eventType:"scrubbed",prevState:a,state:c}),j.isLoggingScrubbingSequence=!1,j.shouldLogRequestedPlayingForScrub=!1,f!=="paused"&&f!=="ended"&&(j.canLogPlayingEvent=!0));return C}else return C}function K(a,b,c){if(a.controlledState.playbackState!==b.controlledState.playbackState&&b.controlledState.playbackState==="ended"&&j.canLogPausedOrFinishedPlaying){B({eventType:"finished_playing",prevState:a,state:b});j.canLogPausedOrFinishedPlaying=!1;return C}else return C}function L(a,b,c){if((c.type==="controller_pause_requested"||c.type==="dom_event_pause"&&!j.shouldIgnoreDomPause)&&a.controlledState.playbackState!==b.controlledState.playbackState){E(a,b);return C}else return C}function M(a,c,d){var e=c.controlledState.playbackState;if(e!=="paused"&&e!=="ended"){b("gkx")("1469813")&&d.type==="implementation_video_node_unmounted"?E(a,a,{debug_reason:"unloaded"}):(d.type==="implementation_unmounted"||d.type==="implementation_engine_destroy_requested")&&E(a,c,{debug_reason:"unloaded"});return C}else return C}function N(a,c,d){d=c.controlledState.muted;var e=c.controlledState.volume,f=a.controlledState.muted,g=a.controlledState.volume;d=b("VideoPlayerMutedStateChange").getVideoPlayerMutedStateChange({currMuted:d,currVolume:e,prevMuted:f,prevVolume:g});f={current_volume:Math.round(e*100)};switch(d){case"muted":B({eventType:"muted",logDataOverrides:f,prevState:a,state:c});return C;case"unmuted":B({eventType:"unmuted",logDataOverrides:f,prevState:a,state:c});return C;case null:if(g<e){B({eventType:"volume_increase",logDataOverrides:f,prevState:a,state:c});return C}else if(g>e){B({eventType:"volume_decrease",logDataOverrides:f,prevState:a,state:c});return C}else return C;default:d;b("recoverableViolation")('Unexpected mutedStateChange "'+d+'"',"comet_video_player");return C}}function O(a,b,c){c=b.uncontrolledState.videoRepresentationID;var d=j.lastTrackedRepresentation,e=b.controlledState.playbackState,f=b.controlledState.seeking;if(!f&&e!=="paused"&&e!=="ended"&&d!=null&&d!==c){B({eventType:"representation_ended",logDataOverrides:{next_representation_id:c,representation_id:d},prevState:a,state:b});j.lastTrackedRepresentation=c;q("quality_change");return C}else if(d==null&&d!==c){j.lastTrackedRepresentation=c;return C}else return C}function P(a,c){var e=a.controlledState.error;return{currentVideo:{audioStreamId:a.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:a.controlledState.captionsLoaded,isDrm:Boolean(d.coreVideoPlayerMetaData.graphQLVideoDRMInfo),isHD:void 0,isLiveStream:d.coreVideoPlayerMetaData.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:void 0,resourceUrl:void 0,streamId:a.uncontrolledState.videoRepresentationID,streamType:a.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:d.coreVideoPlayerMetaData.videoFBID},player:{canPlayType:(g||(g=b("mapObject")))(b("VideoMimeTypes"),k),dimensions:d.dimensions?{height:d.dimensions.height,width:d.dimensions.width}:null,droppedFrames:a.uncontrolledState.videoElementDroppedFrameCount,inPlayStallCount:void 0,inPlayStallTime:void 0,initializationTime:void 0,initializationTimestamp:void 0,interruptCount:void 0,interruptTime:void 0,lastError:e,loggedError:j.lastLoggedError,stack:e==null?void 0:e.stack,stallCount:j.stallCount,stallTime:j.stallDuration,state:z(a),totalFrames:a.uncontrolledState.videoElementTotalFrameCount,version:a.playerVersion,videoSource:void 0,viewabilityPercentage:a.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:c,state:a}}}function Q(a,c,d){var e=c.controlledState.error;if(e!=null&&e!==j.lastLoggedError&&e.errorCode!=="410"){var f=e.errorDescription,g=e.errorName,h=e.url,i=e.errorCode==null||e.errorCode===""?g:e.errorCode;d=P(c,d);B({eventType:"error",logDataOverrides:babelHelpers["extends"]({},b("gkx")("1565232")?A():null,{error:g,error_code:i,error_description:f,error_domain:g,error_user_info:JSON.stringify(d),resource_url:h}),prevState:a,state:c});j.lastLoggedError=e}return C}function R(a,b,c){if(!l)return C;var d=b.uncontrolledState.videoElementPlaybackRate;c.type==="dom_event_ratechange"&&j.lastLoggedPlaybackSpeed!=null&&d!==0&&d!==j.lastLoggedPlaybackSpeed&&B({eventType:"playback_speed_changed",prevState:a,state:b});return C}function S(a,b,c){c=b.controlledState.playbackState;c==="paused"||c==="ended"?j.nextHeartbeatTime=null:c!=="stalling"&&j.nextHeartbeatTime==null&&(j.nextHeartbeatTime=Date.now()+h);var d=j.nextHeartbeatTime;if(d!=null){var e=Date.now();e>=d&&(c!=="stalling"&&B({eventType:"heart_beat",prevState:a,state:b}),j.nextHeartbeatTime=e+h)}return C}function T(a,b,c){if(c.type==="implementation_mounted"){B({eventType:"player_loaded",prevState:a,state:b});return C}else return C}function U(a,b,c){B({eventType:c?"entered_fs":"exited_fs",prevState:a,state:b})}function V(a,b,c){c=d.coreVideoPlayerMetaData.playerFormat;e.coreVideoPlayerMetaData.playerFormat!==c&&B({eventType:"player_format_changed",prevState:a,state:b});return C}function W(a,b,c){if(c.type==="dom_event_timeupdate"){c=j.nextPlayedThreeSecondsPlayheadPosition;if(c!=null){var d=b.uncontrolledState;d=d.videoElementPlayheadPosition;d!=null&&c<=d&&(B({eventType:"played_for_three_seconds",prevState:a,state:b}),j.nextPlayedThreeSecondsPlayheadPosition=null)}}return C}function X(a,b,c){if(c.type!=="notify_fullscreen_changed")return C;c=j.lastLoggedFullscreenState;var d=b.uncontrolledState.isFullscreen;if(c!==!0&&d===!0){U(a,b,d);return C}else if(c===!0&&d===!1){U(a,b,d);return C}else return C}function Y(a,c,e){e=d.coreVideoPlayerMetaData.adClientToken;if((e==null||e==="")&&b("gkx")("1401747"))return C;e=c.controlledState.playbackState;var f=j.lastLoggedViewabilityPercentage,g=c.uncontrolledState.viewabilityPercentage;if(e!=="paused"&&e!=="ended"&&f!=null&&f!==g){B({eventType:"viewability_changed",prevState:a,state:c});return C}else return C}function Z(a,b,c){if(c.type==="controller_set_captions_visible_requested"){B({eventType:"caption_change",prevState:a,state:b});return C}else return C}function $(a){e=d;if(a.type==="notify_logging_metadata_change"){a=a.payload.loggingMetaData;d=a}}return{addDebugSubscriber:function(a){return p(a)},consumeLoggerEvents:function(){var a=f.splice(0);return a},getLoggerState:function(){return j},handleStateMachine:function(a,b,c){$(c);var d=b.controlledState.playbackState;u(a,b);t(a,b);var e=[V,X,Y,G,H,J,I,K,L,N,M,T,Z,O,Q,S,R,W];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(j.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(j.hasPausedOnce=!0,j.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(j.hasPausedOnce=!0,j.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(j.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(j.shouldIgnoreDomPlay=!1,j.lastLoggedViewabilityPercentage=b.uncontrolledState.viewabilityPercentage)},logVPLEvent:function(a){var b=a.eventType,c=a.logDataOverrides;a=a.state;B({eventType:b,logDataOverrides:c,prevState:a,state:a})},setAdditionalLogData:function(a,b){c.set(a,b)}}}}),null);
__d("convertToViewabilityPercentage",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){if(a>=.99)return 100;else if(a>=.75)return 75;else if(a>=.5)return 50;else if(a>=.25)return 25;else if(a>=0)return 0;else return-2}}),null);
__d("VideoPlayerImplementationStateMachineStateUncontrolledState",["convertToViewabilityPercentage","gkx"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerImplementationStateMachineStateUncontrolledState=a;function a(a){var c=a.engineExtrasAPI,d=a.fullscreenControllerRef,e=a.videoElementAPI,f=a.videoLiveTraceRef;a=a.videoPlayerPassiveViewabilityInfoRef;f=f.current;if(e==null){var g={audioRepresentationID:void 0,clockTimestamp:Date.now(),currentPlayingVideoQuality:void 0,estimatedBandwidth:void 0,isFBIsLiveTemplated:void 0,isFBMS:void 0,isFBWasLive:void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,isPredictiveDash:void 0,liveTraceContext:f?f.getLiveTraceContext():void 0,videoElementDebugCurrentSrc:void 0,videoElementDebugSrc:void 0,videoElementDroppedFrameCount:void 0,videoElementDuration:void 0,videoElementEnded:void 0,videoElementError:void 0,videoElementLastBufferEndPosition:void 0,videoElementMuted:void 0,videoElementNetworkState:void 0,videoElementPaused:void 0,videoElementPlaybackRate:void 0,videoElementPlayheadPosition:void 0,videoElementReadyState:void 0,videoElementTotalFrameCount:void 0,videoElementVolume:void 0,videoRepresentationID:void 0,viewabilityPercentage:void 0};return g}g=e.getPlayheadPosition();a=a&&a.current;a=a&&a.getCurrent();d={audioRepresentationID:c?c.getAudioRepresentationIDAtTime(g):void 0,clockTimestamp:Date.now(),currentPlayingVideoQuality:c?c.getCurrentPlayingVideoQuality():void 0,estimatedBandwidth:c?c.getEstimatedBandwidth():void 0,isFBIsLiveTemplated:c?c.isFBIsLiveTemplated():void 0,isFBMS:c?c.isFBMS():void 0,isFBWasLive:c?c.isFBWasLive():void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,isPredictiveDash:c?c.isPredictiveDash():void 0,liveTraceContext:f?f.getLiveTraceContext():void 0,videoElementDebugCurrentSrc:b("gkx")("1526990")?(d=e.getUnderlyingVideoElement())==null?void 0:d.currentSrc:void 0,videoElementDebugSrc:b("gkx")("1526990")?(f=e.getUnderlyingVideoElement())==null?void 0:f.src:void 0,videoElementDroppedFrameCount:e.getDroppedFrameCount(),videoElementDuration:e.getDuration(),videoElementEnded:e.getEnded(),videoElementError:e.getError(),videoElementLastBufferEndPosition:e.getLastBufferEndPosition(),videoElementMuted:e.getMuted(),videoElementNetworkState:e.getNetworkState(),videoElementPaused:e.getPaused(),videoElementPlaybackRate:e.getPlaybackRate(),videoElementPlayheadPosition:g,videoElementReadyState:e.getReadyState(),videoElementTotalFrameCount:e.getTotalFrameCount(),videoElementVolume:e.getVolume(),videoRepresentationID:c?c.getVideoRepresentationIDAtTime(g):void 0,viewabilityPercentage:a?b("convertToViewabilityPercentage")(a.visiblePercentage):void 0};return d}}),null);
__d("VideoPlayerImplementationStateMachineState",["VideoPlayerImplementationStateMachineStateUncontrolledState"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerImplementationStateMachineInitialState=a;function a(a){var c=a.alwaysShowCaptions,d=a.areCaptionsAutogenerated,e=a.dimensions,f=a.isAbrEnabled,g=a.playerImplementationName,h=a.playerVersion;a=a.streamingFormat;var i=!0,j=1,k=b("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:null,fullscreenControllerRef:{current:null},videoElementAPI:null,videoLiveTraceRef:{current:null},videoPlayerPassiveViewabilityInfoRef:{current:null}});return{controlledState:{activeCaptions:null,availableQualities:[],bufferingDetected:!1,captionsLoaded:!1,captionsVisible:c,dimensions:e,error:null,hostCallPlayIDLast:null,hostCallQueue:[],implementationSeekSourcePosition:null,inbandCaptionsAutogenerated:d,isLiveRewindActive:!1,lastMuteReason:null,lastPauseReason:null,lastPausedTimeMs:0,lastPlayReason:null,lastPlayedTimeMs:0,latencyLevel:"normal",loopCount:0,loopCurrent:0,muted:i,playbackState:"paused",scrubbing:!1,seekTargetPosition:null,seekableRanges:null,seeking:!1,selectedVideoQuality:"notselected",streamEnded:!1,streamInterrupted:!1,targetAudioQuality:"",targetPlaybackRate:1,targetVideoQuality:"",videoProjection:null,volume:j,waitingForDomPlaying:!1,waitingForDomTimeUpdateAfterSeeked:!1,watchTimeMs:0},isAbrEnabled:f,playerImplementationName:g,playerVersion:h,streamingFormat:a,uncontrolledState:k}}}),null);
__d("VideoPlayerODS",["ODS","Random"],(function(a,b,c,d,e,f){"use strict";a=function(a,c,d){b("Random").coinflip(d)&&b("ODS").bumpEntityKey(2079,a,c,d)};f.bumpEntityKey=a}),null);
__d("VideoPlayerImplementationEngineAPI",["Banzai","ErrorMetadata","FBLogger","PlaybackSpeedExperiments","React","RunComet","SubscriptionsHandler","VideoPlayerBanzaiLogFlusher","VideoPlayerCaptionsController","VideoPlayerImplementationErrors","VideoPlayerImplementationStateMachine","VideoPlayerImplementationStateMachineHostCallQueue","VideoPlayerImplementationStateMachineLogger","VideoPlayerImplementationStateMachineState","VideoPlayerImplementationStateMachineStateUncontrolledState","VideoPlayerODS","clearTimeout","deepEquals","err","gkx","killswitch","recoverableViolation","removeFromArray","requireCond","setTimeout","unrecoverableViolation","useConcurrentAutoplayManagementAPI","useStable","cr:683059"],(function(a,b,c,d,e,f){"use strict";f.internal_createVideoPlayerImplementationControllerImpl=j;f.internal_createVideoPlayerImplementationEngineStateMachineWithEffects=m;f.internal_createVideoPlayerImplementationExposedStateFromStateMachineState=q;f.createVideoPlayerImplementationEngine=a;f.useVideoPlayerImplementationEngine=c;var g=b("React"),h=6e4,i=function(){function a(a){var b=a.pauseRequestCallbacks,c=a.playRequestCallbacks,d=a.scrubBeginRequestCallbacks;a=a.scrubEndRequestCallbacks;this.$1=c;this.$2=b;this.$3=d;this.$4=a}var c=a.prototype;c.playRequest=function(a){var c=this;this.$1.push(a);return function(){b("removeFromArray")(c.$1,a)}};c.pauseRequest=function(a){var c=this;this.$2.push(a);return function(){b("removeFromArray")(c.$2,a)}};c.scrubBeginRequest=function(a){var c=this;this.$3.push(a);return function(){b("removeFromArray")(c.$3,a)}};c.scrubEndRequest=function(a){var c=this;this.$4.push(a);return function(){b("removeFromArray")(c.$4,a)}};return a}();function j(a){var c=a.concurrentAutoplayManagementAPI,d=a.debugAPI,e=a.fullscreenControllerRef,f=a.getCurrentExposedState,g=a.getCurrentIsFullscreen,h=a.getCurrentLiveRewindPlayheadPosition,j=a.getCurrentPlayheadPosition,k=a.loggerAPI,l=a.pauseImpl,m=a.playImpl,n=a.scrubBeginImpl,o=a.scrubEndImpl,p=a.seekImpl,q=a.selectVideoQualityImpl,r=a.setCaptionsVisibleImpl,s=a.setIsLiveRewindActiveImpl,t=a.setLatencyLevelImpl,u=a.setMutedImpl,v=a.setPlaybackRateImpl,w=a.setVolumeImpl,x=a.subscribers,y=a.videoElementAPIRef,z=new Set(),A=!1,B=null,C=[],D=[],E=[],F=[],G=new i({pauseRequestCallbacks:D,playRequestCallbacks:C,scrubBeginRequestCallbacks:E,scrubEndRequestCallbacks:F}),H={freeze:function(){if(!f().paused)throw b("unrecoverableViolation")("Video player must be paused before the controller freeze","comet_video_player");var a={};try{var c=!1;z.size===0&&(c=!0,B={exposedState:f(),isFullscreen:g(),liveRewindPlayheadPosition:h(),playheadPosition:j()});z.add(a);c&&(A=!0,x.forEach(function(a){a()}))}finally{A=!1}return a},isFrozen:function(){return B!=null},unfreeze:function(a){if(!z.has(a))throw b("unrecoverableViolation")("Video player controller unfreeze token not found","comet_video_player");z["delete"](a);z.size===0&&(B=null,x.forEach(function(a){a()}))}},I=babelHelpers["extends"]({},c,H,k,{debugAPI:d,getCurrentState:function(){return B!=null?B.exposedState:f()},getIsFullscreen:function(){return B!=null?B.isFullscreen:g()},getLiveRewindPlayheadPosition:function(){return B!=null?B.liveRewindPlayheadPosition:h()},getPlayheadPosition:function(){return B!=null?B.playheadPosition:j()},internal_getVideoElement:function(){var a=y.current;if(a!=null){a=a.getUnderlyingVideoElement();return a}return null},observeOn:function(){return G},pause:function(a){if(H.isFrozen())return;D.forEach(function(b){return b(a)});l(a)},play:function(a){if(H.isFrozen())return;C.forEach(function(b){return b(a)});m(a)},requestSetIsFullscreen:function(a){if(H.isFrozen())return;var b=e.current;b&&b.requestSetIsFullscreen(a)},scrollIntoView:function(a){var b=I.internal_getVideoElement();b&&b.scrollIntoView(a)},scrubBegin:function(){if(H.isFrozen())return;E.forEach(function(a){return a()});n()},scrubEnd:function(a){if(H.isFrozen())return;F.forEach(function(b){return b(a)});o(a)},seek:function(a){if(H.isFrozen())return;p(a)},selectVideoQuality:function(a){if(H.isFrozen())return;q(a)},setCaptionsVisible:function(a){if(H.isFrozen())return;r(a)},setIsLiveRewindActive:function(a){if(H.isFrozen())return;s(a)},setLatencyLevel:function(a){if(H.isFrozen())return;t(a)},setMuted:function(a,b){if(H.isFrozen())return;u(a,b)},setPlaybackRate:function(a){if(H.isFrozen())return;v(a)},setVolume:function(a){if(H.isFrozen())return;w(a)},subscribe:function(a){var c=function(){if(H.isFrozen()&&!A)return;a()},d=e.current,f=d?d.subscribe(c):null;x.push(c);return{remove:function(){f&&f.remove(),b("removeFromArray")(x,c)}}},videoElementAPIRef:y});return I}function k(a){var b=a.concurrentAutoplayManagementAPI,c=a.createExposedState,d=a.debugAPI,e=a.fullscreenControllerRef,f=a.logger,g=a.machine,h=a.subscribers;a=a.videoElementAPIRef;var i={setAdditionalLogData:function(a,b){f.setAdditionalLogData(a,b)}};return j({concurrentAutoplayManagementAPI:b,debugAPI:d,fullscreenControllerRef:e,getCurrentExposedState:function(){return c(g.getCurrentState())},getCurrentIsFullscreen:function(){var a=e.current;return a?a.getIsFullscreen():!1},getCurrentLiveRewindPlayheadPosition:function(){var a=g.getCurrentState();a=a.controlledState;var b=a.isLiveRewindActive,c=a.seekableRanges;a=a.seekTargetPosition;if(!b||a==null)return null;c=(b=c==null?void 0:c.end(0))!=null?b:0;return a-c},getCurrentPlayheadPosition:function(){var a,b=0;return(a=g.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:b},loggerAPI:i,pauseImpl:function(a){g.dispatch({payload:{reason:a},type:"controller_pause_requested"})},playImpl:function(a){g.dispatch({payload:{reason:a},type:"controller_play_requested"})},scrubBeginImpl:function(){g.dispatch({type:"controller_scrub_begin_requested"})},scrubEndImpl:function(a){g.dispatch({payload:{seekTargetPosition:a},type:"controller_scrub_end_requested"})},seekImpl:function(a){g.dispatch({payload:{seekTargetPosition:a},type:"controller_seek_requested"})},selectVideoQualityImpl:function(a){g.dispatch({payload:{selectedVideoQuality:a},type:"controller_quality_requested"})},setCaptionsVisibleImpl:function(a){g.dispatch({payload:{captionsVisible:a},type:"controller_set_captions_visible_requested"})},setIsLiveRewindActiveImpl:function(a){g.dispatch({payload:{isLiveRewindActive:a},type:"controller_set_is_live_rewind_active_requested"})},setLatencyLevelImpl:function(a){g.dispatch({payload:{latencyLevel:a},type:"controller_set_latency_level_requested"})},setMutedImpl:function(a,b){g.dispatch({payload:{muted:a,reason:b},type:"controller_muted_requested"})},setPlaybackRateImpl:function(a){g.dispatch({payload:{playbackRate:a},type:"controller_set_playback_rate"})},setVolumeImpl:function(a){g.dispatch({payload:{volume:a},type:"controller_volume_requested"})},subscribers:h,videoElementAPIRef:a})}function l(a){a=a.current;if(a==null)throw b("unrecoverableViolation")("Attempted to access VideoElementAPI while it is not available.","comet_video_player");return a}function m(a){var c=a.alwaysShowCaptions,d=a.areCaptionsAutogenerated,e=a.captionsControllerRef,f=a.debugLogId,g=a.dimensions,i=a.engineExtrasAPI,j=a.engineMetadata,k=a.fullscreenControllerRef,m=a.handleFatalError,o=a.handleStateMachine,p=a.videoElementAPIRef,q=a.videoLiveTraceRef,r=a.videoPlayerPassiveViewabilityInfoRef;function s(a){b("VideoPlayerImplementationStateMachineHostCallQueue").applyOrQueueHostCall({engineExtrasAPI:i,hostCall:a,machine:u,videoElementAPI:p.current})}var t=null;a=[function(a,c,d){b("cr:683059")&&d.type==="implementation_host_call_applied"&&d.payload.hostCall.type==="host_call_play"&&c.controlledState.lastPlayReason==="autoplay_initiated"?b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayStalling"):b("cr:683059")&&c.controlledState.playbackState!==a.controlledState.playbackState&&c.controlledState.playbackState==="playing"&&c.controlledState.lastPlayReason==="autoplay_initiated"&&b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayPlaying");return!0},function(a,b,c){o(a,b,c);return!0},function(a,c,d){if(b("gkx")("1633455")&&(a.controlledState.streamInterrupted===!1&&c.controlledState.streamInterrupted===!0||a.controlledState.streamInterrupted===!0&&c.controlledState.streamInterrupted===!1)){a=c.controlledState;c=a.bufferingDetected;var e=a.streamInterrupted;a=a.targetPlaybackRate;e?(c&&u.dispatch({type:"buffering_end_requested"}),s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:d.type},type:"host_call_set_playback_rate"})):(s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:d.type},type:"host_call_set_playback_rate"}),c&&u.dispatch({type:"buffering_begin_requested"}))}return!0},function(a,c,d){(a.controlledState.bufferingDetected===!1&&c.controlledState.bufferingDetected===!0||a.controlledState.bufferingDetected===!0&&c.controlledState.bufferingDetected===!1)&&(t!==null&&(b("clearTimeout")(t),t=null),c.controlledState.bufferingDetected&&(!b("gkx")("1633455")||!c.controlledState.streamInterrupted)&&(t=b("setTimeout")(function(){t=null;var a=b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError("BUFFERING_TIMEOUT",b("err")("The video has been in a buffering state for over "+h+" ms."),"buffering_timeout");u.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"})},h)));return!0},function(a,c,d){if(!(d.type==="implementation_engine_destroy_requested"))return!0;t!==null&&b("clearTimeout")(t);t=null;return!1},function(a,c,d){if(!(d.type==="implementation_engine_initialized"))return!0;a=l(p);d=d.type;b("VideoPlayerImplementationStateMachineHostCallQueue").flushHostCallQueue({engineExtrasAPI:i,machine:u,reason:d,state:c,videoElementAPI:a});return!1},function(a,b,c){if(!(c.type==="dom_event_ended"))return!0;a=b.controlledState;(a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1)&&u.dispatch({payload:{reason:"loop_initiated"},type:"controller_play_requested"});return!1},function(a,c,d){if(!(d.type==="controller_pause_requested"))return!0;a=c.controlledState.playbackState;if(!(a==="paused"))return!1;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type},type:"host_call_pause"});return!1},function(a,c,d){if(!(d.type==="controller_play_requested"))return!0;a=c.controlledState.playbackState;if(!(a==="stalling"))return!1;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type},type:"host_call_play"});return!1},function(a,c,d){if(!(d.type==="controller_seek_requested"))return!0;a=c.controlledState;c=a.seeking;a=a.seekTargetPosition;c&&a!=null&&s({payload:{currentTime:a,hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type},type:"host_call_set_current_time"});return!1},function(a,c,d){if(!(d.type==="controller_muted_requested"))return!0;a=c.controlledState.muted;if(!(a===d.payload.muted))return!1;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),muted:a,reason:d.type},type:"host_call_set_muted"});return!1},function(a,c,d){if(!(d.type==="controller_scrub_begin_requested"))return!0;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:d.type},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="controller_scrub_end_requested"))return!0;a=c.controlledState;c=a.seeking;var e=a.seekTargetPosition;a=a.targetPlaybackRate;c&&e!=null?(s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:d.type+":seek"},type:"host_call_set_playback_rate"}),s({payload:{currentTime:e,hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type+":seek"},type:"host_call_set_current_time"})):s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:d.type+":cancel"},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="buffering_begin_requested"))return!0;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:d.type},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="controller_set_playback_rate"))return!0;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:d.payload.playbackRate,reason:d.type},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="buffering_end_requested"))return!0;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:c.controlledState.targetPlaybackRate,reason:d.type},type:"host_call_set_playback_rate"});return!1},function(a,c,d){if(!(d.type==="controller_volume_requested"))return!0;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type,volume:c.controlledState.volume},type:"host_call_set_volume"});return!1},function(a,c,d){if(!(d.type==="controller_quality_requested"))return!0;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:d.type,selectedVideoQuality:c.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"});return!1},function(a,c,d){if(!(d.type==="controller_set_latency_level_requested"))return!0;s({payload:{hostCallID:b("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),latencyLevel:d.payload.latencyLevel,reason:d.type},type:"host_call_set_latency_level"});return!1},function(a,c,d){if(!(d.type==="dom_event_timeupdate"||d.type==="captions_loaded"))return!0;d=e.current;var f=c.controlledState.captionsVisible,g=p.current;g=g?g.getPlayheadPosition():0;if(b("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&c.controlledState.isLiveRewindActive){var h=c.controlledState.seekableRanges;h=h!=null?(h=h.end(h.length()-1))!=null?h:0:0;g>=h&&u.dispatch({payload:{isLiveRewindActive:!1},type:"controller_set_is_live_rewind_active_requested"})}if(d&&f&&c.controlledState.captionsLoaded){h=d.handleTimeUpdate(g);f=a.controlledState.activeCaptions;n(f,h)&&u.dispatch({payload:{activeCaptions:h},type:"controller_set_active_captions_requested"})}c=q.current;c!=null&&c.onUpdateStatus({position:g});return!1},function(a,b,c){if(!(c.type==="cea608_bytes_received"))return!0;a=e.current;if(a){b=c.payload;c=b.timescale;b=b.videoBytes;a.handleCea608BytesReceived({timescale:c,videoBytes:b})}return!1},function(a,c,d){if(!(d.type==="controller_set_is_live_rewind_active_requested"))return!0;i.setEnableLiveheadCatchup(!d.payload.isLiveRewindActive);!!b("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&!d.payload.isLiveRewindActive&&u.dispatch({payload:{playbackRate:1},type:"controller_set_playback_rate"});return!1}];var u=b("VideoPlayerImplementationStateMachine").createVideoPlayerImplementationStateMachineWithStateTransitionHandlers({collectUncontrolledState:function(){var a=p.current;return b("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:i,fullscreenControllerRef:k,videoElementAPI:a,videoLiveTraceRef:q,videoPlayerPassiveViewabilityInfoRef:r})},debugLogId:f,initialState:b("VideoPlayerImplementationStateMachineState").createVideoPlayerImplementationStateMachineInitialState({alwaysShowCaptions:c,areCaptionsAutogenerated:d,dimensions:g,isAbrEnabled:j.isAbrEnabled,playerImplementationName:j.playerImplementationName,playerVersion:j.playerVersion,streamingFormat:j.streamingFormat}),onFatalError:m,stateTransitionHandlers:a});return u}function n(a,b){if(a===null&&b===null)return!1;if(a===null||b===null)return!0;var c=(b=b.rows)!=null?b:[];a=(b=a.rows)!=null?b:[];return a.length!==c.length||a.some(function(a,b){return a!==c[b]})}function o(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_fullscreen_changed"})}))}function p(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_viewability_changed"})}))}function q(a){var b=a.engineMetadata;a=a.state;var c=a.controlledState,d=c.activeCaptions,e=c.availableQualities,f=c.captionsLoaded,g=c.captionsVisible,h=c.error,i=c.inbandCaptionsAutogenerated,j=c.isLiveRewindActive,k=c.lastMuteReason,l=c.lastPauseReason,m=c.lastPlayedTimeMs,n=c.lastPlayReason,o=c.latencyLevel,p=c.loopCount,q=c.loopCurrent,r=c.muted,s=c.playbackState,t=c.seekableRanges,u=c.seeking,v=c.seekTargetPosition,w=c.selectedVideoQuality,x=c.streamInterrupted,y=c.targetAudioQuality,z=c.targetPlaybackRate,A=c.targetVideoQuality,B=c.videoProjection,C=c.volume;c=c.watchTimeMs;var D=a.uncontrolledState,E=D.currentPlayingVideoQuality,F=D.videoElementDuration;D=D.videoElementLastBufferEndPosition;var G=s==="ended",H=s==="paused"||G,I=s==="playing",J=s==="inPlayStalling";s=s==="stalling"||J;d={activeCaptions:d,availableVideoQualities:e,bufferEnd:(d=D)!=null?d:0,captionsLoaded:f,captionsVisible:g,currentVideoQuality:(e=E)!=null?e:"",duration:(D=F)!=null?D:0,ended:G,error:h,inPlayStalling:J,inbandCaptionsAutogenerated:i,isAbrEnabled:b.isAbrEnabled,isLiveRewindActive:j,lastMuteReason:k,lastPauseReason:l,lastPlayReason:n,lastPlayedTimeMs:m,latencyLevel:o,loopCount:p,loopCurrent:q,muted:r,paused:H,playerImplementationName:a.playerImplementationName,playerVersion:a.playerVersion,playing:I,seekTargetPosition:v,seekableRanges:t,seeking:u,selectedVideoQuality:w,stalling:s,streamInterrupted:x,targetAudioQuality:y,targetPlaybackRate:z,targetVideoQuality:A,videoProjection:B,volume:C,watchTimeMs:c};return d}function a(a){var c,d=a.createDebugAPI,e=a.createVideoPlayerError,f=a.debugLog;f=a.debugLogId;var g=a.destroyEngineParts,h=a.engineExtrasAPI,i=a.engineMetadata,j=a.handleFatalError,l=a.handleVideoElementMounted,n=a.handleVideoElementUnmounted,r=a.handleVideoInfoChange,s=a.initialProps,t=a.setExposedStateInReact,u=b("VideoPlayerImplementationStateMachineLogger").createVideoPlayerImplementationStateMachineLogger({debugLogId:f,initialLoggingMetaData:s.loggingMetaData}),v=new(b("VideoPlayerBanzaiLogFlusher"))(u),w={current:(a=s.videoPlayerPassiveViewabilityInfo)!=null?a:null},x={current:(a=s.fullscreenController)!=null?a:null},y={current:null},z={current:(a=s.videoLiveTrace)!=null?a:null};a=b("useConcurrentAutoplayManagementAPI").createConcurrentAutoplayManagementAPI();var A=[],B=function(){A.forEach(function(a){a()}),v.flushLogs()},C={current:null},D={current:{inbandCaptionsAutogeneratedFromManifest:!1,inbandCaptionsExpectedFromManifest:!1,inbandCaptionsExpectedFromProps:s.inbandCaptionsExpected,sideLoadCaptionsExpectedFromProps:s.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(c=s.captionsUrl)!=null?c:null}},E={current:null},F={current:null},G=new(b("SubscriptionsHandler"))(),H="before_mounted";function I(){return H==="mounted"}var J={current:null},K=function(a){a=q({engineMetadata:i,state:a});return a},L={current:null},M={current:null},N=function(a){if(I()){if(a===L.current)return;var c=K(a);if(M.current!=null&&b("deepEquals")(M.current,c))return;L.current=a;M.current=c;t(c)}};c=function(a,b,c){u.handleStateMachine(a,b,c),N(b),B()};var O=function(a,b){},P=function(a){O(a,"state_machine_fatal_error")},Q=m({alwaysShowCaptions:Boolean(s.alwaysShowCaptions),areCaptionsAutogenerated:Boolean(s.areCaptionsAutogenerated),captionsControllerRef:y,debugLogId:f,dimensions:s.dimensions,engineExtrasAPI:h,engineMetadata:i,fullscreenControllerRef:x,handleFatalError:P,handleStateMachine:c,videoElementAPIRef:J,videoLiveTraceRef:z,videoPlayerPassiveViewabilityInfoRef:w}),R=!1,S=function(a){var c=C.current!=null,d=J.current!=null;G.release();Q.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:c},type:"implementation_engine_destroy_requested"});try{b("gkx")("1494163")?g(["destroyEngine("+a+")"]):R||(R=!0,g(["destroyEngine("+a+")"]))}catch(e){if(b("gkx")("1494163"))try{b("FBLogger")("comet_video_player").catching(e).warn("Error thrown by destroyEngineParts: %s %s",e.message,JSON.stringify({playerImplementationName:i.playerImplementationName,reason:a,videoElementAPIExisted:d,videoElementExisted:c}))}catch(a){}}var e=y.current;e!=null&&(Q.getCurrentState().controlledState.captionsLoaded&&Q.dispatch({type:"captions_unloaded"}),y.current=null,e.destroy());e=z.current;e!=null&&(z.current=null);o(null,x,E,Q);p(null,w,F,Q);Q.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:c},type:"implementation_engine_destroyed"})};O=function(a,b){a=e(a,b);Q.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"});S("implementation_fatal_error");j(a)};function T(a){return a.sideLoadCaptionsExpectedFromProps&&a.sideLoadCaptionsUrlFromProps!==null}function U(a){return a.inbandCaptionsExpectedFromProps&&((a=a.inbandCaptionsExpectedFromManifest)!=null?a:!1)}function V(a){return(a=a.inbandCaptionsAutogeneratedFromManifest)!=null?a:!1}var W=function(a){var c=T(a),d=U(a),e=V(a),f=y.current;e!==V(D.current)&&Q.dispatch({payload:{inbandCaptionsAutogenerated:e},type:"inband_captions_autogenerated_changed"});f!=null?d!==U(D.current)&&(f.updateInbandCaptionsExpected(d),!d&&Q.getCurrentState().controlledState.captionsLoaded&&Q.dispatch({type:"captions_unloaded"})):(c||d)&&f==null&&(y.current=b("VideoPlayerCaptionsController").createCaptionsController({captionsUrl:c?a.sideLoadCaptionsUrlFromProps:null,inbandCaptionsExpected:d,onCaptionsLoaded:function(){Q.getCurrentState().controlledState.captionsLoaded||Q.dispatch({type:"captions_loaded"})}}));D.current=a},X=function(a){h!=null&&a&&a.width>0&&a.height>0&&(h.setDimensions(a),Q.dispatch({payload:{dimensions:{height:a.height,width:a.width}},type:"player_dimensions_changed"}))},Y=function(a){a!==Q.getCurrentState().controlledState.loopCount&&Q.dispatch({payload:{loopCount:a},type:"loop_count_change_requested"})},Z=function(a){"srcObject"in a&&(a.srcObject=null)},$=function(a,c){if(C.current===a)return;if(!I()&&b("gkx")("1405244"))return;if(!I()){var d=function(a){switch(a){case"unmounted":return"EngineAPI.handleVideoElement.unmounted";case"before_mounted":return"EngineAPI.handleVideoElement.before_mounted";case"mounted":return null;default:a;return null}}(H);d&&b("VideoPlayerODS").bumpEntityKey("comet_video_player",d,1)}a!=null&&C.current!=null&&C.current!==a&&b("recoverableViolation")("The video element was recreated","comet_video_player");d=C.current;d&&Z(d);C.current=a;b("gkx")("1494163")&&(a==null&&(J.current=null));C.current!=null?(Q.dispatch({type:"implementation_video_node_mounted"}),l([].concat(c,["handleVideoElement(non-null)"]))):(Q.dispatch({type:"implementation_video_node_unmounted"}),n([].concat(c,["handleVideoElement(null)"])))};f=s.loggingMetaData.instanceKey;P=function(a){var b;if(!I())return;o((b=a.fullscreenController)!=null?b:null,x,E,Q);p((b=a.videoPlayerPassiveViewabilityInfo)!=null?b:null,w,F,Q);if(!r(a)){b={inbandCaptionsAutogeneratedFromManifest:D.current.inbandCaptionsAutogeneratedFromManifest,inbandCaptionsExpectedFromManifest:D.current.inbandCaptionsExpectedFromManifest,inbandCaptionsExpectedFromProps:a.inbandCaptionsExpected,sideLoadCaptionsExpectedFromProps:a.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(b=a.captionsUrl)!=null?b:null};W(b);X(a.dimensions);Y((b=a.loopCount)!=null?b:0)}Q.dispatch({payload:{loggingMetaData:a.loggingMetaData},type:"notify_logging_metadata_change"})};c=function(){if(H!=="before_mounted"){var a=function(a){switch(a){case"before_mounted":return null;case"unmounted":return"EngineAPI.handleReactMount.unmounted";case"mounted":return"EngineAPI.handleReactMount.mounted";default:a;return null}}(H);a&&b("VideoPlayerODS").bumpEntityKey("comet_video_player",a,1)}I()||(H="mounted",G.addSubscriptions(b("RunComet").onUnload(function(){S("page_unload")})),G.addSubscriptions(b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){S("banzai_shutdown")})),Q.dispatch({type:"implementation_mounted"}),l(["handleReactMount"]))};s=function(){if(!I()){var a=function(a){switch(a){case"unmounted":return"EngineAPI.handleReactUnmount.unmounted";case"before_mounted":return"EngineAPI.handleReactUnmount.before_mounted";case"mounted":return null;default:a;return null}}(H);a&&b("VideoPlayerODS").bumpEntityKey("comet_video_player",a,1)}I()&&(H="unmounted",Q.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),S("implementation_unmounted:react_effect_cleanup"))};f=k({concurrentAutoplayManagementAPI:a,createExposedState:K,debugAPI:d({getVideoElementAPI:function(){return J.current},logger:u}),fullscreenControllerRef:x,logger:u,machine:Q,subscribers:A,videoElementAPIRef:J});a=b("VideoPlayerImplementationStateMachine").createReactVideoElementCallbacksForStateMachine(Q,$);d=K(Q.getInitialState());c={destroy:S,handleReactMount:c,handleReactPropsChanged:P,handleReactUnmount:s,implementationController:f,initialExposedState:d,logFlusher:v,machine:Q,notifySubscribers:B,videoElementCallbacks:a,videoElementRefCallback:function(a){$(a,["videoElementRefCallback"])}};return{engine:c,getCaptionsInfo:function(){return D.current},getVideoElement:function(){return C.current},getVideoLiveTrace:function(){return z.current},handleCaptionsInfoChange:W,handleFatalImplementationError:O,logger:u,machine:Q,videoElementAPIRef:J}}function r(a){var c,d=new Error(a.errorDescription);d.errorName=a.errorName;d.type="error";a.stack!=null&&a.stack!==""&&(d.stack=a.stack);var e=new(b("ErrorMetadata"))();e.addEntries(["COMET_VIDEO","ERROR_LOCATION",a.errorLocation],["COMET_VIDEO","ERROR_CODE",(c=a.errorCode)!=null?c:""],["COMET_VIDEO","ERROR_URL",(c=a.url)!=null?c:""]);c=a.originalError;c!=null&&(typeof c==="string"?e.addEntry("COMET_VIDEO","ORIGINAL_ERROR",c):c instanceof Error&&c.message!=null&&e.addEntry("COMET_VIDEO","ORIGINAL_ERROR",c.message));d.metadata=e;return d}function c(a,c){var d=g.useState(null),e=d[0],f=d[1],h=g.useRef(!1),i=g.useRef(null);d=g.useState(null);var j=d[0],k=d[1];g.useEffect(function(){j||(i.current=null)},[j]);var l=g.useRef(a),m=g.useRef(c),n=b("useStable")(function(){return m.current({debugLogId:String(l.current.loggingMetaData.instanceKey),handleFatalError:function(a){if(h.current&&b("gkx")("1722590"))return;b("gkx")("1444664")?i.current||(i.current=a,k(a)):k(a)},initialProps:l.current,setExposedStateInReact:f})});c=(d=e)!=null?d:n.initialExposedState;d=(e=c.error)!=null?e:j;if(d!=null){if(b("killswitch")("COMET_VIDEO_ERROR_DEAGGREGATION"))throw b("unrecoverableViolation")(d.errorName+": "+d.errorDescription,"comet_video_player",{error:d.originalError instanceof Error?d.originalError:void 0});throw r(d)}g.useEffect(function(){n.handleReactMount();return function(){h.current=!0,n.handleReactUnmount()}},[n]);var o=g.useRef(null);g.useEffect(function(){a!==o.current&&n.handleReactPropsChanged(a),o.current=a});return[c,n]}}),null);
__d("VideoPlaybackQuality",[],(function(a,b,c,d,e,f){f.getDroppedFrames=a;f.getTotalFrames=b;function a(a){if(typeof a.getVideoPlaybackQuality==="function")return a.getVideoPlaybackQuality().droppedVideoFrames;a=a.webkitDroppedFrameCount;return typeof a==="number"?a:0}function b(a){if(typeof a.getVideoPlaybackQuality==="function")return a.getVideoPlaybackQuality().totalVideoFrames;a=a.webkitDecodedFrameCount;return typeof a==="number"?a:0}}),null);
__d("VideoPlayerImplementationEngineVideoElementAPI",["Promise","VideoPlaybackQuality"],(function(a,b,c,d,e,f){"use strict";f.getDurationFromVideoElement=h;f.getLastBufferEndPositionFromVideoElement=i;f.getPlayheadPositionFromVideoElement=j;f.createVideoPlayerImplementationEngineVideoElementAPI=a;function g(a){return isNaN(a)?0:a}function h(a){return g(a.duration)}function i(a){a=a.buffered;return a.length>0?a.end(a.length-1):0}function j(a){return g(a.currentTime)}function a(a){return{getDroppedFrameCount:function(){return b("VideoPlaybackQuality").getDroppedFrames(a)},getDuration:function(){return h(a)},getEnded:function(){return a.ended},getError:function(){return a.error},getLastBufferEndPosition:function(){return i(a)},getMuted:function(){return a.muted},getNetworkState:function(){return a.networkState},getPaused:function(){return a.paused},getPlaybackRate:function(){return a.playbackRate},getPlayheadPosition:function(){return j(a)},getReadyState:function(){return a.readyState},getTotalFrameCount:function(){return b("VideoPlaybackQuality").getTotalFrames(a)},getUnderlyingVideoElement:function(){return a},getVolume:function(){return a.volume},pause:function(){a.pause()},play:function(){var c=a.play();c=c&&typeof c.then==="function"?b("Promise").resolve(c):null;return c},setDuration:function(b){a.duration=b},setMuted:function(b){a.muted=b},setPlaybackRate:function(b){a.playbackRate=b},setPlayheadPosition:function(b){a.currentTime=b},setSrc:function(b){b==null||b===""?a.removeAttribute("src"):a.setAttribute("src",b)},setVolume:function(b){a.volume=b}}}}),null);
__d("VideoPlayerImplementationReactVideoElement.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var b=a.implementationController,c=a.implementationExposedState,d=a.renderWithVideoImplementationStates,e=a.src,f=a.videoElementCallbacks;a=a.videoElementRefCallback;f=g.jsxs(g.Fragment,{children:[g.jsx("video",babelHelpers["extends"]({className:"k4urcfbm datstx6m a8c37x1j",controls:!1,muted:!0},f,{ref:a,src:e})),d({implementationController:b,videoState:c})]});return f}}),null);
__d("VideoPlayerProgressiveImplementationData",[],(function(a,b,c,d,e,f){"use strict";f.makeProgressiveImplementationData=a;function a(a){var b=a.hdSrc,c=a.hdSrcPreferred;a=a.sdSrc;return a==null?null:{hdSrc:b,hdSrcPreferred:c,sdSrc:a}}}),null);
__d("VideoPlayerProgressiveImplementationEngineExtrasAPI",[],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerProgressiveImplementationEngineExtrasAPI=a;function a(a){var b=a.getPlayingVideoInfo;a=a.setUserSelectedVideoQuality;a={getApproximateFBLSToPlayerDisplayLatency:function(){return null},getAudioRepresentationIDAtTime:function(a){return null},getAvailableVideoQualities:function(){var a;return(a=(a=b())==null?void 0:a.availableQualities)!=null?a:[]},getCurrentAudioRepresentation:function(){return null},getCurrentPlayingVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentTargetVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentVideoRepresentation:function(){return null},getEstimatedBandwidth:function(){return null},getInbandCaptionsAutogeneratedFromManifest:function(){return!1},getInbandCaptionsExpectedFromManifest:function(){return!1},getStreamType:function(){return"progressive"},getUserSelectedVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.selectedQuality)!=null?a:"notselected"},getVideoProjectionType:function(){return"cubemap"},getVideoRepresentationIDAtTime:function(a){return"oep_hd"},getVideoRepresentations:function(){return null},isDrm:function(){var a;return((a=b())==null?void 0:a.graphQLVideoDRMInfo)!=null},isFBIsLiveTemplated:function(){return!1},isFBMS:function(){return!1},isFBWasLive:function(){return!1},isPredictiveDash:function(){return!1},setDimensions:function(a){},setEnableLiveheadCatchup:function(){},setLatencyLevel:function(){},setUserSelectedVideoQuality:a};return a}}),null);
__d("VideoPlayerProgressiveImplementationEngineUtils",["gkx"],(function(a,b,c,d,e,f){"use strict";f.createResolvedVideoInfoProgressive=a;f.updatePlayingVideoInfoProgressiveWithUserSelectedQuality=c;f.updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality=d;var g="hd",h="sd";function a(a){var c=[];a.sdSrc!=null&&c.push(h);a.hdSrc!=null&&c.push(g);var d=a.hdSrcPreferred&&a.hdSrc!=null&&b("gkx")("1483656")?g:h;return babelHelpers["extends"]({},a,{availableQualities:c,playingQuality:null,playingSrc:null,selectedQuality:d,targetQuality:d,targetSrc:null})}function c(a,b){var c=a.hdSrc,d=a.sdSrc,e,f;b==="notselected"||b==="auto"?(e=d!=null?h:c!=null?g:h,f=d!=null?d:c!=null?c:null):b===g&&c!=null?(e=g,f=c):b===h&&d!=null?(e=h,f=d):(e=h,f=null);f===""&&(f=null);return babelHelpers["extends"]({},a,{selectedQuality:b,targetQuality:e,targetSrc:f})}function d(a,b,c){return babelHelpers["extends"]({},a,{playingQuality:b,playingSrc:c})}}),null);
__d("VideoPlayerProgressiveImplementationEngine",["FBLogger","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerODS","VideoPlayerProgressiveImplementationEngineExtrasAPI","VideoPlayerProgressiveImplementationEngineUtils","emptyFunction","gkx","requireCond","unrecoverableViolation","cr:1680308","cr:1473550","cr:1512856"],(function(a,b,c,d,e,f){"use strict";f.createVideoPlayerProgressiveImplementationEngine=a;var g=b("emptyFunction");function h(a,c){return b("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError("PROGRESSIVE_JAVASCRIPT_NATIVE",a,c)}function a(a){var c=a.debugLogId,d=a.handleFatalError,e=a.initialProps;a=a.setExposedStateInReact;var f={current:null},i={current:null},j={current:null},k={current:null},l=function(){var a=k.current;a!=null&&(k.current=null,a())},m=function(a){l();var c=u();if(c==null)throw b("unrecoverableViolation")("Need videoElement in startSwitchingSource","comet_video_player");if(b("cr:1512856")==null)throw b("unrecoverableViolation")("Need SourceSwitcher in startSwitchingSource","comet_video_player");k.current=b("cr:1512856").startSwitchingVideoElementSource({getShouldBePlaying:function(){return x.getCurrentState().controlledState.playbackState==="playing"||x.getCurrentState().controlledState.playbackState==="stalling"},onSourceSwitchCancelled:function(){x.dispatch({type:"buffering_end_requested"})},onSourceSwitchFailed:function(a){b("FBLogger")("comet_video_player").catching(a).warn("Progressive source switch failed: %s",String(a)),x.dispatch({type:"buffering_end_requested"})},onSourceSwitchStarted:function(){x.dispatch({type:"buffering_begin_requested"})},onSourceSwitchSucceeded:function(){var a=j.current;a!=null&&a.targetQuality!=null&&(j.current=b("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality(a,a.targetQuality,a.targetSrc));x.dispatch({type:"buffering_end_requested"})},targetSrc:a,videoElement:c})},n={current:null},o=function(){var a=u(),c=i.current;if(a==null||c==null)return;try{var d,f=c.graphQLVideoDRMInfo,g=c.videoFBID;d=f?(d=f.fairplayCert)!=null?d:null:null;b("cr:1680308")&&(n.current=f&&d!=null&&g!=null?new(b("cr:1680308"))(d,a,g,f.videoLicenseUriMap):null);d=b("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);y.current=d;j.current=c;g=t();v({inbandCaptionsAutogeneratedFromManifest:r.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:r.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:g==null?void 0:g.inbandCaptionsExpectedFromProps,sideLoadCaptionsExpectedFromProps:g==null?void 0:g.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:g==null?void 0:g.sideLoadCaptionsUrlFromProps});x.dispatch({payload:{availableQualities:r.getAvailableVideoQualities(),selectedVideoQuality:r.getUserSelectedVideoQuality(),targetVideoQuality:r.getCurrentTargetVideoQuality(),videoProjection:r.getVideoProjectionType()},type:"implementation_engine_initialized"});d.setPlayheadPosition(e.startTimestamp)}catch(a){w(a,"progressive_player_create_exception")}},p=function(a,c){if(c==null)return!0;else if(a.videoFBID!==c.videoFBID){var d=14;b("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.video_fbid_changed",d);return!1}else if(a.hdSrc!==c.hdSrc||a.sdSrc!==c.sdSrc){d=14;b("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.src_changed",d);return!1}else return!1},q=function(a){var c;c={graphQLVideoDRMInfo:(c=a.graphQLVideoDRMInfo)!=null?c:null,hdSrc:a.hdSrc===""?null:(c=a.hdSrc)!=null?c:null,hdSrcPreferred:a.hdSrcPreferred,sdSrc:a.sdSrc===""?null:(c=a.sdSrc)!=null?c:null,videoFBID:a.videoFBID};if(!p(c,f.current))return!1;if(c.hdSrc==null&&c.sdSrc==null)throw b("unrecoverableViolation")("Empty hdSrc and sdSrc","comet_video_player");f.current=c;i.current=b("VideoPlayerProgressiveImplementationEngineUtils").createResolvedVideoInfoProgressive(c);o();return!0},r=b("VideoPlayerProgressiveImplementationEngineExtrasAPI").createVideoPlayerProgressiveImplementationEngineExtrasAPI({getPlayingVideoInfo:function(){return j.current},setUserSelectedVideoQuality:function(a){var c=j.current;if(!c)throw b("unrecoverableViolation")("Attempt to switch quality when playingVideoInfo does not exist","comet_video_player");var d=y.current;if(!d)throw b("unrecoverableViolation")("Attempt to switch quality when videoElementAPI does not exist","comet_video_player");var e=c.targetQuality,f=c.targetSrc;j.current=b("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithUserSelectedQuality(c,a);c=j.current;a=c.targetQuality;c=c.targetSrc;if(b("gkx")("1467411"))c!==f&&(c==null?(l(),d.setSrc(null)):m(c)),e!=null&&a!==e&&a!=null&&x.dispatch({payload:{targetVideoQuality:a},type:"representation_changed"});else{d.setSrc(c);if(c!=null){e=(f=x.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?f:0;e>0&&d.setPlayheadPosition(e);x.getCurrentState().controlledState.playbackState==="playing"&&d.play();x.dispatch({payload:{targetVideoQuality:r.getCurrentTargetVideoQuality()},type:"representation_changed"})}}}}),s=function(){n.current&&(n.current.destroy(),n.current=null)};c=b("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({createDebugAPI:function(a){var c=a.getVideoElementAPI;a=a.logger;return b("cr:1473550")?b("cr:1473550").createVideoPlayerImplementationDebugAPI({engineExtrasAPI:r,getVideoElementAPI:c,logger:a}):null},createVideoPlayerError:h,debugLog:g,debugLogId:c,destroyEngineParts:function(){if(b("gkx")("1467411")){l();var a=y.current;a&&a.setSrc(null);j.current=null}s()},engineExtrasAPI:r,engineMetadata:{isAbrEnabled:!1,playerImplementationName:"progressive_v2",playerVersion:"comet_progressive",streamingFormat:"progressive"},handleFatalError:d,handleVideoElementMounted:o,handleVideoElementUnmounted:function(){b("gkx")("1467411")&&l()},handleVideoInfoChange:q,initialProps:e,setExposedStateInReact:a});d=c.engine;var t=c.getCaptionsInfo,u=c.getVideoElement,v=c.handleCaptionsInfoChange,w=c.handleFatalImplementationError,x=c.machine,y=c.videoElementAPIRef;return d}}),null);
__d("VideoPlayerProgressiveImplementationV2.react",["React","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationReactVideoElement.react","VideoPlayerProgressiveImplementationEngine"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=b("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,b("VideoPlayerProgressiveImplementationEngine").createVideoPlayerProgressiveImplementationEngine),d=c[0];c=c[1];return g.jsx(b("VideoPlayerImplementationReactVideoElement.react"),{implementationController:c.implementationController,implementationExposedState:d,renderWithVideoImplementationStates:a.renderWithVideoImplementationStates,videoElementCallbacks:c.videoElementCallbacks,videoElementRefCallback:c.videoElementRefCallback})}}),null);
__d("oz-player/shims/www/OzEventEmitterWWW",["EventEmitter"],(function(a,b,c,d,e,f){"use strict";a=b("EventEmitter");e.exports=a}),null);
__d("oz-player/shims/www/OzNetworkDiagnosticsWWW",[],(function(a,b,c,d,e,f){"use strict";a={getResponseTimeMs:function(a){return a?parseInt(a.get("x-fb-response-time-ms"),10):null}};b=a;e.exports=b}),null);
__d("oz-player/shims/www/OzReadableStreamWWW",["requireCond","cr:927622"],(function(a,b,c,d,e,f){"use strict";b("cr:927622")&&(b("cr:927622").ReadableStream.isPolyfilled=!0);a=b("cr:927622")?b("cr:927622").ReadableStream:window.ReadableStream;c=a;e.exports=c}),null);
__d("oz-player/shims/www/OzWritableStreamWWW",["requireCond","cr:927623"],(function(a,b,c,d,e,f){"use strict";b("cr:927623")&&(b("cr:927623").WritableStream.isPolyfilled=!0);a=b("cr:927623")?b("cr:927623").WritableStream:window.WritableStream;c=a;e.exports=c}),null);
__d("oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW",["setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";a=b("setTimeoutAcrossTransitions");e.exports=a}),null);
__d("useCometLoggedInAccountSwitcherRemoveAccount_account.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometLoggedInAccountSwitcherRemoveAccount_account",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nonce",storageKey:null}],type:"LoggedInAccountSwitcherAccount",abstractKey:null};e.exports=a}),null);
__d("useCometLoggedInAccountSwitcherSubmitForm_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometLoggedInAccountSwitcherSubmitForm_query",selections:[{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("CometMessagingJewelDropdownQPBannerContainerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:8439},{kind:"Literal",name:"trigger",value:"MESSAGING_JEWEL_OPEN"}],b=[{kind:"Literal",name:"supported",value:["CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy"]}],c={kind:"InlineFragment",selections:[{documentName:"CometMessagingJewelDropdownQPBannerContainerQuery",fragmentName:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessagingJewelDropdownQPBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[c],storageKey:'renderer_strategy(supported:["CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy"])'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometMessagingJewelDropdownQPBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c],storageKey:'renderer_strategy(supported:["CometQuickPromotionMessengerDesktopDownloadBannerRendererStrategy"])'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8439,trigger:"MESSAGING_JEWEL_OPEN")'}],storageKey:null}]},params:{id:"3184047498370995",metadata:{},name:"CometMessagingJewelDropdownQPBannerContainerQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useProfileCometSwitcherCleanUpOnSwap_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useProfileCometSwitcherCleanUpOnSwap_query",selections:[{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useCometLoggedInAccountSwitcherRemoveAccount",["fbt","CometRelay","React","promiseDone","recoverableViolation","requireDeferred","useCometConfirmationDialog","useCometLoggedInAccountSwitcherRemoveAccount_account.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=b("requireDeferred")("CometLoggedInAccountSwitcherRemoveAccountMutation");function a(a){var c=b("CometRelay").useRelayEnvironment(),d=b("useCometConfirmationDialog")(),e=d[0];d=b("CometRelay").useFragment(h!==void 0?h:h=b("useCometLoggedInAccountSwitcherRemoveAccount_account.graphql"),a);var f=d.nonce,k=d.user;return i.useCallback(function(){var a=k==null?void 0:k.short_name;e({body:a!=null?g._("\u4e0b\u6b21\u767b\u5165\u6642\uff0c{name}\u5fc5\u9808\u8f38\u5165\u96fb\u5b50\u90f5\u4ef6\u5730\u5740\u6216\u624b\u6a5f\u865f\u78bc\u548c\u5bc6\u78bc\u3002",[g._param("name",a)]):g._("\u4e0b\u6b21\u767b\u5165\u6642\uff0c\u4ed6\u5011\u5fc5\u9808\u8f38\u5165\u96fb\u5b50\u90f5\u4ef6\u5730\u5740\u6216\u624b\u6a5f\u865f\u78bc\u548c\u5bc6\u78bc\u3002"),confirm:g._("\u79fb\u9664\u5e33\u865f"),title:g._("\u79fb\u9664\u5e33\u865f")},function(){var a=k==null?void 0:k.id;if(a==null){b("recoverableViolation")("Cannot remove user from logged in account switcher that has no id","comet_ui");return}b("promiseDone")(j.load().then(function(b){b=b.commit;b(c,{id:a,nonce:f})}))})},[c,f,e,k])}}),null);
__d("ServiceWorkerLoginAndLogout",["ClientServiceWorkerMessage"],(function(a,b,c,d,e,f){function g(a){new(b("ClientServiceWorkerMessage"))(a,null).sendViaController()}a={login:function(){g("login")},logout:function(){g("logout")}};c=a;e.exports=c}),null);
__d("useCometLoggedInAccountSwitcherSubmitForm",["Banzai","CometRelay","React","ServiceWorkerLoginAndLogout","WebStorageMonster","recoverableViolation","useCometLoggedInAccountSwitcherSubmitForm_query.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a,c){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useCometLoggedInAccountSwitcherSubmitForm_query.graphql"),a);var d=a.logout_whitelist;return h.useCallback(function(){var a=c.current;if(a==null){b("recoverableViolation")("Unable to get form ref to submit","comet_infra");return}b("WebStorageMonster").cleanOnLogout(d);b("ServiceWorkerLoginAndLogout").logout();b("Banzai").flush();a.submit()},[c,d])}}),null);
__d("MessengerDesktopUpsellLinks",["CurrentUser","MessengerDesktopAppLinks","UserAgent","qex"],(function(a,b,c,d,e,f){"use strict";f.getDesktopUpsellLinkForPlatform=g;f.getDesktopUpsellLinkIfEnabledForCalls=a;function g(){if(b("UserAgent").isPlatform("Mac OS X"))return b("MessengerDesktopAppLinks").macOSX;else if(b("UserAgent").isPlatform("Windows"))return b("MessengerDesktopAppLinks").windows;return null}function a(){var a=g(),c=a!=null&&!b("CurrentUser").isWorkUser()&&!!b("qex")._("1431495");return c?a:null}}),null);
__d("FundraiserGKUtils",["gkx","qex"],(function(a,b,c,d,e,f){"use strict";f.canCreateP4CFundraiser=g;f.canCreateP4PFundraiser=h;f.stripeKYCToCreateP4PFundraiser=a;f.canCreateFundraiser=c;f.canSeeCometCreationFlow=d;f.canSeeCometVoiceSwitcher=e;function g(){return b("gkx")("1122553")}function h(){return b("gkx")("781430")}function a(){return b("gkx")("1781446")}function c(){return g()||h()}function d(){var a;return b("gkx")("708253")&&((a=b("qex")._("1511536"))!=null?a:!1)}function e(){return b("gkx")("708253")&&b("gkx")("1578944")}}),null);
__d("XFundraiserCreateForPageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fund/{?page_token}/",{page_token:{type:"String"},source:{type:"Enum",enumType:1},source_data:{type:"StringToStringMap"}})}),null);
__d("XFundraiserDashboardController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fundraisers/",{default_beneficiary_id:{type:"FBID"},default_beneficiary_type:{type:"Enum",enumType:1},default_category:{type:"Enum",enumType:1},page_id:{type:"FBID"},parent_container_id:{type:"FBID"},post_id:{type:"FBID"},prefill_type:{type:"String"},prefill_query:{type:"String"},promotional_source:{type:"String"},source:{type:"Enum",enumType:1},source_data:{type:"StringToStringMap",defaultValue:{}},create:{type:"Exists",defaultValue:!1},sem_campaign_id:{type:"String"},sem_adgroupid:{type:"String"},sem_keyword:{type:"String"},sem_sitelink:{type:"String"}})}),null);
__d("XFundraiserWithPresenceCreateDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/fundraiser/with_presence/create_dialog/",{default_beneficiary_id:{type:"FBID"},default_beneficiary_type:{type:"Enum",enumType:1},default_category:{type:"Enum",enumType:1},page_id:{type:"FBID"},parent_container_id:{type:"FBID"},post_id:{type:"FBID"},prefill_type:{type:"String"},prefill_query:{type:"String"},promotional_source:{type:"String"},source:{type:"Enum",enumType:1},source_data:{type:"StringToStringMap",defaultValue:{}},fundraiser_create_promo_id:{type:"FBID"},default_description:{type:"String"},default_end_time:{type:"Int"},default_goal_amount:{type:"Int"},default_title:{type:"String"},rejected_fundraiser_id:{type:"FBID"},social_upsell_reason:{type:"Enum",enumType:1}})}),null);
__d("FundraiserCreateUrlUtils",["FundraiserGKUtils","XFundraiserCreateForPageController","XFundraiserDashboardController","XFundraiserWithPresenceCreateDialogController"],(function(a,b,c,d,e,f){"use strict";f.getCreatePersonToCharityFundraiserUrl=g;f.getCreatePersonForPersonFundraiserUrl=h;f.getCreateFundraiserUrl=a;f.getPageCreationShortUrl=c;function g(a,c,d){if(!b("FundraiserGKUtils").canCreateP4CFundraiser())return null;a=i(a).setEnum("default_beneficiary_type","charity").setFBID("default_beneficiary_id",c);d!=null&&a.setFBID("page_id",d);return a.getURI().toString()}function h(a){return!b("FundraiserGKUtils").canCreateP4PFundraiser()?null:i(a).setEnum("default_beneficiary_type","person").getURI().toString()}function a(a,c,d,e){if(!b("FundraiserGKUtils").canCreateFundraiser())return null;switch(a){case 6:return g(c,d,e);case 9:return h(c);default:return i(c).getURI().toString()}}function i(a){return b("FundraiserGKUtils").canSeeCometCreationFlow()?b("XFundraiserWithPresenceCreateDialogController").getURIBuilder().setEnum("source",a):b("XFundraiserDashboardController").getURIBuilder().setExists("create",!0).setEnum("source",a)}function c(a){return b("XFundraiserCreateForPageController").getURIBuilder().setString("page_token",a).getURI().toString()}}),null);
__d("CometMessagingJewelDropdownQPBannerPlaceholder.react",["BaseGlimmer.react","CometRow.react","CometRowItem.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i={actionButtonGlimmer:{borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",height:"tv7at329"},logoGlimmer:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",height:"m7zwrmfr",marginTop:"muag1w35",width:"tmrshh9y"},root:{alignItems:"gs1a9yip",borderStyle:"ow4ym5g4",borderWidth:"auili1gw",boxSizing:"rq0escxv",display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",flexShrink:"g5gj957u",justifyContent:"i1fnvgqd",minHeight:"tgvbjcpo",minWidth:"hpfvmrgz",position:"l9j0dhe7",zIndex:"du4w35lb",backgroundColor:"pykisdsp",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"dk1262ng",marginTop:"n1l5q3vz",marginEnd:"tvfksri0",marginBottom:"n851cfcs",marginStart:"ozuftl9m",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"ecm0bbzt",paddingEnd:"ph5uu5jm",paddingStart:"b3onmgus",paddingBottom:"ihqw7lf3"},textGlimmer:{borderTopStartRadius:"beltcj47",borderTopEndRadius:"p86d2i9g",borderBottomEndRadius:"aot14ch1",borderBottomStartRadius:"kzx2olss",height:"jnigpg78",marginBottom:"qzhwtbm6",marginTop:"knvmm38d"},textGroup:{display:"j83agx80",flexDirection:"cbu4d94t",marginBottom:"ew0dbk1b",marginTop:"irj2b8pg"}};function a(){return h.jsxs("div",{className:(g||(g=b("stylex")))(i.root),children:[h.jsxs(b("CometRow.react"),{verticalAlign:"center",children:[h.jsx(b("CometRowItem.react"),{verticalAlign:"start",children:h.jsx(b("BaseGlimmer.react"),{className:g(i.logoGlimmer),index:0})}),h.jsx(b("CometRowItem.react"),{expanding:!0,children:h.jsxs("div",{className:g(i.textGroup),children:[h.jsx(b("BaseGlimmer.react"),{className:g(i.textGlimmer),index:0}),h.jsx(b("BaseGlimmer.react"),{className:g(i.textGlimmer),index:0})]})})]}),h.jsxs(b("CometRow.react"),{align:"justify",direction:"forward",spacing:8,wrap:"none",children:[h.jsx(b("CometRowItem.react"),{expanding:!0,children:h.jsx(b("BaseGlimmer.react"),{index:1,xstyle:i.actionButtonGlimmer})}),h.jsx(b("CometRowItem.react"),{expanding:!0,children:h.jsx(b("BaseGlimmer.react"),{index:1,xstyle:i.actionButtonGlimmer})})]})]})}}),null);
__d("CometMessagingJewelDropdownQPBannerContainer.react",["CometMessagingJewelDropdownQPBannerPlaceholder.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","React","useQuickPromotionFalcoEvent","CometMessagingJewelDropdownQPBannerContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React"),i=g!==void 0?g:g=b("CometMessagingJewelDropdownQPBannerContainerQuery.graphql");function a(a){a=a.queryRef;a=b("CometRelay").usePreloadedQuery(i,a);var c=b("useQuickPromotionFalcoEvent")({context_surface_id:8439,context_trigger:"messaging_jewel_open"});a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.eligible_promotions)==null?void 0:(a=a.nodes[0])==null?void 0:(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy;return a==null?null:h.jsx(b("CometPlaceholder.react"),{fallback:h.jsx(b("CometMessagingJewelDropdownQPBannerPlaceholder.react"),{}),children:h.jsx(b("CometQuickPromotionLoggerContext.react").Provider,{value:c,children:h.jsx(b("CometRelay").MatchContainer,{match:a})})})}}),null);
__d("MWJewelDropdownHeaderSeeAllButton.react",["ix","fbt","CometTooltip.react","React","TetraCircleButton.react","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=h._("\u5230 Messenger \u67e5\u770b\u5168\u90e8");return i.jsx(b("CometTooltip.react"),{align:"end",tooltip:c,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("580260"),20),label:c,linkProps:{url:a.url},onPress:a.onClose,size:32,type:"deemphasized"})})}}),null);
__d("MWJewelDropdownHeader.react",["ix","fbt","CometEntryPointPopoverTrigger.react","CometHomeChatSettings.entrypoint","CometProgressRingIndeterminate.react","CometTooltip.react","CometTopNavListDropdown.react","MeetupExperiments","MWChatOpenNewTab.re","MWJewelDropdownHeaderSeeAllButton.react","React","TetraCircleButton.react","XCometMessengerControllerRouteBuilder","fbicon","stylex","useMWChatNewVideoChat","useMWChatTabContainerNewPreload","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function j(a){a=a.onOpenMessageRequests;var c=h._("\u9078\u9805");return i.jsx(b("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{},otherProps:{onOpenMessageRequests:(a=a)!=null?a:void 0},popoverEntryPoint:b("CometHomeChatSettings.entrypoint"),position:"below",preloadTrigger:"button",children:function(a,d,e,f,h,j){return i.jsx(b("CometTooltip.react"),{align:"end",tooltip:c,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("484387"),20),label:c,onHoverIn:f,onHoverOut:h,onPress:d,onPressIn:j,ref:a,size:32,type:"deemphasized"})})}})}function a(a){var c=b("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),d=b("MWChatOpenNewTab.re").useHook("jewel_new_message"),e=b("useMWChatNewVideoChat")(a.onClose),f=e[0];e=e[1];var k=b("XCometMessengerControllerRouteBuilder").buildURL({thread_key:"new"}),l=function(){c&&(d(),a.onClose())},m=b("useMWChatTabContainerNewPreload")(),n=m[0];m=m[1];var o=h._("\u65b0\u8a0a\u606f"),p=h._("\u5efa\u7acb\u65b0\u7684\u8996\u8a0a\u5708");return i.jsx(b("CometTopNavListDropdown.react").Title,{actions:[i.jsx(j,{onOpenMessageRequests:a.onOpenMessageRequests}),i.jsx(b("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:a.onClose,url:a.inboxUrl}),b("MeetupExperiments").supportLinkCreation()?i.jsx(b("CometTooltip.react"),{align:"end",tooltip:p,children:e?i.jsx("div",{className:"k7cz35w2 j83agx80 bp9cbjyn",children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}):i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("1388374"),20),label:p,onPress:function(){return f("fb_messenger_jewel")},size:32,type:"deemphasized"})}):null,i.jsx(b("CometTooltip.react"),{align:"end",tooltip:o,children:i.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(g("507170"),16),label:o,linkProps:{preventLocalNavigation:c,url:k},onHoverIn:n,onHoverOut:m,onPress:l,size:32,type:"deemphasized"})})].filter(Boolean),onReturn:a.onReturn,title:a.title})}}),null);
__d("MWJewelMessageRequestsDropdownHeader.react",["CometTopNavListDropdown.react","MWJewelDropdownHeaderSeeAllButton.react","React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){return g.jsx(b("CometTopNavListDropdown.react").Title,{actions:[g.jsx(b("MWJewelDropdownHeaderSeeAllButton.react"),{onClose:a.onClose,url:a.url})],onReturn:a.onReturn,title:a.title})}}),null);
__d("MWJewelMessengerLink.react",["fbt","CometLink.react","React","TetraText.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.onClick;a=a.url;return h.jsx("div",{className:"pzdrnzhu ihqw7lf3 jyxxhhb5",children:h.jsx(b("TetraText.react"),{align:"center",color:"blueLink",type:"bodyLink3",children:h.jsx(b("CometLink.react"),{href:a,onClick:c,children:g._("\u5230 Messenger \u67e5\u770b\u5168\u90e8")})})})}}),null);
__d("MWJewelMessageRequestsDropdown.react",["fbt","CometScrollView.react","CometTopNavListDropdown.react","MWJewelMessageRequestsDropdownHeader.react","MWJewelMessengerLink.react","React","TetraText.react","XCometMessengerControllerRouteBuilder","requireCond","stylex","cr:1525945"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.onClose,d=a.onOpenSpamMessages;a=a.onReturn;var e=b("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/requests/",{});return h.jsxs(b("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:[h.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[h.jsx(b("MWJewelMessageRequestsDropdownHeader.react"),{onClose:c,onReturn:a,title:g._("\u964c\u751f\u8a0a\u606f"),url:e}),h.jsx("div",{className:"lb8aey2d f10w8fjw oj5qckz4 pybr56ya hcukyx3x w0hvl6rk cxmmr5t8 qjjbsfad b3i9ofy5",children:h.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:g._("\u958b\u555f\u8981\u6c42\u5373\u53ef\u53d6\u5f97\u6709\u95dc\u8a0a\u606f\u5bc4\u4ef6\u8005\u7684\u8cc7\u6599\u3002\u5728\u4f60\u56de\u8986\u4e4b\u524d\uff0c\u4ed6\u5011\u90fd\u4e0d\u6703\u77e5\u9053\u4f60\u5df2\u770b\u904e\u4ed6\u5011\u7684\u8a0a\u606f\u3002")})}),h.jsx(b("cr:1525945"),{folder:"pending",onClose:c,onOpenSpamMessages:d})]}),h.jsx(b("MWJewelMessengerLink.react"),{onClick:c,url:e})]})}}),null);
__d("MWJewelSpamMessagesDropdown.react",["fbt","CometScrollView.react","CometTopNavListDropdown.react","MWJewelMessageRequestsDropdownHeader.react","MWJewelMessengerLink.react","React","TetraText.react","XCometMessengerControllerRouteBuilder","requireCond","stylex","cr:1525945"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=a.onClose;a=a.onReturn;var d=b("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/filtered/",{});return h.jsxs(b("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:[h.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[h.jsx(b("MWJewelMessageRequestsDropdownHeader.react"),{onClose:c,onReturn:a,title:g._("\u5783\u573e\u8a0a\u606f"),url:d}),h.jsx("div",{className:"lb8aey2d f10w8fjw oj5qckz4 pybr56ya hcukyx3x w0hvl6rk cxmmr5t8 qjjbsfad b3i9ofy5",children:h.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:g._("\u958b\u555f\u8981\u6c42\u5373\u53ef\u53d6\u5f97\u6709\u95dc\u8a0a\u606f\u5bc4\u4ef6\u8005\u7684\u8cc7\u6599\u3002\u5728\u4f60\u56de\u8986\u4e4b\u524d\uff0c\u4ed6\u5011\u90fd\u4e0d\u6703\u77e5\u9053\u4f60\u5df2\u770b\u904e\u4ed6\u5011\u7684\u8a0a\u606f\u3002")})}),h.jsx(b("cr:1525945"),{folder:"other",onClose:c})]}),h.jsx(b("MWJewelMessengerLink.react"),{onClick:c,url:d})]})}}),null);
__d("MWUIJewelPreloadThreadFolder.bs",["requireCond","cr:1516191"],(function(a,b,c,d,e,f){"use strict";function g(a){}function a(){if(b("cr:1516191")==null)return g;else return b("cr:1516191").useHook()}f.$null$OR$MWMSJewelPreloadThreadFolder$requireCond=b("cr:1516191");f.fn=g;f.useHook=a}),null);
__d("MWUIJewelPreloadThreadFolder.re",["MWUIJewelPreloadThreadFolder.bs"],(function(a,b,c,d,e,f){a=b("MWUIJewelPreloadThreadFolder.bs").useHook;f.useHook=a}),null);
__d("ReactMemoCond",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,b,c){return a?g.memo(b,c):b}}),null);
__d("useCallbackCond",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,b,c){return g.useCallback(b,a?c:void 0)}}),null);
__d("MWJewelSearchEmptyState.react",["fbt","React","TetraText.react","stylex","useCometSearchTypeaheadEmptyState"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React");function a(a){var c=b("useCometSearchTypeaheadEmptyState")();return c?h.jsxs("div",{className:"tw6a2znq f10w8fjw d1544ag0 pybr56ya",children:[h.jsx(b("TetraText.react"),{align:"center",type:"body2",children:g._("\u67e5\u7121\u5167\u5bb9")}),h.jsx("br",{}),h.jsx(b("TetraText.react"),{align:"center",color:"tertiary",type:"body3",children:g._("\u627e\u4e0d\u5230\u8207\u300c{query}\u300d\u76f8\u7b26\u7684\u7d50\u679c\u3002\u8acb\u6aa2\u67e5\u662f\u5426\u6709\u932f\u5b57\uff0c\u6216\u662f\u4f7f\u7528\u5b8c\u6574\u5b57\u8a5e\u3002",[g._param("query",a.queryString)])})]}):null}}),null);
__d("MWJewelSearchTypeaheadViewStrategy.react",["CometScrollView.react","MWJewelSearchEmptyState.react","MWJewelSearchTypeaheadViewItem.react","React","requireCond","cr:1691755"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.entries;a.extraViewProps;var d=a.highlightedEntry;a.onAbandonTypeahead_DO_NOT_USE;var e=babelHelpers.objectWithoutPropertiesLoose(a,["entries","extraViewProps","highlightedEntry","onAbandonTypeahead_DO_NOT_USE"]);return c.length===0?g.jsx(b("MWJewelSearchEmptyState.react"),{queryString:e.queryString}):g.jsx(b("cr:1691755"),{entries:c,highlightedEntry:d,children:function(a,c){return g.createElement(b("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},e,{entry:a,isActive:c,key:a.getKey()}))}})}}),null);
__d("MWJewelSearchTypeahead.react",["fbt","BaseTypeahead.react","CometRelay","CometSearchTypeaheadBaseLayoutContextualStrategy.react","CometTypeaheadBackButton.react","CometTypeaheadInputRoundedStrategy.react","MWJewelSearchTypeaheadViewStrategy.react","React","requireCond","stylex","cr:1691754","cr:1708175","cr:1805311"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i={searchInput:{marginTop:"aov4n071",marginEnd:"cxmmr5t8",marginBottom:"bi6gxh9e",marginStart:"hcukyx3x",paddingTop:"jb3vyjys",paddingEnd:"hv4rvrfc",paddingBottom:"qt6c0cv9",paddingStart:"dati1w0a"},searchView:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"mvk8q8v6",display:"j83agx80",minHeight:"mw5ich9q"}},j=[],k=b("cr:1805311")?b("cr:1805311"):function(){return j};function a(a){var c=a.onBlur,d=a.onChange,e=a.onFocus,f=a.onPressEntry;a=babelHelpers.objectWithoutPropertiesLoose(a,["onBlur","onChange","onFocus","onPressEntry"]);var j=h.useState(!1),l=j[0],m=j[1],n=b("CometRelay").useRelayEnvironment();j=h.useMemo(function(){return new(b("cr:1691754"))({lightspeedSupportedTypes:b("cr:1708175")==null?void 0:b("cr:1708175").allSupportedTypes,limit:20,relayEnvironment:n,source:b("cr:1708175")==null?void 0:b("cr:1708175").Surfaces.universal})},[n]);var o=h.useCallback(function(){m(!1),d("")},[d]),p=h.useCallback(function(){m(!0)},[]),q=k();return h.jsx(b("BaseTypeahead.react"),{dataSource:j,emptyEntries_DO_NOT_USE:q,inputExtraProps:{hideIconAnimation:!0,hideIconOnFocus:!0},inputStartContent:l?h.jsx(b("CometTypeaheadBackButton.react"),{testid:void 0}):null,inputStrategyRenderer:b("CometTypeaheadInputRoundedStrategy.react"),layoutStrategyRenderer:b("CometSearchTypeaheadBaseLayoutContextualStrategy.react"),onBlur:c,onChange:d,onClose:o,onFocus:e,onOpen:p,onPressEntry:f,placeholder:g._("\u641c\u5c0b Messenger"),queryString:a.queryString,viewStrategyRenderer:b("MWJewelSearchTypeaheadViewStrategy.react"),xstyles:{inputXStyle:i.searchInput,viewXStyle:i.searchView}})}}),null);
__d("useMWJewelThreadListSearchTypeahead.react",["MWJewelSearchTypeahead.react","React","requireCond","useMWChatOpenTabForGroup","useMWChatOpenTabForPage","useMWChatOpenTabForUser","cr:1824038"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=b("cr:1824038")?b("cr:1824038").useHook:function(){return function(){}};function a(a,c,d,e){var f=b("useMWChatOpenTabForGroup")("jewel_search"),i=f[0];f[1];var j=b("useMWChatOpenTabForPage")("jewel_search");f=b("useMWChatOpenTabForUser")("jewel_search");var k=f[0];f[1];var l=h(),m=g.useCallback(function(a){a=a.getRawData();var b=a.id;a=a.resultType;switch(a){case"group":i(b);break;case"user":k(b);break;case"page":j(b);break}e()},[e,i,j,k]);return g.useMemo(function(){return g.jsx(b("MWJewelSearchTypeahead.react"),{onBlur:function(){return a(!1)},onChange:c,onFocus:function(){a(!0),l()},onPressEntry:m,queryString:d})},[m,c,d,a,l])}}),null);
__d("CometMessagingJewelDropdown.react",["fbt","BaseMultiStepContainer.react","CometErrorBoundary.react","CometMessagingJewelDropdownQPBannerContainer.react","CometPlaceholder.react","CometScrollView.react","CometTopNavListDropdown.react","MWJewelDropdownHeader.react","MWJewelMessageRequestsDropdown.react","MWJewelMessengerLink.react","MWJewelSpamMessagesDropdown.react","MWUIJewelPreloadThreadFolder.re","React","ReactMemoCond","XCometMessengerControllerRouteBuilder","gkx","recoverableViolation","requireCond","stylex","useCallbackCond","useMWJewelThreadListSearchTypeahead.react","cr:1716992","cr:1525945"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=b("cr:1716992")?b("cr:1716992").useHook:function(){return function(){}};function k(a){b("recoverableViolation")("CometMessagingJewelDropdownQPBannerContainer failed to render","messenger_web_product",{error:a})}var l=b("ReactMemoCond")(b("gkx")("1827034"),function(a){var c=a.onClose,d=a.pushPage;a=a.qpBannerContainerQueryRef;var e=j(),f=i.useCallback(function(){e(),c()},[c,e]);i.useEffect(function(){return e},[e]);var h=i.useState(!1),l=h[0];h=h[1];var m=i.useState(""),n=m[0];m=m[1];var o=b("XCometMessengerControllerRouteBuilder").buildURL({});h=b("useMWJewelThreadListSearchTypeahead.react")(h,m,n,f);var p=b("MWUIJewelPreloadThreadFolder.re").useHook(),q=b("useCallbackCond")(b("gkx")("1827034"),function(){return d(function(a){a=a.onReturn;return i.jsx(b("MWJewelSpamMessagesDropdown.react"),{onClose:f,onReturn:a})})},[f,d]);m=b("useCallbackCond")(b("gkx")("1827034"),function(){p("other"),d(function(a){a=a.onReturn;return i.jsx(b("MWJewelMessageRequestsDropdown.react"),{onClose:f,onOpenSpamMessages:q,onReturn:a})})},[f,q,p,d]);return i.jsxs(b("CometTopNavListDropdown.react").Card,{useMaxHeight:!0,children:[i.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!l&&n==="",children:[i.jsx(b("MWJewelDropdownHeader.react"),{inboxUrl:o,onClose:f,onOpenMessageRequests:m,title:g._("Messenger")}),i.jsx(b("CometErrorBoundary.react"),{onError:k,children:i.jsx(b("CometPlaceholder.react"),{fallback:null,children:i.jsx(b("CometMessagingJewelDropdownQPBannerContainer.react"),{queryRef:a})})}),i.jsx(b("cr:1525945"),{folder:"inbox",onClose:f,onOpenMessageRequests:m,searchTypeahead:h})]}),i.jsx(b("MWJewelMessengerLink.react"),{onClick:f,url:o})]})});function a(a){var c=a.props.onClose,d=a.queries.qpBannerContainerQueryRef;a=i.jsx("div",{className:(h||(h=b("stylex")))([b("CometTopNavListDropdown.react").styles.cardWidth]),children:i.jsx(b("BaseMultiStepContainer.react"),{fitContentWidth:!0,children:function(a){return i.jsx(l,{onClose:c,pushPage:a,qpBannerContainerQueryRef:d})}})});return i.jsx(b("CometTopNavListDropdown.react"),{label:g._("Messenger"),name:"MWJewelDropdown",children:a})}}),null);
__d("useProfileCometSwitcherCleanUpOnSwap",["Banzai","CometRelay","React","ServiceWorkerLoginAndLogout","WebStorageMonster","useProfileCometSwitcherCleanUpOnSwap_query.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){a=b("CometRelay").useFragment(g!==void 0?g:g=b("useProfileCometSwitcherCleanUpOnSwap_query.graphql"),a);var c=a.logout_whitelist;return h.useCallback(function(){b("WebStorageMonster").cleanOnLogout(c),b("ServiceWorkerLoginAndLogout").logout(),b("Banzai").flush()},[c])}}),null);
__d("MWChatCloseTabs.bs",["React","MessengerWebEvent","MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","MessengerWebStgTypedLoggerLite.bs","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=g.useContext(b("MWChatMultitabContext.bs").context);return g.useCallback(function(a){c(Date.now(),"","messenger");b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").CLOSE_ALL_CHAT_TABS});if(d!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,d,1)},[d,c])}f.useHook=a}),null);
__d("MWChatCloseTabs.re",["MWChatCloseTabs.bs"],(function(a,b,c,d,e,f){a=b("MWChatCloseTabs.bs").useHook;f.useHook=a}),null);
__d("MWChatCollapseTabs.bs",["React","MessengerWebEvent","MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs","MessengerWebStgTypedLoggerLite.bs","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("useCometFeedNoRoutingNavigationEventLogger")(),d=g.useContext(b("MWChatMultitabContext.bs").context);return g.useCallback(function(a){c(Date.now(),"","messenger");b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").MINIMIZE_ALL_CHAT_TABS});if(d!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,d,2)},[d,c])}f.useHook=a}),null);
__d("MWChatCollapseTabs.re",["MWChatCollapseTabs.bs"],(function(a,b,c,d,e,f){a=b("MWChatCollapseTabs.bs").useHook;f.useHook=a}),null);
__d("MWChatSettingsHeadPopover.react",["ix","fbt","CometMenu.react","CometMenuItem.react","MWChatCloseTabs.re","MWChatCollapseTabs.re","React","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=b("MWChatCloseTabs.re").useHook(),d=b("MWChatCollapseTabs.re").useHook();return i.jsxs(b("CometMenu.react"),{withArrow:!0,children:[i.jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("491584"),20),onClick:function(a){return c()},primaryText:h._("\u95dc\u9589\u6240\u6709\u804a\u5929\u5ba4")}),i.jsx(b("CometMenuItem.react"),{icon:b("fbicon")._(g("518013"),20),onClick:function(a){return d()},primaryText:h._("\u5c07\u5df2\u958b\u555f\u7684\u804a\u5929\u5ba4\u7e2e\u5230\u6700\u5c0f")})]})}}),null);
__d("MWJewelOpenTabForCurrentThread.bs",["bs_curry","React","MWThread_DEPRECATED.bs","MWChatOpenTabForPage.bs","MWChatOpenTabForUser.bs","MWChatOpenTabForGroup.bs","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,c,d){var e=b("MWThread_DEPRECATED.bs").useIdExn(void 0),f=b("MWChatOpenTabForUser.bs").useHook(void 0,d),h=f[0],i=b("MWChatOpenTabForPage.bs").useHook(void 0,d);f=b("MWChatOpenTabForGroup.bs").useHook(void 0,d);var j=f[0];return g.useCallback(function(d){d=d.metaKey||d.ctrlKey||d.shiftKey;if(a&&!d){d=e.NAME;d==="Group"?b("bs_curry")._1(j,e.VAL):d==="Page"?b("bs_curry")._1(i,e.VAL):d==="User"?b("bs_curry")._1(h,e.VAL):b("unrecoverableViolation")("UserSecret Not supported","messenger_web_product")}return b("bs_curry")._1(c,void 0)},[h,j,i,c,a,e])}f.useHook=a}),null);
__d("MWJewelThreadSnippet.react",["CurrentEnvironment","React","TetraText.react"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.isUnread;a=a.text;return c?b("CurrentEnvironment").facebookdotcom?g.jsx(b("TetraText.react"),{color:"highlight",numberOfLines:1,type:"bodyLink4",children:a}):g.jsx(b("TetraText.react"),{color:"primary",numberOfLines:1,type:"bodyLink4",children:a}):g.jsx(b("TetraText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:a})}}),null);
__d("MWJewelSpamMessagesThread.react",["ix","fbt","Locale","MWJewelThreadSnippet.react","React","TetraIcon.react","TetraListCell.react","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.spamMessagesCount,d=a.loadedAll;a=a.onOpenSpamMessages;var e=h._("\u67e5\u770b\u5783\u573e\u8a0a\u606f");d=d?h._("{number}\u5247\u964c\u751f\u8a0a\u606f",[h._param("number",c)]):h._("{number}+ \u5247\u964c\u751f\u8a0a\u606f",[h._param("number",c)]);return i.jsx(b("TetraListCell.react"),{addOnPrimary:{icon:b("fbicon")._(g("542884"),24),size:56,type:"contained-icon"},addOnSecondary:{addOn:i.jsx(b("TetraIcon.react"),{color:"secondary",icon:b("Locale").isRTL()?b("fbicon")._(g("492485"),16):b("fbicon")._(g("492533"),16)}),type:"body"},body:i.jsx(b("MWJewelThreadSnippet.react"),{isUnread:!1,text:d}),headline:e,level:4,onPress:a})}}),null);
__d("MWJewelThreadAddOnSecondaryIcons",["requireCond","cr:1737009"],(function(a,b,c,d,e,f){"use strict";f.MWJewelThreadAddOnSecondaryIcons=b("cr:1737009")}),null);
__d("MWUIJewelMessageRequestsThread.bs",["requireCond","cr:1516272"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1516272").useHook;f.useHook=a}),null);
__d("MWUIJewelSpamMessagesThread.bs",["requireCond","cr:1531918"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1531918").useHook;f.useHook=a}),null);
__d("TetraMWJewelThreadAddOnSecondaryIcons",["ix","React","TetraIcon.react","fbicon"],(function(a,b,c,d,e,f,g){"use strict";a=b("React");c=a.jsx(b("TetraIcon.react"),{color:"disabled",icon:b("fbicon")._(g("498145"),16)});f.checkmark=c;d=a.jsx(b("TetraIcon.react"),{color:"disabled",icon:b("fbicon")._(g("569284"),16)});f.bell=d}),null);
__d("MWJewelMessageRequestsThread.react",["ix","fbt","Locale","MWJewelThreadSnippet.react","React","TetraIcon.react","TetraListCell.react","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.onOpenMessageRequests,d=a.otherParticipantName;a=a.unreadRequestsCount;var e=h._({"*":"\u65b0\u7684\u964c\u751f\u8a0a\u606f"},[h._plural(a)]),f=h._({"someone":"\u4f86\u81ea\u4f60\u53ef\u80fd\u8a8d\u8b58\u7684\u670b\u53cb","people":"\u4f86\u81ea\u4f60\u53ef\u80fd\u8a8d\u8b58\u7684\u670b\u53cb"},[h._enum(a===1?"someone":"people",{someone:"someone",people:"people"})]);d!=null&&(a===1?f=h._("\u4f86\u81ea{name}",[h._param("name",d)]):f=h._("\u4f86\u81ea{name}\u548c\u5176\u4ed6{count}\u4eba",[h._param("name",d),h._param("count",a-1)]));return i.jsx(b("TetraListCell.react"),{addOnPrimary:{icon:b("fbicon")._(g("542884"),24),size:56,type:"contained-icon"},addOnSecondary:{addOn:i.jsx(b("TetraIcon.react"),{color:"secondary",icon:b("Locale").isRTL()?b("fbicon")._(g("492485"),16):b("fbicon")._(g("492533"),16)}),type:"body"},body:i.jsx(b("MWJewelThreadSnippet.react"),{isUnread:!0,text:f}),headline:e,level:4,onPress:c})}}),null);
__d("MWUIMarkThreadAsRead.re",["MWUIMarkThreadAsRead.bs"],(function(a,b,c,d,e,f){a=b("MWUIMarkThreadAsRead.bs").useHook;f.useHook=a}),null);
__d("useMWJewelThreadAddOnSecondary",["fbt","CometBadge.react","CometPressable.react","MWJewelThreadAddOnSecondaryIcons","MWUIMarkThreadAsRead.re","React","TetraOverlappingFacepileUnstyled.react","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=g._("\u6a19\u793a\u70ba\u5df2\u8b80");function a(a,c,d,e){var f=b("MWUIMarkThreadAsRead.re").useHook();if(a)return{addOn:h.jsx(b("CometPressable.react"),{"aria-label":i,expanding:!0,onPress:function(){return f()},children:h.jsx(b("CometBadge.react"),{color:"blue",isProfileBadge:!0,size:12})}),type:"body"};if(c)return{addOn:b("MWJewelThreadAddOnSecondaryIcons").MWJewelThreadAddOnSecondaryIcons.bell,type:"body"};if(d)if(e.length===0)return{addOn:b("MWJewelThreadAddOnSecondaryIcons").MWJewelThreadAddOnSecondaryIcons.checkmark,type:"body"};else return{addOn:h.jsx(b("TetraOverlappingFacepileUnstyled.react"),{count:e.length,isTextInline:!0,items:e.map(function(a){return{alt:a.alt,source:{uri:a.src}}}),size:16}),type:"body"};return{addOn:h.jsx("div",{className:"fwizqjfa cyypbtt7"}),type:"body"}}}),null);
__d("MWUIMarkThreadAsUnread.bs",["requireCond","cr:1613538"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1613538").useHook;f.useHook=a}),null);
__d("RTWebInboxJoinOngoingCallIcon.react",["ix","React","TetraIcon.react","fbicon","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=function(a){switch(a){case"AUDIO_GROUP_CALL":return b("fbicon")._(g("558161"),20);case"VIDEO_GROUP_CALL":return b("fbicon")._(g("493174"),20);default:return null}};function a(a){var c=a.hidden;a=a.ongoingCallType;if(c)return null;c=i(a);return c===null?null:h.jsx("div",{className:"ke6wolob rk01pc8j pmk7jnqg mrt03zmi rm21btxo akv41dx8 spb7xbtv bkmhp75w emlxlaya s45kfl79",children:h.jsx("div",{className:"thwo4zme l9j0dhe7 a8nywdso qt6c0cv9 rz4wbd8a jb3vyjys taijpn5t tv7at329 j83agx80 rq0escxv sk4xxmp2 agehan2d n8ej3o3l rt8b4zig spb7xbtv bkmhp75w emlxlaya s45kfl79 h5vs1ck6 bp9cbjyn",children:h.jsx(b("TetraIcon.react"),{color:"white",icon:c,size:20})})})}}),null);
__d("RTWebJoinOngoingCallMenuItem.react",["ix","fbt","CometMenuItem.react","React","ZenonUserActionLogger","fbicon","useRTWebCometStartCallCallback"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(a){var c=a.callData,d=a.fbid,e=b("useRTWebCometStartCallCallback")();a=(a=c==null?void 0:c.call_state)!=null?a:"NO_ONGOING_CALL";var f,j,k;switch(a){case"AUDIO_GROUP_CALL":f=b("fbicon")._(g("558161"),20);j=h._("\u52a0\u5165\u901a\u8a71");k="audio";break;case"VIDEO_GROUP_CALL":f=b("fbicon")._(g("493174"),20);j=h._("\u52a0\u5165\u8996\u8a0a\u804a\u5929");k="video";break;default:return null}return i.jsx(b("CometMenuItem.react"),{icon:f,onClick:function(){c!=null&&(b("ZenonUserActionLogger").logClick({component:"join_call_button",surface:"messages_jewel"}),e({existingCall:c,mediaType:k,thread:{id:d,type:2},trigger:"multiway_thread_list_join_call_button"}))},primaryText:j})}}),null);
__d("FBRTCConstants",["keyMirror"],(function(a,b,c,d,e,f){f.convertFromUploadLogLevel=a;f.convertToUploadLogLevel=c;f.uploadLogLevelString=d;f.endCallReasonFromString=e;f.callEndReasonString=i;f.fullCallEndReasonString=j;a=Object.freeze({OFFER:"offer",ANSWER:"answer",ICE_CANDIDATE:"ice_candidate",OK:"ok",PING:"ping",PING_ACK:"ping_ack",HANGUP:"hang_up",OTHER_DISMISS:"other_dismiss",MSG_ACK:"msg_ack",PRANSWER:"pranswer",ICERESTART_OFFER:"icerestart_offer",ICERESTART_ANSWER:"icerestart_answer",PCRESTART_OFFER:"pcrestart_offer",PCRESTART_ANSWER:"pcrestart_answer",SDP_UPDATE:"sdp_update",OFFER_ACK:"offer_ack",OFFER_NACK:"offer_nack",ANSWER_ACK:"answer_ack",SET_VIDEO:"set_video",VIDEO_REQUEST:"video_request",ACK:"ack",SWITCH_TO_MULTIWAY:"switch_to_multiway",CLIENT_REPORTED_EVENT:"client_reported_event"});f.PayloadType=a;c=Object.freeze({CHILD_WINDOW_READY:"rtc_child_window_ready",CHILD_WINDOW_START_CALL:"rtc_child_window_start_call",CHILD_WINDOW_MESSAGE:"rtc_child_window_message"});f.ChildWindowMessageType=c;d=Object.freeze({DIRECT_VIDEO:"direct_video",ESCALATED:"escalated",ESCALATION_DECLINED:"escalation_declined",VOIP:"voip"});f.CallType=d;e=b("keyMirror")({SCREEN:null,CAMERA:null});f.MediaContentTypes=e;var g=Object.freeze({LL_NIL:0,LL_BASIC:1,LL_DEBUG:2,LL_WARNING:3,LL_INFO:4,LL_VERBOSE:5});f.UploadLogLevel=g;i=Object.freeze({AUDIO_ONLY:"audio_only",AUDIO_VIDEO:"audio_video",SCREEN_CONTENT:"screen"});f.StreamType=i;j=Object.freeze({CUSTOM_VIDEO_STREAM_SIZE:"CUSTOM_VIDEO_STREAM_SIZE",CUSTOM_VIDEO:"CUSTOM_VIDEO",FHD_VIDEO:"FHD_VIDEO",HD_VIDEO:"HD_VIDEO",LQ_VIDEO:"LQ_VIDEO",SD_VIDEO:"SD_VIDEO",HD_IDEAL_LQ_REQUIRED_VIDEO:"HD_IDEAL_LQ_REQUIRED_VIDEO",FHD_IDEAL_LQ_REQUIRED_VIDEO:"FHD_IDEAL_LQ_REQUIRED_VIDEO"});f.VideoQuality=j;a=Object.freeze({FHD_HEIGHT:1080,HD_HEIGHT:720,LQ_HEIGHT:180,SD_HEIGHT:480,FHD_WIDTH:1920,HD_WIDTH:1280,LQ_WIDTH:320,SD_WIDTH:848,VLQ_FRAME_RATE:5,LQ_FRAME_RATE:15,FRAME_RATE:30});f.RTCConstraints=a;c=Object.freeze({UNKNOWN:-1,IGNORE_CALL:0,HANGUP_CALL:1,IN_ANOTHER_CALL:2,ACCEPT_AFTER_HANGUP:3,NO_ANSWER_TIMEOUT:4,INCOMING_TIMEOUT:5,OTHER_INSTANCE_HANDLED:6,SIGNALING_MESSAGE_FAILED:7,CONNECTION_DROPPED:8,CLIENT_INTERRUPTED:9,WEBRTC_ERROR:10,CLIENT_ERROR:11,NO_PERMISSION:12,OTHER_NOT_CAPABLE:13,NO_UI_ERROR:14,UNSUPPORTED_VERSION:15,CALLER_NOT_VISIBLE:16,CARRIER_BLOCKED:17,OTHER_CARRIER_BLOCKED:18,CLIENT_ENCRYPTION_ERROR:19,INACTIVE_TIMEOUT:20,KILLED:21,TX_ACK_TIMEOUT:22});f.CallEndReason=c;var h=["IgnoreCall","HangupCall","InAnotherCall","CallEndAcceptAfterHangUp","NoAnswerTimeout","IncomingTimeout","OtherInstanceHandled","SignalingMessageFailed","ConnectionDropped","ClientInterrupted","WebRTCError","ClientError","NoPermission","OtherNotCapable","NoUIShown","VersionUnsupported","CallerNotVisible","CarrierBlocked","OtherCarrierBlocked","ClientEncryptionError","InactiveTimeout","Killed","TxAckTimeout"];d=Object.freeze({CALL_INITIALIZATION_FAILED:"CollabCallInitializationFailed",CLOSED_AS_STALE:"CollabClosedAsStale",CLOSED_BY_MCU:"CollabClosedByMcu",INVALID_MEETING_ID:"CollabInvalidMeetingId",LOST_MCU_CONNECTION:"CollabLostMcuConnection",LOST_MCU_THRIFT_CONNECTION:"CollabLostMcuThriftConnection",LOST_SIP_ADAPTER_CONNECTION:"CollabLostSipAdapterConnection",MCU_INVALID_STREAM_CONFIGURATION:"CollabMcuInvalidStreamConfiguration",MCU_NO_AUDIO_STREAM:"CollabMcuNoAudioStream",REMOTE_PEER_HANGUP:"CollabRemotePeerHangup",REMOTE_PEER_REJECT:"CollabRemotePeerReject",SIP_CONNECTION_INITIALIZATION_FAILED:"CollabSipConnectionInitializationFailed",AUDIO_ONLY_DISALLOWED:"CollabAudioOnlyDisallowed",UNKNOWN:"CollabUnknown",KILLED_VIA_THRIFT_API:"CollabKilledViaThriftApi"});f.CollabCallEndSubreason=d;e=Object.freeze({TOGGLE_SELF_VIEW:5,SUBMIT_STAR_RATING:6,SUBMIT_FEEDBACK:7,START_CALL:9,OPEN_SCREEN_IN_NEW:10});f.UIEventType=e;i=Object.freeze({ONE_HOUR:"1hour",UNTIL_EIGHT_AM:"8am",ALWAYS:"always"});f.CallBlockingConstants=i;j=b("keyMirror")({AUDIO:null,VIDEO:null});f.IncomingCallDialogTypes=j;a=Object.freeze({CUSTOM:"custom",MULTIWAY:"multiway",P2P:"p2p"});f.SignalingProtocol=a;c=Object.freeze({DOMINANT_SPEAKER:"DOMINANT_SPEAKER",GRID:"GRID"});f.GroupVideoViewLayout=c;d=Object.freeze({LANDSCAPE:"LANDSCAPE",PORTRAIT:"PORTRAIT"});f.Orientation=d;e=Object.freeze({UNKNOWN:0,MEDIA_CONNECTED:1});f.ClientReportedEventType=e;i=Object.freeze({PLAN_B:"plan-b",UNIFIED_PLAN:"unified-plan"});f.SDPSemantics=i;function a(a){switch(a){case g.LL_DEBUG:return"d";case g.LL_BASIC:return"b";case g.LL_WARNING:return"w";case g.LL_INFO:return"i";case g.LL_VERBOSE:return"v";case g.LL_NIL:default:return null}}function c(a){switch(a){case"d":return g.LL_DEBUG;case"b":return g.LL_BASIC;case"w":return g.LL_WARNING;case"i":return g.LL_INFO;case"v":return g.LL_VERBOSE;default:return g.LL_NIL}}function d(a){switch(a){case g.LL_BASIC:return"basic";case g.LL_DEBUG:return"debug";case g.LL_WARNING:return"warning";case g.LL_INFO:return"info";case g.LL_VERBOSE:return"verbose";default:return""}}function e(a){return h.indexOf(a)}function i(a){a=h[a];return!a?"Unknown":a}function j(a,b){return this.callEndReasonString(a)+"_"+(b?"remote":"local")}}),null);
__d("FBRTCSupport",["UserAgent","gkx","qex"],(function(a,b,c,d,e,f){var g={isWebrtcSupported:function(){return b("UserAgent").isBrowser("Chrome >= 28")||b("UserAgent").isBrowser("Firefox >= 25")||b("UserAgent").isBrowser("Edge >= 15.15042")&&b("gkx")("1341692")&&!b("gkx")("1680228")||b("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")||b("UserAgent").isBrowser("Opera >= 20")||g.isSupportedSafariVersion()&&b("gkx")("875718")||b("UserAgent").isBrowser("Oculus Browser >= 6")&&b("gkx")("1188589")||this.isUnifiedEnabledForCallsExperimentation()},isGroupCallWebtrcSupported:function(){return b("UserAgent").isBrowser("Chrome >= 28")||b("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")||b("UserAgent").isBrowser("Opera >= 20")||g.isSupportedSafariVersion()&&b("gkx")("875718")||this.isUnifiedEnabledForCallsExperimentation()},isUnifiedEnabledForCallsExperimentation:function(){return b("qex")._("1265876")||!1},isCollabSupported:function(){return g.isWebrtcSupported()&&(!!b("gkx")("1738376")||b("UserAgent").isBrowser("Chrome >= "+65))},canUseUnifiedPlan:function(a){var c=b("UserAgent").isBrowser("Chrome >= 73")||b("UserAgent").isBrowser("Safari >= 12.2");if(a)return c;a=b("gkx")("919244")&&c;return a||b("UserAgent").isBrowser("Mobile Safari >= 12.1.1")},isSupportedSafariVersion:function(){return b("UserAgent").isBrowser("Safari >= 12.1")||b("UserAgent").isBrowser("Mobile Safari >= 12.1")},isMobileDevice:function(){return b("UserAgent").isPlatform("Android")||b("UserAgent").isPlatform("iOS")},isVideoFilterEffectSupported:function(){return!g.isMobileDevice()&&(b("UserAgent").isBrowser("Chrome >= 51")||b("UserAgent").isBrowser("Opera >= 36"))},videoEscalationByUnmuteWorkaround:function(){return b("UserAgent").isBrowser("Firefox < 60")||b("UserAgent").isBrowser("Edge")},isChromiumBased:function(){return b("UserAgent").isBrowser("Chrome")||b("UserAgent").isBrowser("Opera")||b("UserAgent").isBrowser("Edge (Chromium Based) >= 74.1")}};e.exports=g}),null);
__d("ScotchRTWebLoggingSharedInstance",["ChannelClientID"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=b("ChannelClientID").getID()}var c=a.prototype;c.getDeviceID=function(){return this.$1};return a}();c=new a();e.exports=c}),null);
__d("ScotchRTWebUserActionLogger",["CurrentUser","FBRTCConsoleLogger","FBRTCSupport","RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ScotchRTWebLoggingSharedInstance","ZenonSDESKeyDetector","immutable","performanceNow","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g;a=function(){function a(){this.$1={callID:void 0,callType:void 0,mediaType:void 0,conferenceName:void 0,conferenceState:void 0},this.$2=b("immutable").Map(),this.$3=new Set(),this.$4=new Set(),this.$5=b("ScotchRTWebLoggingSharedInstance").getDeviceID(),this.$6=this.$7(),this.clearCache()}var c=a.prototype;c.clearCache=function(){this.$1={callID:void 0,callType:void 0,mediaType:void 0,conferenceName:void 0,conferenceState:void 0}};c.logImpression=function(a){this.logEvent(babelHelpers["extends"]({eventName:"impression"},a))};c.logPreCallImpression=function(a){this.clearCache(),this.logImpression(a)};c.logPreCallClick=function(a){this.clearCache(),this.logClick(a)};c.logClick=function(a){this.logEvent(babelHelpers["extends"]({eventName:"tap"},a))};c.logError=function(a){this.logEvent(babelHelpers["extends"]({eventName:"error"},a))};c.startTimer=function(a){var c=(g||(g=b("performanceNow")))();this.$2=this.$2.set(a,c);this.logCheckpoint({checkpoint:a+"_timerStart"});this.$8(a,{startTime:c})};c.logStopTimer=function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{};c.timeElapsed=this.$9(a.timerName);this.logCheckpoint(babelHelpers["extends"]({checkpoint:b+"_timerEnd"},c));return c.timeElapsed};c.logCheckpoint=function(a,b){this.logEvent(babelHelpers["extends"]({eventName:"checkpoint"},a),b)};c.$10=function(a){return a===null||a===void 0};c.logEvent=function(a,c){if(b("ZenonSDESKeyDetector")(a))throw b("unrecoverableViolation")("ScotchRTWebUserAction event contains SDES crypto key! This log entry must be removed!","rtc_www");var d=this.$1;d.callID=this.$10(a.callID)?d.callID:a.callID;d.callType=a.callType||d.callType;d.conferenceState=a.conferenceState||d.conferenceState;d.conferenceName=this.$10(a.conferenceName)?d.conferenceName:a.conferenceName;d.isCaller=a.isCaller==null?d.isCaller:a.isCaller;d.mediaType=a.mediaType||d.mediaType;this.$11(a,d);d=this.$12(a,d);(c==null?void 0:c.noConsole)!==!0&&this.$8(a.eventName,d)};c.$12=function(a,c){var d,e={call_type:c.callType,client_time:Date.now().toString(),device_id:this.$5,error_domain:a.errorDomain,error_type:a.errorType,component:a.component,conference_state:c.conferenceState,event:a.eventName,media_type:c.mediaType,page:this.$6,call_id:c.callID,conference_name:c.conferenceName,surface:a.surface,checkpoint:a.checkpoint,event_time_elapsed:(d=a.timeElapsed)==null?void 0:d.toString(),is_caller:c.isCaller,codebase_version:"Scotch",state_machine_id:a.stateMachineID};b("RtcWebUserActionsFalcoEvent").log(function(){return e});return e};c.$11=function(a,c){var d,e={call_type:c.callType,client_time:Date.now().toString(),device_id:this.$5,error_domain:a.errorDomain,error_type:a.errorType,component:a.component,conference_state:c.conferenceState,event:a.eventName,media_type:c.mediaType,page:this.$6,call_id:c.callID,conference_name:c.conferenceName,surface:a.surface,checkpoint:a.checkpoint,event_time_elapsed:(d=a.timeElapsed)==null?void 0:d.toString(),is_caller:c.isCaller,codebase_version:"Scotch",state_machine_id:a.stateMachineID};b("RtcWebUserActionsDebugFalcoEvent").log(function(){return e});return e};c.getCallType=function(a,b){b===void 0&&(b=!1);if(a===null||a===void 0)return null;if(a)return"mw";else if(b)return"escalated";else return"p2p"};c.getAudioVideoComponent=function(a){return a===null||a===void 0?null:a?"audio_button":"video_button"};c.getMediaType=function(a,b){b===void 0&&(b=!1);if(b)return"escalated";else if(a)return"audio";else return"video"};c.logErrorOnceforDomain=function(a,b){this.$3.has(a)||(this.$3.add(a),this.logError({errorDomain:a,errorType:b.toString()}))};c.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$4.has(b)||(this.$4.add(b),this.logCheckpoint(a))};c.clearLoggedDomains=function(){this.$3.clear(),this.$4.clear()};c.getWebLoggerInfoFromStore=function(a){a=a.callInfo;var b=a.callID,c=a.conferenceName;a=a.conferenceState;return{callID:b,conferenceName:c,conferenceState:a}};c.$7=function(){if(b("FBRTCSupport").isMobileDevice())return"mweb";else if(b("CurrentUser").isWorkUser())return"workplace";var a=window.location.hostname;if(a.search("facebook")!==-1)return"facebook";else if(a.search("messenger")!==-1)return"messenger_dot_com";return a};c.$9=function(a){var c=this.$2.get(a);if(c){this.$2=this.$2.remove(a);return parseInt((g||(g=b("performanceNow")))()-c,10)}return null};c.$8=function(a,c){a=a==null?"null":a;b("FBRTCConsoleLogger").getInstance().getLogHistory().log(a,JSON.stringify(c))};return a}();c=new a();e.exports=c}),null);
__d("ZenonUsers",["Promise","MercuryIDs","MessengerParticipants.re","immutable","isStringNullOrEmpty","memoizeWithArgs","nullthrows","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";f.getMulti=a;f.getMultiEager=c;f.get=d;f.getNow=e;var g=b("$InternalEnum").Mirrored(["Guest","User","Page"]);f.ZenonUserType=g;var h=b("memoizeWithArgs")(function(a){var b=a.big_image_src,c=a.fbid,d=a.gender,e=a.href,f=a.image_src,g=a.name,h=a.short_name,j=a.user_type;a=a.vanity;return Object.freeze({gender:d,id:c,name:g,profilePictureUrl:(c=(d=b)!=null?d:f)!=null?c:null,profileUrl:(g=e)!=null?g:null,shortName:h,userType:i(j),vanity:(b=a)!=null?b:null})},function(a){a=a.fbid;return a}),i=function(a){a=a;if(a==="guest")return g.Guest;else if(a==="page")return g.Page;return g.User},j=function(a){var c=a[0];a=a[1];return[b("nullthrows")(b("MercuryIDs").getUserIDFromParticipantID(c)),h(a)]};function a(a){return new(b("Promise"))(function(c){var d=a.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)});b("MessengerParticipants.re").getMulti(d,function(a){c(b("immutable").Map(a).mapEntries(j))})})}function c(a){a=a.map(function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)});var c=null,d=null;a=b("MessengerParticipants.re").getMultiEagerMap(a,function(a){a=a.mapEntries(j);c?c(a):d=a});var e=a[0];a=a[1];return[e.mapEntries(j),a!=null?new(b("Promise"))(function(a){d?a(d):c=a}):null]}function d(a){return b("isStringNullOrEmpty")(a)?b("Promise").resolve(null):new(b("Promise"))(function(c){b("MessengerParticipants.re").get(b("MercuryIDs").getParticipantIDFromUserID(a),function(a){c(a?h(a):null)})})}function e(a){if(b("isStringNullOrEmpty")(a))return null;a=b("MessengerParticipants.re").getNow(b("MercuryIDs").getParticipantIDFromUserID(a));return a?h(a):null}}),null);
__d("ZenonUsersHooks",["React","ZenonUsers","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";f.useZenonUsers=a;f.useZenonUser=c;var g=b("React");function a(a){var c=g.useRef(a),d=g.useState(b("immutable").Map()),e=d[0],f=d[1];g.useEffect(function(){return function(){c.current=null}},[]);g.useLayoutEffect(function(){c.current=a;var d=b("ZenonUsers").getMultiEager(a),e=d[0];d=d[1];f(e);d&&b("promiseDone")(d,function(a){var b=c.current;b&&f(function(c){return c.withMutations(function(c){b.forEach(function(b){var d=a.get(b);d&&c.set(b,d)})})})})},[a]);g.useDebugValue(e);return e}function c(a){var c=g.useRef(a),d=g.useState(function(){return b("ZenonUsers").getNow(a)}),e=d[0],f=d[1];g.useEffect(function(){c.current=a},[a]);g.useEffect(function(){return function(){c.current=null}},[]);g.useLayoutEffect(function(){var d=b("ZenonUsers").getNow(a);if(d!==e){f(d);return}b("promiseDone")(b("ZenonUsers").get(a),function(b){c.current===a&&f(b)})},[a,e]);g.useDebugValue(e);return e}}),null);
__d("ZenonIncomingRingSDKTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Hangup","OtherDismiss"]);f.ZenonCancelReason=a}),null);
__d("fbwebrtc_ClientStack",[],(function(a,b,c,d,e,f){a=Object.freeze({OLD_CLIENT_PLATFORM_STACK:0,RSYS_X:1,IG_OLD_STACK:2,MLITE_OLD_STACK:3,SCOTCH:4,ZENON:5});e.exports=a}),null);
__d("multiway_ApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({DENIED:0,APPROVED:1});e.exports=a}),null);
__d("multiway_Capability",[],(function(a,b,c,d,e,f){a=Object.freeze({SUPPORT_AUDIO_DEPRECATED:0,SUPPORT_VIDEO_DEPRECATED:1,SUPPORT_EXPERIMENTS_IN_JOIN_RESPONSE:2,SUPPORT_NEW_PARTICIPANT_STATES:3,SUPPORT_SDP_RENEGOTIATION:4,SUPPORT_MWPP:5,REQUIRE_FULL_SDP_IN_SMU:6,SUPPORT_PRECONNECT:7,SUPPORT_MWPP_DEESCALATION:8,SUPPORT_PARTICIPANT_STATE_UNCALLABLE:9,SUPPORT_MULTIPLE_VIDEO_STREAMS:10});e.exports=a}),null);
__d("multiway_ClientEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,MEDIA_CONNECTED:1});e.exports=a}),null);
__d("multiway_DeviceStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:0,NOT_SUPPORTED:1,IN_ANOTHER_CALL:10});e.exports=a}),null);
__d("multiway_DismissReason",[],(function(a,b,c,d,e,f){a=Object.freeze({CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,CALL_ENDED_BY_PRODUCT:9,JOIN_APPROVAL_DENIED:10,JOIN_APPROVAL_TIMEDOUT:11,UNSUPPORTED_VERSION:12,LIVE_NOT_ACKED:13,TX_ACK_TIMEDOUT:14});e.exports=a}),null);
__d("multiway_EndpointServiceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,COMPOSITING_SERVICE:1});e.exports=a}),null);
__d("multiway_HangupReason",[],(function(a,b,c,d,e,f){a=Object.freeze({IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5,SESSION_MIGRATED:6});e.exports=a}),null);
__d("multiway_MediaPauseStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NotPaused:0,Paused:1});e.exports=a}),null);
__d("multiway_MessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,PING:18,P2P_PROTOCOL:19,UPDATE:20,NOTIFY:21,CONNECT:22,CLIENT_EVENT:23,UNSUBSCRIBE:25,APPROVAL:26});e.exports=a}),null);
__d("multiway_ParticipantCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12,PENDING_APPROVAL:13,APPROVED:14,FAILED_APPROVAL:15,HANGUP_IN_WAITING_ROOM:16,UNCALLABLE:17});e.exports=a}),null);
__d("multiway_RingType",[],(function(a,b,c,d,e,f){a=Object.freeze({GROUP_AUDIO_CALL:0,PEER_VIDEO_CALL:1,PEER_AUDIO_CALL:2,GROUP_VIDEO_CALL:3,LIVE_STREAM:4,PEER_ESCALATED_VIDEO_CALL:5,PEER_ESCALATED_AUDIO_CALL:6});e.exports=a}),null);
__d("multiway_RtcResponseStatusCode",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,METHOD_NOT_ALLOWED:406,CONFLICT:409,CONDITIONAL_REQUEST_FAILED:412,SERVER_INTERNAL_ERROR:500,SERVICE_UNAVAILABLE:503});e.exports=a}),null);
__d("multiway_RtcResponseSubCode",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:1e3,EXCEEDED_MAX_ALLOWED_PARTICIPANTS:1001,MEMBERSHIP_CHECK_FAIL:1002,CONFERENCE_THROTTLED:1003,ENDPOINT_THROTTLED:1004,MWS_MESSAGE_SENT_TO_INCORRECT_REGION:1005,UNSUPPORTED_REQUEST_TYPE:2e3,CLIENT_REQUEST_UNACCEPTABLE:2001,CLIENT_RESPONSE_UNACCEPTABLE:2002,RING_RESPONSE_BODY_NOT_SET:2004,SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET:2005,INVALID_SDP:2006,INVALID_CONFERENCE_NAME:2007,SERVER_INFO_CONFERENCE_NAME_MISMATCH:2008,INVALID_USER_ID:2009,INCORRECT_VERSION_RANGE:2010,SENDER_ID_MISMATCH:2011,RECIPIENT_NOT_SPECIFIED:2012,FIELD_NOT_ALLOWED:2013,USERS_NOT_SPECIFIED:2015,REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE:2016,INVALID_CALL_ID:2017,SESSION_DESCRIPTION_ID_MISMATCH:2018,EMPTY_CLIENT_MEDIA_UPDATES:2019,INVALID_SERVER_INFO_DATA:2020,INCORRECT_STATE_VERSION:2021,MISMATCHED_STATE_FOR_VERSION:2022,INVALID_STATE_VERSION:2023,NO_RESOLVER_FOUND:2024,MISSING_APPROVERLIST:2025,FULL_SDP_REQUIRED_IN_APPROVED_STATE:2026,INVALID_BROADCAST_ID:2027,INVALID_ENDPOINT_CONFIG:2028,MISSING_BODY_ENDPOINT:2101,MISSING_BODY_HEADER:2102,MISSING_BODY_BODY:2103,MISSING_BODY_PARAMS:2104,MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST:2105,MISSING_BODY_DATA_MESSAGE_REQUEST:2106,MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST:2107,MISSING_BODY_ADD_PARTICIPANTS_REQUEST:2108,MISSING_BODY_SUBSCRIPTION_REQUEST:2110,MISSING_BODY_JOIN_REQUEST:2111,MISSING_BODY_HANGUP_REQUEST:2112,MISSING_BODY_ICE_CANDIDATE_REQUEST:2113,MISSING_BODY_P2P_MESSAGE_REQUEST:2114,MISSING_BODY_UPDATE_REQUEST:2115,MISSING_BODY_CLIENT_EVENT_REQUEST:2116,MISSING_BODY_CONNECT_REQUEST:2117,MISSING_BODY_UNSUBSCRIBE_REQUEST:2118,MISSING_BODY_APPROVAL_REQUEST:2119,MISSING_BODY_GENERIC:2199,REQUESTOR_NOT_MEMBER_CONFERENCE:3002,NOT_BROADCAST_OWNER:3003,GUEST_NOT_INVITED:3004,GUEST_DISCONNECTED:3005,GUEST_INVITATION_EXPIRED:3006,SHOULD_USE_NEW_SIGNALING_PATH:3007,PARTICIPANT_IN_PENDING_APPROVAL_STATE:3008,BROADCAST_ALREADY_STOPPED:4002,FAILED_TO_GENERATE_SDP_ANSWER:4003,FAILED_GENERATE_SESSION_DESCRIPTION:4004,SDP_SESSION_ID_MISMATCH:4005,MEDIA_ENDPOINT_GONE:4007,MEDIA_ENDPOINT_ALREADY_EXISTS:4008,MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID:4009,LEGACY_MESSENGER_SENDER_UNSET:4010,FAILED_TO_SET_TRANSPORT_INFO:4011,NON_PRIMARY_MULTIWAY_SERVER:4012,FAILED_TO_GET_REMOTE_DESCRIPTION:4013,LOCAL_DESCRIPTION_NOT_SET:4014,INVALID_SDP_TYPE:4015,CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO:4016,SDP_UNSET_ON_P2P_ANSWER:4017,MISSING_ICE_CANDIDATE_PAYLOAD:4018,P2P_PROTOCOL_UNSET:4019,CREATE_ACK_FOR_INVALID_MESSAGE_TYPE:4020,LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE:4021,CONNECT_UNSUPPORTED_IN_SFU_MODE:4022,CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS:4023,RESOLVE_STATE_API_ERROR:4024,EXTERNAL_RESOLUTION_ERROR:4025,INTERNAL_RESOLUTION_ERROR:4026,RESOLUTION_DISABLED:4027,BROADCAST_ID_MISSING:4028,SDP_UNSET_ON_P2P_OFFER:4029,CONFERENCE_NOT_FOUND:5001,CONFERENCE_IS_TERMINATING:5002,CONFERENCE_IS_TERMINATED:5003,CONFERENCE_NAME_EMPTY:5004,NONCE_EMPTY:5005,NONCE_MISMATCH:5006,CONFERENCE_HAS_GONE:5007,PARTICIPANT_HAS_GONE:5008,MEDIA_SERVER_NOT_FOUND:5009,MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE:6001,CONFERENCE_INCAPABLE_RENEGOTIATION:6002,REJECTING_CMU_WHEN_SMU_PENDING:6003,PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC:6004,PARTICIPANT_ALREADY_IN_WAITING_ROOM:6005,PARTICIPANT_NOT_IN_PENDING_APPROVAL:6006,USER_NOT_APPROVER_FOR_TARGET_USER:6007,UNSUPPORTED_CAPABILITIES:6008,OK:9e3});e.exports=a}),null);
__d("multiway_VideoQuality",[],(function(a,b,c,d,e,f){a=Object.freeze({LOW:0,MEDIUM:1,HIGH:2,HD:3,NUM_QUALITIES:4});e.exports=a}),null);
__d("ZenonMWMessageTypes",["$InternalEnum","multiway_ApprovalStatus","multiway_Capability","fbwebrtc_ClientStack","multiway_DeviceStatus","multiway_DismissReason","multiway_EndpointServiceType","multiway_HangupReason","multiway_MediaPauseStatus","multiway_ParticipantCallState","multiway_RingType","multiway_RtcResponseStatusCode","multiway_RtcResponseSubCode","multiway_MessageType","multiway_VideoQuality","multiway_ClientEventType"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({DEFAULT_AUDIO:0,DEFAULT_VIDEO:1,SCREEN_AUDIO:2,SCREEN_VIDEO:3});e.exports={ZenonMWApprovalStatus:b("multiway_ApprovalStatus"),ZenonMWCapability:b("multiway_Capability"),ZenonMWClientEventType:b("multiway_ClientEventType"),ZenonMWClientStack:b("fbwebrtc_ClientStack"),ZenonMWDeviceStatus:b("multiway_DeviceStatus"),ZenonMWDismissReason:b("multiway_DismissReason"),ZenonMWEndpointServiceType:b("multiway_EndpointServiceType"),ZenonMWHangupReason:b("multiway_HangupReason"),ZenonMWMediaPauseStatus:b("multiway_MediaPauseStatus"),ZenonMWParticipantCallState:b("multiway_ParticipantCallState"),ZenonMWResponseStatusCode:b("multiway_RtcResponseStatusCode"),ZenonMWResponseSubCode:b("multiway_RtcResponseSubCode"),ZenonMWRingType:b("multiway_RingType"),ZenonMWSignalingPayloadType:b("multiway_MessageType"),ZenonMWTrackLabel:a,ZenonMWVideoQuality:b("multiway_VideoQuality")}}),null);
__d("ZenonMediaError",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["IceDisconnected","IceFailure","SetLocalSdpFailed","SetRemoteSdpFailed","UnknownError"]);f.ZenonMediaError=a}),null);
__d("ZenonDismissReason",["FBLogger","ZenonCallsModelTypes","ZenonIncomingRingSDKTypes","ZenonMediaError","ZenonMWMessageTypes","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";f.endCallToDismissReason=a;f.dismissToEndCallReason=c;f.dismissReasonToCancelReason=d;f.mediaErrorToDismissReason=e;f.mwDismissToDmissReason=h;var g=b("$InternalEnum")({IgnoreCall:0,HangupCall:1,InAnotherCall:2,AcceptAfterHangUp:3,NoAnswerTimeout:4,IncomingTimeout:5,OtherInstanceHandled:6,SignalingMessageFailed:7,ConnectionDropped:8,ClientInterrupted:9,WebRTCError:10,ClientError:11,NoPermission:12,OtherNotCapable:13,NoUIShown:14,VersionUnsupported:15,CallerNotVisible:16,CarrierBlocked:17,OtherCarrierBlocked:18,ClientEncryptionError:19,MicrophonePermissionDenied:20,CameraPermissionDenied:21,SessionMigrated:22,RingMuted:23,JoinApprovalDenied:24,RejectedByCallee:25,CallEndedByProduct:26,CallEnded:27,AnsweredOnAnotherDevice:28,RejectedOnAnotherDevice:29,CallCollision:30,MaxAllowedParticipantsReached:31,UnexpectedEndOfCall:32,TxAckTimeout:33});f.ZenonDismissReason=g;function a(a){switch(a){case b("ZenonCallsModelTypes").ZenonEndCallReason.CallEndAcceptAfterHangUp:return g.AcceptAfterHangUp;case b("ZenonCallsModelTypes").ZenonEndCallReason.CallerNotVisible:return g.CallerNotVisible;case b("ZenonCallsModelTypes").ZenonEndCallReason.CarrierBlocked:return g.CarrierBlocked;case b("ZenonCallsModelTypes").ZenonEndCallReason.ClientEncryptionError:return g.ClientEncryptionError;case b("ZenonCallsModelTypes").ZenonEndCallReason.ClientError:return g.ClientError;case b("ZenonCallsModelTypes").ZenonEndCallReason.ClientInterrupted:return g.ClientInterrupted;case b("ZenonCallsModelTypes").ZenonEndCallReason.ConnectionDropped:return g.ConnectionDropped;case b("ZenonCallsModelTypes").ZenonEndCallReason.HangupCall:return g.HangupCall;case b("ZenonCallsModelTypes").ZenonEndCallReason.IgnoreCall:return g.IgnoreCall;case b("ZenonCallsModelTypes").ZenonEndCallReason.InAnotherCall:return g.InAnotherCall;case b("ZenonCallsModelTypes").ZenonEndCallReason.InactiveTimeout:return g.CallEnded;case b("ZenonCallsModelTypes").ZenonEndCallReason.IncomingTimeout:return g.IncomingTimeout;case b("ZenonCallsModelTypes").ZenonEndCallReason.MaxAllowedParticipantsReached:return g.MaxAllowedParticipantsReached;case b("ZenonCallsModelTypes").ZenonEndCallReason.NoAnswerTimeout:return g.NoAnswerTimeout;case b("ZenonCallsModelTypes").ZenonEndCallReason.NoPermission:return g.NoPermission;case b("ZenonCallsModelTypes").ZenonEndCallReason.NoUIShown:return g.NoUIShown;case b("ZenonCallsModelTypes").ZenonEndCallReason.OtherCarrierBlocked:return g.OtherCarrierBlocked;case b("ZenonCallsModelTypes").ZenonEndCallReason.OtherInstanceHandled:return g.OtherInstanceHandled;case b("ZenonCallsModelTypes").ZenonEndCallReason.OtherNotCapable:return g.OtherNotCapable;case b("ZenonCallsModelTypes").ZenonEndCallReason.SignalingMessageFailed:return g.SignalingMessageFailed;case b("ZenonCallsModelTypes").ZenonEndCallReason.UnexpectedEndOfCall:return g.UnexpectedEndOfCall;case b("ZenonCallsModelTypes").ZenonEndCallReason.Unknown:return g.CallEnded;case b("ZenonCallsModelTypes").ZenonEndCallReason.VersionUnsupported:return g.VersionUnsupported;case b("ZenonCallsModelTypes").ZenonEndCallReason.WebRTCError:return g.WebRTCError;case b("ZenonCallsModelTypes").ZenonEndCallReason.MicrophonePermissionDenied:return g.MicrophonePermissionDenied;case b("ZenonCallsModelTypes").ZenonEndCallReason.CameraPermissionDenied:return g.CameraPermissionDenied;case b("ZenonCallsModelTypes").ZenonEndCallReason.SessionMigrated:return g.SessionMigrated;case b("ZenonCallsModelTypes").ZenonEndCallReason.RingMuted:return g.RingMuted;case b("ZenonCallsModelTypes").ZenonEndCallReason.TxAckTimeout:return g.TxAckTimeout}}function c(a){switch(a){case g.CallEnded:case g.CallEndedByProduct:case g.HangupCall:return b("ZenonCallsModelTypes").ZenonEndCallReason.HangupCall;case g.IgnoreCall:case g.JoinApprovalDenied:case g.RejectedByCallee:return b("ZenonCallsModelTypes").ZenonEndCallReason.IgnoreCall;case g.InAnotherCall:return b("ZenonCallsModelTypes").ZenonEndCallReason.InAnotherCall;case g.AcceptAfterHangUp:return b("ZenonCallsModelTypes").ZenonEndCallReason.CallEndAcceptAfterHangUp;case g.NoAnswerTimeout:return b("ZenonCallsModelTypes").ZenonEndCallReason.NoAnswerTimeout;case g.IncomingTimeout:return b("ZenonCallsModelTypes").ZenonEndCallReason.IncomingTimeout;case g.AnsweredOnAnotherDevice:case g.CallCollision:case g.RejectedOnAnotherDevice:case g.OtherInstanceHandled:return b("ZenonCallsModelTypes").ZenonEndCallReason.OtherInstanceHandled;case g.SignalingMessageFailed:return b("ZenonCallsModelTypes").ZenonEndCallReason.SignalingMessageFailed;case g.ConnectionDropped:return b("ZenonCallsModelTypes").ZenonEndCallReason.ConnectionDropped;case g.ClientInterrupted:return b("ZenonCallsModelTypes").ZenonEndCallReason.ClientInterrupted;case g.WebRTCError:return b("ZenonCallsModelTypes").ZenonEndCallReason.WebRTCError;case g.ClientError:return b("ZenonCallsModelTypes").ZenonEndCallReason.ClientError;case g.NoPermission:return b("ZenonCallsModelTypes").ZenonEndCallReason.NoPermission;case g.OtherNotCapable:return b("ZenonCallsModelTypes").ZenonEndCallReason.OtherNotCapable;case g.NoUIShown:return b("ZenonCallsModelTypes").ZenonEndCallReason.NoUIShown;case g.VersionUnsupported:return b("ZenonCallsModelTypes").ZenonEndCallReason.VersionUnsupported;case g.CallerNotVisible:return b("ZenonCallsModelTypes").ZenonEndCallReason.CallerNotVisible;case g.CarrierBlocked:return b("ZenonCallsModelTypes").ZenonEndCallReason.CarrierBlocked;case g.OtherCarrierBlocked:return b("ZenonCallsModelTypes").ZenonEndCallReason.OtherCarrierBlocked;case g.ClientEncryptionError:return b("ZenonCallsModelTypes").ZenonEndCallReason.ClientEncryptionError;case g.UnexpectedEndOfCall:return b("ZenonCallsModelTypes").ZenonEndCallReason.UnexpectedEndOfCall;case g.MaxAllowedParticipantsReached:return b("ZenonCallsModelTypes").ZenonEndCallReason.MaxAllowedParticipantsReached;case g.MicrophonePermissionDenied:return b("ZenonCallsModelTypes").ZenonEndCallReason.MicrophonePermissionDenied;case g.CameraPermissionDenied:return b("ZenonCallsModelTypes").ZenonEndCallReason.CameraPermissionDenied;case g.SessionMigrated:return b("ZenonCallsModelTypes").ZenonEndCallReason.SessionMigrated;case g.RingMuted:return b("ZenonCallsModelTypes").ZenonEndCallReason.RingMuted;case g.TxAckTimeout:return b("ZenonCallsModelTypes").ZenonEndCallReason.TxAckTimeout}b("FBLogger")("rtc_www").mustfix("Unknown dismiss reason: %s",a);return b("ZenonCallsModelTypes").ZenonEndCallReason.Unknown}function d(a){switch(a){case g.OtherInstanceHandled:case g.AnsweredOnAnotherDevice:case g.RejectedOnAnotherDevice:return b("ZenonIncomingRingSDKTypes").ZenonCancelReason.OtherDismiss;default:return b("ZenonIncomingRingSDKTypes").ZenonCancelReason.Hangup}}function e(a){switch(a){case b("ZenonMediaError").ZenonMediaError.IceDisconnected:return g.ConnectionDropped;case b("ZenonMediaError").ZenonMediaError.IceFailure:case b("ZenonMediaError").ZenonMediaError.SetLocalSdpFailed:case b("ZenonMediaError").ZenonMediaError.SetRemoteSdpFailed:return g.WebRTCError;case b("ZenonMediaError").ZenonMediaError.UnknownError:return g.ClientError}}function h(a){return i[a]}var i=Object.freeze((a={},a[(c=b("ZenonMWMessageTypes")).ZenonMWDismissReason.CALL_ENDED]=g.CallEnded,a[c.ZenonMWDismissReason.ANSWERED_ON_ANOTHER_DEVICE]=g.AnsweredOnAnotherDevice,a[c.ZenonMWDismissReason.IN_ANOTHER_CALL]=g.InAnotherCall,a[c.ZenonMWDismissReason.CONNECTION_DROPPED]=g.ConnectionDropped,a[c.ZenonMWDismissReason.REJECTED_ON_ANOTHER_DEVICE]=g.RejectedOnAnotherDevice,a[c.ZenonMWDismissReason.REJECTED_BY_CALLEE]=g.RejectedByCallee,a[c.ZenonMWDismissReason.CALL_ENDED_BY_PRODUCT]=g.CallEndedByProduct,a[c.ZenonMWDismissReason.INTERNAL_ERROR]=g.SignalingMessageFailed,a[c.ZenonMWDismissReason.REMOVED_BY_PARTICIPANT]=g.HangupCall,a[c.ZenonMWDismissReason.TX_ACK_TIMEDOUT]=g.TxAckTimeout,a))}),null);
__d("ZenonParticipantState",["ZenonCallsModelTypes","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";f.toCallParticipantState=a;var g=b("$InternalEnum")({CONTACTING:6,RINGING:7,PENDING_APPROVAL:14,APPROVED:15,NEGOTIATING:8,CONNECTING:9,CONNECTED:10,UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,PARTICIPANT_LIMIT_REACHED:11,IN_ANOTHER_CALL:12,RING_TYPE_UNSUPPORTED:13,FAILED_APPROVAL:16,HANGUP_IN_WAITING_ROOM:17});f.ZenonParticipantState=g;function a(a){if(a==null)return b("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected;switch(a){case g.CONTACTING:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Contacting;case g.RINGING:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Ringing;case g.NEGOTIATING:case g.CONNECTING:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Connecting;case g.CONNECTED:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Connected;case g.PENDING_APPROVAL:return b("ZenonCallsModelTypes").ZenonCallParticipantState.PendingApproval;case g.APPROVED:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Approved;case g.FAILED_APPROVAL:return b("ZenonCallsModelTypes").ZenonCallParticipantState.FailedApproval;case g.HANGUP_IN_WAITING_ROOM:case g.UNKNOWN:case g.DISCONNECTED:case g.NO_ANSWER:case g.REJECTED:case g.UNREACHABLE:case g.CONNECTION_DROPPED:case g.PARTICIPANT_LIMIT_REACHED:case g.IN_ANOTHER_CALL:case g.RING_TYPE_UNSUPPORTED:return b("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}return b("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}}),null);
__d("ZenonMWMessageMap",["ZenonMWMessageTypes"],(function(a,b,c,d,e,f){"use strict";d=Object.freeze((a={},a[(c=b("ZenonMWMessageTypes")).ZenonMWSignalingPayloadType.JOIN]="JOIN",a[c.ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE]="SERVER_MEDIA_UPDATE",a[c.ZenonMWSignalingPayloadType.ICE_CANDIDATE]="ICE_CANDIDATE",a[c.ZenonMWSignalingPayloadType.HANGUP]="HANGUP",a[c.ZenonMWSignalingPayloadType.RING]="RING",a[c.ZenonMWSignalingPayloadType.DISMISS]="DISMISS",a[c.ZenonMWSignalingPayloadType.CONFERENCE_STATE]="CONFERENCE_STATE",a[c.ZenonMWSignalingPayloadType.ADD_PARTICIPANTS]="ADD_PARTICIPANTS",a[c.ZenonMWSignalingPayloadType.SUBSCRIPTION]="SUBSCRIPTION",a[c.ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE]="CLIENT_MEDIA_UPDATE",a[c.ZenonMWSignalingPayloadType.DATA_MESSAGE]="DATA_MESSAGE",a[c.ZenonMWSignalingPayloadType.REMOVE_PARTICIPANTS]="REMOVE_PARTICIPANTS",a[c.ZenonMWSignalingPayloadType.PING]="PING",a[c.ZenonMWSignalingPayloadType.P2P_PROTOCOL]="P2P_PROTOCOL",a[c.ZenonMWSignalingPayloadType.NOTIFY]="NOTIFY",a[c.ZenonMWSignalingPayloadType.CONNECT]="CONNECT",a[c.ZenonMWSignalingPayloadType.CLIENT_EVENT]="CLIENT_EVENT",a[c.ZenonMWSignalingPayloadType.UNSUBSCRIBE]="UNSUBSCRIBE",a[c.ZenonMWSignalingPayloadType.UPDATE]="UPDATE",a[c.ZenonMWSignalingPayloadType.APPROVAL]="APPROVAL",a));f=d;e.exports=f}),null);
__d("ZenonDebugLogger",["ChannelClientID","CurrentUser","FacebookAppIDs","Log","LogHistory","ODS","P2PReliabilityTypedLogger","RtcInfraReliabilityFalcoEvent","ScotchRTWebUserActionLogger","UserAgentData","ZenonMWMessageMap","ZenonMWMessageTypes","formatDate","gkx","recoverableViolation","requireCond","cr:1577681","cr:1577682","cr:1577683","$InternalEnum"],(function(a,b,c,d,e,f){"use strict";var g=null,h=b("cr:1577683")?{ConnectionStateMachine:b("cr:1577683").CONNECTION_STATE_MACHINE,ParentSignalingClient:b("cr:1577683").PARENT_SIGNALING_CLIENT,PeerConnectionStateMachine:b("cr:1577683").PEER_CONNECTION_STATE_MACHINE,SignalingStateMachine:b("cr:1577683").SIGNALING_STATE_MACHINE}:{},i=b("$InternalEnum").Mirrored(["RECEIVED_REQUEST","RECEIVED_RESPONSE","PROCESSED_REQUEST","PROCESSED_RESPONSE","START_PROCESSING_RESPONSE","SENDING_REQUEST","SENDING_RESPONSE","SENT_REQUEST_FROM_HANDLER","SENT_REQUEST","SENT_RESPONSE","SEND_REQUEST_FAILED_FROM_HANDLER","SEND_REQUEST_FAILED","SEND_RESPONSE_FAILED"]),j=b("$InternalEnum").Mirrored(["CLIENT_RECEIVED_MESSAGE","CLIENT_PROCESSED_MESSAGE"]);a=function(){a.getInstance=function(){g||(g=new a());return g};function a(){var a;this.$1=b("LogHistory").getInstance("webrtc");this.$2=b("ChannelClientID").getID();this.$3=JSON.stringify({browser:(a=b("UserAgentData")).browserName,browser_version:a.browserFullVersion,device:a.deviceName,msg_source:"web",os:a.platformName,os_version:a.platformFullVersion,version:2});this.$4=b("FacebookAppIDs").MQTT_WEB}var c=a.prototype;c.$5=function(a){var c=b("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",c+" "+a);b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"[ZP] "+a},{noConsole:!0})};c.$6=function(a,c){var d=b("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",d+" "+a+". StateMachineID:  "+((d=c)!=null?d:""));b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"[ZP] "+a,stateMachineID:c},{noConsole:!0})};c.$7=function(a,c,d,e){e===void 0&&(e=0);a=h[a];if(!a||!b("cr:1577682")||!b("cr:1577681"))return;d==="terminated"?b("cr:1577682").markerEnd(a,b("cr:1577681").SUCCESS,e):b("cr:1577682").markerPoint(a,c,{data:{string:{data:d}},instanceKey:e})};c.$8=function(a){return isNaN(+a)?0:+a};c.$9=function(a){a=a.jsonPayload.header;return a.responseStatusCode!=null};c.$10=function(a,c){var d=this,e=c.endpoint,f=c.jsonPayload.header;b("RtcInfraReliabilityFalcoEvent").log(function(){return{client_session_id:f.clientSessionId,conference_name:f.conferenceName,event_name:a,message_type:b("ZenonMWMessageMap")[f.type],retry_count:f.retryCount,server_info_data:f.serverInfoData,tc:Date.now(),transaction_id:f.transactionId,version:"1",web_app_id:+e.appId,web_device_id:d.$2}})};c.$11=function(a){return new(b("P2PReliabilityTypedLogger"))().setServiceName("WEB_CLIENT").setExtra(this.$3).setDeviceID(this.$2).setAppID(this.$4.toString()).setReceiverID(b("CurrentUser").getID()).setCallID(a.call_id).setMsgID(a.id).setSenderID(a.from).setMsgType(a.type.toUpperCase()||a.msg_type.toUpperCase()).setRawTime(Date.now())};c.logStateMachine=function(a,c,d,e){if(!b("gkx")("678680")&&!b("gkx")("1782661"))return;var f="["+a+"] [Current State: "+c+"] Processing event: "+d;this.$6(f,e);this.$7(a,d,c,this.$8(e))};c.logStateMachineTransition=function(a,c,d,e,f,g,h){if(f==="xstate.init"||d==="terminated"||d==="terminating")return;if(!b("gkx")("678680")&&!b("gkx")("1782661"))return;g!=null&&g.length===1&&g[0].type==="defer"?g="["+a+"] [[DEFERRED] "+f+" did not trigger transition. Current state remains "+d:d!==e?g="["+a+"] [[PROCESSED] "+f+" caused transition from "+(e||"")+" to "+d+".":c?g="["+a+"] [[PROCESSED] "+f+" did not trigger transition. Current state remains "+d:g="["+a+"] [[DROPPED] Possible error. "+f+" did not trigger transition. Current state remains "+d;this.$6(g,h)};c.logGuardsResults=function(a,c){if(b("gkx")("1439080")){a="[GUARD] "+a+". Passed: "+c.toString();this.$5(a)}};c.logMWMessage=function(a,c){if(c.jsonPayload==null)return;var d=c.jsonPayload.header,e=b("ZenonMWMessageMap")[d.type];a="[ms] "+a+" "+e+" [messageID: "+d.transactionId+" retryCount: "+d.retryCount+"]";this.$5(a);this.logMWMessageDetails(c)};c.startQPL=function(a,c){c===void 0&&(c=0),b("cr:1577682")&&b("cr:1577682").markerStart(a,this.$8(c))};c.endQPL=function(a,c){c===void 0&&(c=0),b("cr:1577682")&&b("cr:1577681")&&b("cr:1577682").markerEnd(a,b("cr:1577681").SUCCESS,this.$8(c))};c.logMWMessageDetails=function(a){if(a.jsonPayload==null){b("recoverableViolation")("Should never call logMWMessageDetails with a null jsonPayload message","rtc_www");return}var c=a.jsonPayload,d=c.body;c=c.header;var e=b("ZenonMWMessageMap")[c.type],f="";switch(c.type){case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:if(this.$9(a)){var g;f="[md] "+e+" resp [statusCode: "+((g=c.responseStatusCode)!=null?g:"")+" currentVersion: "+((g=(g=d.serverMediaUpdateResponse)==null?void 0:g.currentVersion)!=null?g:"")+"]";break}f="[md] "+e+" req [fromVersion: "+((g=(g=d.serverMediaUpdateRequest)==null?void 0:g.fromVersion)!=null?g:"")+" toVersion: "+((g=(g=d.serverMediaUpdateRequest)==null?void 0:g.toVersion)!=null?g:"")+"]";break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:if(this.$9(a)){f="[md] "+e+" resp [statusCode: "+((g=c.responseStatusCode)!=null?g:"")+" currentVersion: "+((g=(c=d.clientMediaUpdateResponse)==null?void 0:c.currentVersion)!=null?g:"")+"]";break}f="[md] "+e+" req [fromVersion: "+((g=(c=d.clientMediaUpdateRequest)==null?void 0:c.fromVersion)!=null?g:"")+" toVersion: "+((g=(c=d.clientMediaUpdateRequest)==null?void 0:c.toVersion)!=null?g:"")+"]";break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION:if(this.$9(a))return;f="[md] "+e+" req [subscriptions: "+JSON.stringify((g=(c=d.subscriptionRequest)==null?void 0:c.subscriptions)!=null?g:"")+"]";break;default:return}this.$5(f)};c.logConsole=function(a){this.$5(a)};c.logMQTTStateChange=function(a){b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"[ZP] onMQTTStateChanged: "+a+", document.visibility: "+document.visibilityState+", document.hasFocus: "+String(document.hasFocus())+", navigator.onLine: "+String(navigator.onLine)})};c.logMQTTConnectStats=function(a,c){b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"[ZP] MQTT Connection time: "+String(a)+"ms, Retry Count: "+String(c)})};c.logReceivingMultiwayMessage=function(a){this.$9(a)?this.$10(i.RECEIVED_RESPONSE,a):this.$10(i.RECEIVED_REQUEST,a)};c.logMultiwayResponseStartProcessing=function(a){this.$10(i.START_PROCESSING_RESPONSE,a)};c.logProcessingMultiwayMessage=function(a){this.$9(a)?this.$10(i.PROCESSED_RESPONSE,a):this.$10(i.PROCESSED_REQUEST,a)};c.logSendingMultiwayMessage=function(a){this.$9(a)?this.$10(i.SENDING_RESPONSE,a):this.$10(i.SENDING_REQUEST,a)};c.logSentMultiwayMessage=function(a){this.$9(a)?this.$10(i.SENT_RESPONSE,a):this.$10(i.SENT_REQUEST,a)};c.logSentMultiwayMessageFromHandler=function(a){this.$10(i.SENT_REQUEST_FROM_HANDLER,a)};c.logSendMultiwayMessageFailed=function(a){this.$9(a)?this.$10(i.SEND_RESPONSE_FAILED,a):this.$10(i.SEND_REQUEST_FAILED,a)};c.logSendMultiwayMessageFailure=function(a){b("ODS").bumpEntityKey(4083,"zenon_multiway","send_message_failure"),b("ODS").flush(),b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"Failed to send MW message, error: "+a})};c.logSendMultiwayMessageFailedFromErrorHandler=function(a){this.$10(i.SEND_REQUEST_FAILED_FROM_HANDLER,a)};c.logP2PMessageReceived=function(a){this.$11(a).setEventName(j.CLIENT_RECEIVED_MESSAGE).log()};c.logP2PMessageProcessed=function(a){this.$11(a).setEventName(j.CLIENT_PROCESSED_MESSAGE).log()};return a}();e.exports=a}),null);
__d("ZenonSignalingMessage",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getHeader=function(){return this.$1};b.getEvents=function(){return this.$2};b.setSignalingID=function(a){this.$1.signalingID=a};b.setRetryCount=function(a){this.$1.retryCount=a};return a}();e.exports=a}),null);
__d("ZenonSignalingTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({PLAN_B:"plan-b",UNIFIED_PLAN:"unified-plan"});f.ZenonSdpFormat=a;c={OK:0,REJECTED_FROM_VERSION_DOES_NOT_MATCH:1};f.ZenonRemoteSdpResponseStatus=c}),null);
__d("MessengerCowatchConfig",["qex"],(function(a,b,c,d,e,f){"use strict";f.hasZenonCowatchCapability=a;f.hasZenonGroupCowatchCapability=c;function a(){var a;return(a=b("qex")._("1732570"))!=null?a:!1}function c(){var a;return(a=b("qex")._("1732570"))!=null?a:!1}}),null);
__d("ZenonMWTranslatorUtils",["ChannelClientID","CurrentUser","FacebookAppIDs","ScotchRTWebUserActionLogger","ZenonDismissReason","ZenonMWMessageTypes","ZenonParticipantState","ZenonSignalingTypes","gkx","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g={addDevTierOverridesToHeaderExtensions:function(a){var c={multiwayCoreTier:"",multiwayWwwTier:""};if(!b("gkx")("678350"))return c;c.multiwayWwwTier=g.getSandboxingTierFromURIOrEmpty(a,"multiway_www_tier");c.multiwayCoreTier=g.getSandboxingTierFromURIOrEmpty(a,"multiway_core_tier");return c},createMWMessage:function(a,c){var d={appId:g.getMWAppID(),deviceId:b("ChannelClientID").getID(),userId:b("CurrentUser").getID()};return{endpoint:d,jsonPayload:{body:c,header:a}}},fromMWDismissReason:function(a){a=b("ZenonDismissReason").mwDismissToDmissReason(a);return(a=a)!=null?a:b("ZenonDismissReason").ZenonDismissReason.CallEnded},fromMWJoinResponseStatusToDismissReason:function(a,c){if(c===b("ZenonMWMessageTypes").ZenonMWResponseSubCode.EXCEEDED_MAX_ALLOWED_PARTICIPANTS)return b("ZenonDismissReason").ZenonDismissReason.MaxAllowedParticipantsReached;switch(a){case b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.METHOD_NOT_ALLOWED:case b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.UNAUTHORIZED:return b("ZenonDismissReason").ZenonDismissReason.NoPermission;case b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.SERVICE_UNAVAILABLE:return b("ZenonDismissReason").ZenonDismissReason.SignalingMessageFailed;case b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK:throw b("unrecoverableViolation")("Response status code is OK; should not return a dismiss reason","rtc_www");default:b("ScotchRTWebUserActionLogger").logError({callType:"mw",checkpoint:"[ZP] Got unexpected JOIN response status, dismissing as ClientError: "+a+" subcode "+((a=c)!=null?a:"[undefined]"),errorDomain:"ZenonMWTranslatorUtils.fromMWJoinResponseStatusToDismissReason"});return b("ZenonDismissReason").ZenonDismissReason.ClientError}},fromMWParticipantState:function(a){a=i[a];return(a=a)!=null?a:b("ZenonMWMessageTypes").ZenonMWParticipantCallState.UNKNOWN},getCollisionContextFromAppMessages:function(a){var b=null;a!=null&&a.forEach(function(a){a=(a=a.body)==null?void 0:a.genericMessage;if(a!=null&&a.topic==="collision_context_payload"){a=a.data;if(a!=null){var c;a=JSON.parse(a);b={groupThreadID:(c=a.group_thread_id)!=null?c:null,peerID:(c=a.peer_id)!=null?c:null,serverInfoData:(c=a.server_info_data)!=null?c:null}}}});return b},getMWAppID:function(){return b("FacebookAppIDs").MQTT_WEB.toString()},getRoomMetadataFromAppMessages:function(a){a=a&&a.length>0?a.find(function(a){return((a=a.body)==null?void 0:(a=a.genericMessage)==null?void 0:a.topic)==="room_metadata"}):null;if(a){var b;b=(b=a.body)==null?void 0:(b=b.genericMessage)==null?void 0:b.data;if(b!=null){b=JSON.parse(b);a=(a=a.header)==null?void 0:a.sender;if(b.link_hash!=null&&b.room_name!=null&&a!=null)return{linkHash:b.link_hash,profileURL:b.profile_url,ringSubtitle:b.ring_subtitle,roomName:b.room_name,sender:a}}}return{}},getSandboxingTierFromURIOrEmpty:function(a,b){b=b+"=";a=a.split(b);if(a[1]){b=a.pop().split("&").shift();return b}return""},getSdpVersion:function(a){a=a.split("\n");if(a.length<2)throw b("unrecoverableViolation")("Expected SDP string with two or more lines, but got "+a.length,"rtc_www");a=a[1].trim();a=a.split(" ");if(a.length<3)throw b("unrecoverableViolation")("Session line should have at least 3 tokens, but got "+a.length,"rtc_www");a=parseInt(a[2],10);if(isNaN(a))throw b("unrecoverableViolation")("SDP version could not be parsed as number.","rtc_www");return a},mwMessageHeaderToSignalingMessageHeader:function(a){var b=a.clientSessionId,c=a.conferenceName,d=a.sequenceNumber,e=a.serverInfoData,f=a.transactionId;b=b;var g={userID:"2"};f={messageID:f,protocol:"mw",remoteInfo:g,retryCount:a.retryCount,roomInfo:{name:c},sequenceNumber:d,signalingID:b,userInfo:{userID:"1"}};e!=null&&(f.remoteSignalingID=e);return f},signalingMessageHeaderToMWHeader:function(a,c){var d=a.messageID,e=a.remoteSignalingID,f=a.roomInfo,h=a.signalingID,i=g.addDevTierOverridesToHeaderExtensions(window.location.href);f={clientStack:b("ZenonMWMessageTypes").ZenonMWClientStack.ZENON,conferenceName:f.name,retryCount:a.retryCount,transactionId:d,type:c};(i.multiwayCoreTier!==""||i.multiwayWwwTier!=="")&&(f.extensions=i);h!=null&&(f.clientSessionId=h);e!=null&&(f.serverInfoData=e);return f},signalingMessageHeaderToMWResponseHeader:function(a,c,d){a=g.signalingMessageHeaderToMWHeader(a,c);a.responseStatusCode=(c=d)!=null?c:b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK;return a},toMWClientTrackContentType:function(a){if(a==null)return null;switch(a){case b("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_AUDIO:return"audio";case b("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_VIDEO:return"video";case b("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_VIDEO:return"screen";default:return null}},toMWClientMediaStatus:function(a){var b={tracks:{}};a.tracks.forEach(function(a){var c={enabled:a.enabled,owner:a.userID},d=g.toMWTrackLabel(a.type);d!=null&&(c.label=d);b.tracks[a.trackID]=c});return b},toMWDeviceStatus:function(a){a=h[a];return(a=a)!=null?a:b("ZenonMWMessageTypes").ZenonMWDeviceStatus.OK},toMWHangupReason:function(a){switch(a){case b("ZenonDismissReason").ZenonDismissReason.IgnoreCall:return b("ZenonMWMessageTypes").ZenonMWHangupReason.IGNORE_CALL;case b("ZenonDismissReason").ZenonDismissReason.HangupCall:return b("ZenonMWMessageTypes").ZenonMWHangupReason.HANGUP_CALL;case b("ZenonDismissReason").ZenonDismissReason.NoAnswerTimeout:return b("ZenonMWMessageTypes").ZenonMWHangupReason.NO_ANSWER_TIMEOUT;case b("ZenonDismissReason").ZenonDismissReason.ClientError:return b("ZenonMWMessageTypes").ZenonMWHangupReason.CLIENT_ERROR;case b("ZenonDismissReason").ZenonDismissReason.InAnotherCall:return b("ZenonMWMessageTypes").ZenonMWHangupReason.IN_ANOTHER_CALL;case b("ZenonDismissReason").ZenonDismissReason.ClientInterrupted:return b("ZenonMWMessageTypes").ZenonMWHangupReason.CLIENT_INTERRUPTED;case b("ZenonDismissReason").ZenonDismissReason.SessionMigrated:return b("ZenonMWMessageTypes").ZenonMWHangupReason.SESSION_MIGRATED;default:return b("ZenonMWMessageTypes").ZenonMWHangupReason.HANGUP_CALL}},toMWMediaStatus:function(a){var b={};a.tracks.forEach(function(a){b[a.trackID]=a.enabled});return b},toMWMediaStatusEx:function(a){var b={};a.tracks.forEach(function(a){var c={enabled:a.enabled},d=g.toMWTrackLabel(a.type);d!=null&&(c.label=d);b[a.trackID]=c});return{tracks:b}},toMWTrackLabel:function(a){if(!b("gkx")("1667037"))return null;switch(a){case"audio":return b("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_AUDIO;case"video":return b("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_VIDEO;case"screen":return b("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_VIDEO;default:return null}},toMWResponseStatusCode:function(a){return j[a]},toMWSyncStateStore:function(a){var b={};a.forEach(function(a,c){b[c]=a});return b},toZenonMediaStates:function(a){var b={tracks:[],version:0};Object.keys(a.tracks).forEach(function(c){var d=a.tracks[c];c={enabled:d.enabled,trackID:c,type:g.toMWClientTrackContentType(d.label),userID:d.owner};b.tracks.push(c);b.version++});return b}},h={IN_ANOTHER_CALL:(a=b("ZenonMWMessageTypes")).ZenonMWDeviceStatus.IN_ANOTHER_CALL,NOT_SUPPORTED:a.ZenonMWDeviceStatus.NOT_SUPPORTED,OK:a.ZenonMWDeviceStatus.OK},i=Object.freeze((c={},c[a.ZenonMWParticipantCallState.UNKNOWN]=(d=b("ZenonParticipantState")).ZenonParticipantState.UNKNOWN,c[a.ZenonMWParticipantCallState.DISCONNECTED]=d.ZenonParticipantState.DISCONNECTED,c[a.ZenonMWParticipantCallState.NO_ANSWER]=d.ZenonParticipantState.NO_ANSWER,c[a.ZenonMWParticipantCallState.REJECTED]=d.ZenonParticipantState.REJECTED,c[a.ZenonMWParticipantCallState.UNREACHABLE]=d.ZenonParticipantState.UNREACHABLE,c[a.ZenonMWParticipantCallState.CONNECTION_DROPPED]=d.ZenonParticipantState.CONNECTION_DROPPED,c[a.ZenonMWParticipantCallState.CONTACTING]=d.ZenonParticipantState.CONTACTING,c[a.ZenonMWParticipantCallState.RINGING]=d.ZenonParticipantState.RINGING,c[a.ZenonMWParticipantCallState.CONNECTING]=d.ZenonParticipantState.CONNECTING,c[a.ZenonMWParticipantCallState.CONNECTED]=d.ZenonParticipantState.CONNECTED,c[a.ZenonMWParticipantCallState.PARTICIPANT_LIMIT_REACHED]=d.ZenonParticipantState.PARTICIPANT_LIMIT_REACHED,c[a.ZenonMWParticipantCallState.IN_ANOTHER_CALL]=d.ZenonParticipantState.IN_ANOTHER_CALL,c[a.ZenonMWParticipantCallState.RING_TYPE_UNSUPPORTED]=d.ZenonParticipantState.RING_TYPE_UNSUPPORTED,c[a.ZenonMWParticipantCallState.PENDING_APPROVAL]=d.ZenonParticipantState.PENDING_APPROVAL,c[a.ZenonMWParticipantCallState.APPROVED]=d.ZenonParticipantState.APPROVED,c[a.ZenonMWParticipantCallState.FAILED_APPROVAL]=d.ZenonParticipantState.FAILED_APPROVAL,c)),j=Object.freeze((f={},f[b("ZenonSignalingTypes").ZenonRemoteSdpResponseStatus.OK]=a.ZenonMWResponseStatusCode.OK,f[b("ZenonSignalingTypes").ZenonRemoteSdpResponseStatus.REJECTED_FROM_VERSION_DOES_NOT_MATCH]=a.ZenonMWResponseStatusCode.CONDITIONAL_REQUEST_FAILED,f));d=g;e.exports=d}),null);
__d("ZenonMWMessageTranslator",["CurrentUser","MessengerCowatchConfig","ScotchRTWebUserActionLogger","ZenonMWMessageTypes","ZenonMWTranslatorUtils","ZenonSignalingMessage","gkx","qex","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.toMWMessage=a;f.toSignalingMessage=c;var g="joining_context",h="signalingDominantSpeakerUpdate";function a(a){var c=a.getHeader();a=a.getEvents();if(a.length===0)throw b("unrecoverableViolation")("Unexpected Translation: called toMWMessage with empty signaling events","messenger_web_product");else{var d=a[0];switch(d.eventName){case"addParticipantsRequest":return w(c,d);case"clientEventRequest":return x(c,d);case"clientInfoRequest":if(a.length>=2&&a[1].eventName==="localSdpRequest"&&(a[1].sdp.type==="offer"||a[1].sdp.type==="answer"&&R()))return C(c,d,a[1]);break;case"genericDataMessageRequest":return z(c,d);case"inviteRequest":if(a.length>=3&&a[1].eventName==="clientInfoRequest"&&a[2].eventName==="localSdpRequest"&&a[2].sdp.type==="offer")return C(c,a[1],a[2],d);break;case"genericDataMessageResponse":return D(c,d);case"inviteResponse":return E(c,d);case"dismissResponse":return I(c);case"initiateRenegotiationResponse":return N(c,d);case"iceCandidateRequest":return B(c,d);case"iceCandidateResponse":return A(c,d);case"localSdpRequest":return L(c,d.mediaStates,d.sdp);case"mediaUpdateRequest":return L(c,d.mediaStates);case"participantUpdateResponse":return K(c,d);case"pingRequest":return J(c);case"remoteSdpResponse":return d.type==="offer"&&(a.length>=2&&a[1].eventName==="localSdpRequest"&&a[1].sdp.type==="answer")?M(c,d,a[1]):M(c,d);case"removeParticipantsRequest":return y(c,d);case"stateSyncNotifyResponse":return P(c,d);case"stateSyncUnsubscribeRequest":return Q(c,d);case"stateSyncUpdateRequest":return O(c,d);case"subscriptionRequest":return G(c,d);case"terminateRequest":return F(c,d);case"usersApprovalRequest":return H(c,d)}}return null}function c(a){var c=a.jsonPayload.header;if(c.receiverUserId!=null&&c.receiverUserId!==b("CurrentUser").getID())throw b("unrecoverableViolation")("Ignoring MW message; receiverUserId does not match self ID","messenger_web_product");var d=c.type,e=c.responseStatusCode==null;c=b("ZenonMWTranslatorUtils").mwMessageHeaderToSignalingMessageHeader(c);var f=[];switch(d){case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING:e&&(f=k(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS:e&&(f=l(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:e||(f=n(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:e?f=o(a):f=p(a);break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE:e&&(f=q(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:e||(f=r(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:e&&(f=s(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING:e||(f=i(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP:e||(f=j(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE:e&&(f=m(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE:e||(f=t(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE:e||(f=v(a));break;case b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY:e&&(f=u(a));break}return new(b("ZenonSignalingMessage"))(c,f)}function i(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"pingResponse"};b.push(a);return b}function j(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"hangupResponse"};b.push(a);return b}function k(a){var c=[];a=a.jsonPayload;var d=a.body;a=a.header;d=d.ringRequest;if(d){var e=d.appMessages,f=d.caller,g=d.otherParticipants,h=d.ringType;f=f;h=h===b("ZenonMWMessageTypes").ZenonMWRingType.PEER_VIDEO_CALL||h===b("ZenonMWMessageTypes").ZenonMWRingType.GROUP_VIDEO_CALL||h===b("ZenonMWMessageTypes").ZenonMWRingType.LIVE_STREAM||h===b("ZenonMWMessageTypes").ZenonMWRingType.PEER_ESCALATED_AUDIO_CALL;var i=a.conferenceName;a=a.serverInfoData;var j=b("ZenonMWTranslatorUtils").getCollisionContextFromAppMessages(e);j&&(j==null?void 0:j.serverInfoData)==null&&(j.serverInfoData=a);e=b("ZenonMWTranslatorUtils").getRoomMetadataFromAppMessages(e);g={eventName:"inviteRequest",inviterID:f,isRemoteOfferer:!1,otherParticipants:g,requestingVideo:h,roomInfo:{context:(f=j)!=null?f:{groupThreadID:null,peerID:null,serverInfoData:a},name:i,room:e,sender:e.sender}};c.push(g);f=(j=(h=d.offer)==null?void 0:h.sdpString)!=null?j:"";i=(a=d.mediaStatusEx)!=null?a:null;if(f!==""&&i!=null&&R()){e={sdp:f,type:"offer",version:b("ZenonMWTranslatorUtils").getSdpVersion(f)};g=b("ZenonMWTranslatorUtils").toZenonMediaStates(i);h={eventName:"remoteSdpRequest",mediaStates:g,negotiateType:!1,sdp:e};c.push(h)}}return c}function l(a){var c=[];a=a.jsonPayload.body.dismissRequest;if(a){a=a.reason;a={eventName:"terminateRequest",fromJoinResponse:!1,reason:b("ZenonMWTranslatorUtils").fromMWDismissReason(a),shouldInformPeer:!0};c.push(a)}return c}function m(a){var b=[];a=a.jsonPayload.body.dataMessageRequest;if(a){var c,d=a.message.header;c=(c=a.message)==null?void 0:(c=c.body)==null?void 0:c.genericMessage;a=(a=a.message)==null?void 0:(a=a.body)==null?void 0:a.dominantSpeakerSignalingInfo;if(c||a){a=c?atob(c.data):JSON.stringify(a);c=c?c.topic:h;d={data:(a=a)!=null?a:"",eventName:"genericDataMessageRequest",recipientIDs:(a=d.recipients)!=null?a:[],serviceRecipients:(a=d.serviceRecipients)!=null?a:[],topic:c};b.push(d)}}return b}function n(a){var c=[],d=a.jsonPayload.header,e=d.responseStatusCode;if(e&&e!==b("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK){var f;b("ScotchRTWebUserActionLogger").logError({callType:"mw",checkpoint:"[ZP] Got non-OK JOIN response status code: "+e+" subcode "+((f=d.responseSubCode)!=null?f:"[undefined]"),errorDomain:"ZenonMWMessageTranslator.fromJoinResponse"});f={eventName:"terminateRequest",fromJoinResponse:!0,reason:b("ZenonMWTranslatorUtils").fromMWJoinResponseStatusToDismissReason(e,d.responseSubCode),shouldInformPeer:!1};c.push(f);return c}e=a.jsonPayload.body.joinResponse;if(!e)return c;f=(a=(f=e.answer)==null?void 0:f.sdpString)!=null?a:"";a=f!=="";d={ackMessageId:d.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:a,source:"joinResponse"};c.push(d);if(a){d={sdp:f,type:"answer",version:b("ZenonMWTranslatorUtils").getSdpVersion(f)};a=b("ZenonMWTranslatorUtils").toZenonMediaStates(e.mediaStatusEx);f=e.renegotiationOffer;var g=null;f!=null&&f.sdpString!=null&&(g={sdp:f.sdpString,type:"offer",version:b("ZenonMWTranslatorUtils").getSdpVersion(f.sdpString)});f={eventName:"remoteSdpRequest",mediaStates:a,negotiateType:!1,renegotiationOffer:g,sdp:d,source:"joinResponse"};c.push(f)}a={capabilities:{addParticipantEnabled:!0,cowatchEnabled:b("MessengerCowatchConfig").hasZenonCowatchCapability(),cowatchGroupEnabled:b("MessengerCowatchConfig").hasZenonGroupCowatchCapability(),multipleVideoStreamsAllowed:e.multipleVideoStreamsAllowed},eventName:"capabilitiesRequest"};c.push(a);T(e.stateStore,c,"JOIN response");if(U()&&e.isPendingApproval){g={eventName:"pendingApprovalRequest"};c.push(g)}return c}function o(a){var b=[];a=a.jsonPayload.body.iceCandidateRequest;if(a){a={eventName:"iceCandidateRequest",iceCandidates:a.iceCandidateSdps.map(function(a){var b;return{candidateSdpString:(b=a.candidateSdpString)!=null?b:"",sdpMLineIndex:a.sdpMLineIndex,sdpMid:a.sdpMid}})};b.push(a)}return b}function p(a){var b=[];a=a.jsonPayload.header;a={ackMessageId:a.transactionId,eventName:"iceCandidateResponse"};b.push(a);return b}function q(a){var c=[];a=a.jsonPayload.body.conferenceStateRequest;if(a){var d=a.appMessages,e=a.participantStates,f={eventName:"participantUpdateRequest",participantStates:new Map(),versionId:a.version},g={eventName:"clientInfoRequest",userCapabilities:new Map()};Object.keys(e).forEach(function(a){var c=e[a],d=c.state;c=c.userCapabilities;f.participantStates.set(a,b("ZenonMWTranslatorUtils").fromMWParticipantState(d));g.userCapabilities.set(a,(d=c)!=null?d:"")});c.push(f);c.push(g);a=b("ZenonMWTranslatorUtils").getCollisionContextFromAppMessages(d);if(a){d={context:a,eventName:"roomContextUpdateRequest"};c.push(d)}}return c}function r(a){var c=[];a=a.jsonPayload;var d=a.body;a=a.header;d=d.clientMediaUpdateResponse;var e=a.responseStatusCode,f=a.responseSubCode,g=a.retryAfterMsec;if(d){var h=d.answer,i=d.mediaStatus;if(h!=null&&i!=null){h=(h=h.sdpString)!=null?h:"";i=b("ZenonMWTranslatorUtils").toZenonMediaStates(i);var j={ackMessageId:a.transactionId,eventName:"localSdpResponse",hasAnswerInJoinResponse:!1,source:"clientMediaUpdate"};i={eventName:"remoteSdpRequest",mediaStates:i,negotiateType:!1,sdp:{sdp:h,type:"answer",version:b("ZenonMWTranslatorUtils").getSdpVersion(h)}};c.push(j);c.push(i)}T(d.stateStore,c,"CMU response");h={ackMessageId:a.transactionId,eventName:"mediaUpdateResponse",requestVersionId:d.currentVersion,responseStatusCode:e,responseSubCode:f,retryAfter:g};c.push(h)}return c}function s(a){var c=[];a=a.jsonPayload;var d=a.body;a=a.header;d=d.serverMediaUpdateRequest;var e=a.transactionId;if(!d)return c;a={eventName:"overlayConfigServerUpdateRequest",serializedConfig:(a=(a=a.extensions)==null?void 0:a.oc1)!=null?a:""};c.push(a);if(d.renegotiationRequested){a={eventName:"initiateRenegotiationRequest",fromVersion:d.fromVersion,version:d.toVersion};c.push(a)}a=(a=(a=d.answer)==null?void 0:a.sdpString)!=null?a:"";var f="answer";if(a===""){var g;a=(g=(g=d.offer)==null?void 0:g.sdpString)!=null?g:"";f="offer"}if(a==="")return c;b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:"SMU request SDP type: "+f+", transaction id: "+e});g={sdp:a,type:f,version:b("ZenonMWTranslatorUtils").getSdpVersion(a)};e=b("ZenonMWTranslatorUtils").toZenonMediaStates(d.mediaStatus);f={eventName:"remoteSdpRequest",fromVersion:d.fromVersion,mediaStates:e,negotiateType:!1,sdp:g};c.push(f);T(d.stateStore,c,"SMU request");a={capabilities:{multipleVideoStreamsAllowed:d.multipleVideoStreamsAllowed},eventName:"capabilitiesRequest"};c.push(a);return c}function t(a){a=a.jsonPayload;var b=a.body.updateResponse;a=a.header.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUpdateResponse",topic:c,version:b};return[a]}function u(a){a=a.jsonPayload.body.notifyRequest;if(!a)return[];var b=a.data,c=a.topic;a=a.version;b={data:b,eventName:"stateSyncNotifyRequest",responseRequired:!0,topic:c,version:a};return[b]}function v(a){a=a.jsonPayload;var b=a.body.unsubscribeResponse;a=a.header.transactionId;if(!b)return[];var c=b.topic;b=b.version;a={ackMessageId:a,eventName:"stateSyncUnsubscribeResponse",topic:c,version:b};return[a]}function w(a,c){c={usersToInvite:c.participants};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ADD_PARTICIPANTS);return b("ZenonMWTranslatorUtils").createMWMessage(a,{addParticipantsRequest:c})}function x(a,c){c={clientEventType:c.clientEventType};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_EVENT);return b("ZenonMWTranslatorUtils").createMWMessage(a,{clientEventRequest:c})}function y(a,c){c={usersToRemove:c.participants};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.REMOVE_PARTICIPANTS);return b("ZenonMWTranslatorUtils").createMWMessage(a,{removeParticipantsRequest:c})}function z(a,c){var d={data:c.data,topic:c.topic};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE);return b("ZenonMWTranslatorUtils").createMWMessage(a,{dataMessageRequest:{message:{body:{genericMessage:d},header:{recipients:c.recipientIDs,sender:b("CurrentUser").getID(),serviceRecipients:c.serviceRecipients,topic_DEPRECATED:""}}}})}function A(a,c){c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE);return b("ZenonMWTranslatorUtils").createMWMessage(c,{})}function B(a,c){c=c.iceCandidates;c=c.map(function(a){return{candidateSdpString:a.candidateSdpString,sdpMLineIndex:a.sdpMLineIndex,sdpMid:a.sdpMid}});c={iceCandidateSdps:c};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE);return b("ZenonMWTranslatorUtils").createMWMessage(a,{iceCandidateRequest:c})}function C(a,c,d,e){var f=c.initialSyncStates;f={deviceCapabilities:[b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_NEW_PARTICIPANT_STATES,b("ZenonMWMessageTypes").ZenonMWCapability.REQUIRE_FULL_SDP_IN_SMU,b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_SDP_RENEGOTIATION],mediaStatus:b("ZenonMWTranslatorUtils").toMWMediaStatus(d.mediaStates),mediaStatusEx:b("ZenonMWTranslatorUtils").toMWMediaStatusEx(d.mediaStates),offer:{},syncPayload:f?{stateStore:b("ZenonMWTranslatorUtils").toMWSyncStateStore(f)}:void 0,userCapabilities:c.userCapabilities.get(a.userInfo.userID)};d.sdp.type==="offer"&&(f.offer={sdpString:d.sdp.sdp});R()&&(f.deviceCapabilities.push(b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MWPP),d.sdp.type==="answer"&&(f.answer={sdpString:d.sdp.sdp}));b("gkx")("1667037")&&f.deviceCapabilities.push(b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_MULTIPLE_VIDEO_STREAMS);c=e==null?void 0:e.otherParticipants;c&&(f.usersToCall=c);c=(d=e==null?void 0:e.roomInfo.context)!=null?d:a.roomInfo.context;c&&(f.appMessages=[{body:{genericMessage:{data:JSON.stringify(c),topic:g}},header:{topic_DEPRECATED:g}}]);e=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN);c&&c.serverInfoData!=null&&(e.serverInfoData=c.serverInfoData);return b("ZenonMWTranslatorUtils").createMWMessage(e,{joinRequest:f})}function D(a,c){c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE);return b("ZenonMWTranslatorUtils").createMWMessage(c,{dataMessageResponse:{deliveryResult:{}}})}function E(a,c){c=c.status;c==="IN_ANOTHER_CALL"&&(a.signalingID=null);c=b("ZenonMWTranslatorUtils").toMWDeviceStatus(c);c={deviceCapabilities:[b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_AUDIO_DEPRECATED,b("ZenonMWMessageTypes").ZenonMWCapability.SUPPORT_VIDEO_DEPRECATED],deviceStatus:c};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING);return b("ZenonMWTranslatorUtils").createMWMessage(a,{ringResponse:c})}function F(a,c){c=c.reason;c={detailedReasonString:"",reason:b("ZenonMWTranslatorUtils").toMWHangupReason(c)};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP);return b("ZenonMWTranslatorUtils").createMWMessage(a,{hangupRequest:c})}function G(a,c){c=c.subscriptions;c={subscriptions:c};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION);return b("ZenonMWTranslatorUtils").createMWMessage(a,{subscriptionRequest:c})}function H(a,c){var d=c.approvalStatus;c=c.targetUsers;d={approvalStatus:d,targetUsers:c};c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.APPROVAL);return b("ZenonMWTranslatorUtils").createMWMessage(c,{approvalRequest:d})}function I(a){a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS);return b("ZenonMWTranslatorUtils").createMWMessage(a,{})}function J(a){var c=Object.freeze({});a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING);return b("ZenonMWTranslatorUtils").createMWMessage(a,{pingRequest:c})}function K(a,c){c={currentVersion:c.requestVersionId};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE);return b("ZenonMWTranslatorUtils").createMWMessage(a,{conferenceStateResponse:c})}function L(a,c,d){c={fromVersion:c.version,mediaUpdates:[{mediaStatus:b("ZenonMWTranslatorUtils").toMWMediaStatus(c),mediaStatusEx:b("ZenonMWTranslatorUtils").toMWMediaStatusEx(c)}],toVersion:c.version};d!==void 0&&(c.offer={sdpString:d.sdp});d=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE);return b("ZenonMWTranslatorUtils").createMWMessage(d,{clientMediaUpdateRequest:c})}function M(a,c,d){if(c.acknowledgedVersion==null)throw b("unrecoverableViolation")("Error creating ServerMediaUpdateResponse: remoteSdpResponse.acknowledgedVersion is null","messenger_web_product");var e={currentVersion:c.acknowledgedVersion};d&&(e.answer={sdpString:d.sdp.sdp},e.mediaStatus=b("ZenonMWTranslatorUtils").toMWClientMediaStatus(d.mediaStates));d=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE,b("ZenonMWTranslatorUtils").toMWResponseStatusCode(c.status));return b("ZenonMWTranslatorUtils").createMWMessage(d,{serverMediaUpdateResponse:e})}function N(a,c){var d={currentVersion:c.acknowledgedVersion};a=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE,b("ZenonMWTranslatorUtils").toMWResponseStatusCode(c.status));return b("ZenonMWTranslatorUtils").createMWMessage(a,{serverMediaUpdateResponse:d})}function O(a,c){var d=c.data,e=c.topic;c=c.version;d={data:d,topic:e,version:c};e=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE);return b("ZenonMWTranslatorUtils").createMWMessage(e,{updateRequest:d})}function P(a,c){var d=c.topic;c=c.version;d={topic:d,version:c};c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWResponseHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY);return b("ZenonMWTranslatorUtils").createMWMessage(c,{notifyResponse:d})}function Q(a,c){var d=c.topic;c=c.version;d={topic:d,version:c};c=b("ZenonMWTranslatorUtils").signalingMessageHeaderToMWHeader(a,b("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE);return b("ZenonMWTranslatorUtils").createMWMessage(c,{unsubscribeRequest:d})}function R(){var a;return(a=b("qex")._("1566745"))!=null?a:!1}function S(){var a=b("gkx")("1418215");a&&b("ScotchRTWebUserActionLogger").logCheckpointOnceForDomain({checkpoint:"gk: rtc_www_state_sync"});return a}function T(a,c,d){S()&&a&&Object.keys(a).forEach(function(e){var f=a[e],g=f.data;f=f.version;if(g!=null){var h={data:g,eventName:"stateSyncNotifyRequest",responseRequired:!1,topic:e,version:f};b("ScotchRTWebUserActionLogger").logCheckpoint({checkpoint:d+" StateStore topic: "+e+", version: "+f+" data: "+g});c.push(h)}})}function U(){var a=b("gkx")("1450329");a&&b("ScotchRTWebUserActionLogger").logCheckpointOnceForDomain({checkpoint:"gk: rtc_www_lobby_mode"});return a}}),null);
__d("CallEndReason",[],(function(a,b,c,d,e,f){a=Object.freeze({IGNORE_CALL:"IgnoreCall",HANGUP_CALL:"HangupCall",IN_ANOTHER_CALL:"InAnotherCall",ACCEPT_AFTER_HANGUP:"CallEndAcceptAfterHangUp",NO_ANSWER_TIMEOUT:"NoAnswerTimeout",INCOMING_TIMEOUT:"IncomingTimeout",OTHER_INSTANCE_HANDLED:"OtherInstanceHandled",SIGNALING_MESSAGE_FAILED:"SignalingMessageFailed",CONNECTION_DROPPED:"ConnectionDropped",CLIENT_INTERRUPTED:"ClientInterrupted",WEBRTC_ERROR:"WebRTCError",CLIENT_ERROR:"ClientError",NO_PERMISSION:"NoPermission",OTHER_NOT_CAPABLE:"OtherNotCapable",NO_UI_ERROR:"NoUIShown",UNSUPPORTED_VERSION:"VersionUnsupported",CALLER_NOT_VISIBLE:"CallerNotVisible",CARRIER_BLOCKED:"CarrierBlocked",OTHER_CARRIER_BLOCKED:"OtherCarrierBlocked",CLIENT_ENCRYPTION_ERROR:"ClientEncryptionError"});e.exports=a}),null);
__d("WebrtcMessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({OFFER:"offer",ANSWER:"answer",ICE_CANDIDATE:"ice_candidate",OK:"ok",HANG_UP:"hang_up",OTHER_DISMISS:"other_dismiss",MESSAGE_ACK:"msg_ack",PRANSWER:"pranswer",PING:"ping",PING_ACK:"ping_ack",ICE_RESTART_OFFER:"icerestart_offer",ICE_RESTART_ANSWER:"icerestart_answer",OFFER_ACK:"offer_ack",ANSWER_ACK:"answer_ack",SET_VIDEO:"set_video",ACK:"ack",INVALID:"invalid",OFFER_NACK:"offer_nack",NACK:"nack",VIDEO_REQUEST:"video_request",SDP_UPDATE:"sdp_update",SWITCH_TO_MULTIWAY:"switch_to_multiway",ON_HOLD:"on_hold",NEGOTIATE:"negotiate",RING:"ring",PR_OFFER_ACK:"pr_offer_ack",NOTIFY_MEDIA_STATE:"notify_media_state",CLIENT_REPORTED_EVENT:"client_reported_event",PCRESTART_OFFER:"pcrestart_offer"});e.exports=a}),null);
__d("ZenonP2PMessageTypes",["WebrtcMessageType","CallEndReason"],(function(a,b,c,d,e,f){"use strict";a=b("CallEndReason");f.ZenonP2PCallEndReason=a;c=b("WebrtcMessageType");f.ZenonP2PSignalingPayloadType=c}),null);
__d("ZenonP2PTranslatorUtils",["CurrentUser","ZenonDismissReason","ZenonP2PMessageTypes"],(function(a,b,c,d,e,f){"use strict";f.fromP2PCallEndReason=a;f.p2pMessageToSignalingMessageHeader=c;f.toP2PCallEndReason=d;function a(a){a=g[a];return(a=a)!=null?a:b("ZenonDismissReason").ZenonDismissReason.CallEnded}function c(a,c){var d=c.call_id,e=c.from;c=c.source;var f=e+":"+b("CurrentUser").getID();return{messageID:a,protocol:"p2p",remoteInfo:{deviceInfo:{deviceID:c},userID:e},remoteSignalingID:String(d),retryCount:0,roomInfo:{name:f},signalingID:String(d),userInfo:{userID:b("CurrentUser").getID()}}}function d(a){switch(a){case b("ZenonDismissReason").ZenonDismissReason.HangupCall:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.HANGUP_CALL;case b("ZenonDismissReason").ZenonDismissReason.IgnoreCall:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.IGNORE_CALL;case b("ZenonDismissReason").ZenonDismissReason.InAnotherCall:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.IN_ANOTHER_CALL;case b("ZenonDismissReason").ZenonDismissReason.AcceptAfterHangUp:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.ACCEPT_AFTER_HANGUP;case b("ZenonDismissReason").ZenonDismissReason.NoAnswerTimeout:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.NO_ANSWER_TIMEOUT;case b("ZenonDismissReason").ZenonDismissReason.IncomingTimeout:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.INCOMING_TIMEOUT;case b("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.OTHER_INSTANCE_HANDLED;case b("ZenonDismissReason").ZenonDismissReason.SignalingMessageFailed:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.SIGNALING_MESSAGE_FAILED;case b("ZenonDismissReason").ZenonDismissReason.ConnectionDropped:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CONNECTION_DROPPED;case b("ZenonDismissReason").ZenonDismissReason.ClientInterrupted:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CLIENT_INTERRUPTED;case b("ZenonDismissReason").ZenonDismissReason.WebRTCError:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.WEBRTC_ERROR;case b("ZenonDismissReason").ZenonDismissReason.ClientError:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CLIENT_ERROR;case b("ZenonDismissReason").ZenonDismissReason.NoPermission:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.NO_PERMISSION;case b("ZenonDismissReason").ZenonDismissReason.OtherNotCapable:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.OTHER_NOT_CAPABLE;case b("ZenonDismissReason").ZenonDismissReason.NoUIShown:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.NO_UI_ERROR;case b("ZenonDismissReason").ZenonDismissReason.VersionUnsupported:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.UNSUPPORTED_VERSION;case b("ZenonDismissReason").ZenonDismissReason.CallerNotVisible:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CALLER_NOT_VISIBLE;case b("ZenonDismissReason").ZenonDismissReason.CarrierBlocked:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CARRIER_BLOCKED;case b("ZenonDismissReason").ZenonDismissReason.OtherCarrierBlocked:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.OTHER_CARRIER_BLOCKED;case b("ZenonDismissReason").ZenonDismissReason.ClientEncryptionError:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.CLIENT_ENCRYPTION_ERROR;default:return b("ZenonP2PMessageTypes").ZenonP2PCallEndReason.HANGUP_CALL}}var g=Object.freeze((e={},e[(a=b("ZenonP2PMessageTypes")).ZenonP2PCallEndReason.HANGUP_CALL]=(c=b("ZenonDismissReason")).ZenonDismissReason.HangupCall,e[a.ZenonP2PCallEndReason.IGNORE_CALL]=c.ZenonDismissReason.IgnoreCall,e[a.ZenonP2PCallEndReason.IN_ANOTHER_CALL]=c.ZenonDismissReason.InAnotherCall,e[a.ZenonP2PCallEndReason.ACCEPT_AFTER_HANGUP]=c.ZenonDismissReason.AcceptAfterHangUp,e[a.ZenonP2PCallEndReason.NO_ANSWER_TIMEOUT]=c.ZenonDismissReason.NoAnswerTimeout,e[a.ZenonP2PCallEndReason.INCOMING_TIMEOUT]=c.ZenonDismissReason.IncomingTimeout,e[a.ZenonP2PCallEndReason.OTHER_INSTANCE_HANDLED]=c.ZenonDismissReason.OtherInstanceHandled,e[a.ZenonP2PCallEndReason.SIGNALING_MESSAGE_FAILED]=c.ZenonDismissReason.SignalingMessageFailed,e[a.ZenonP2PCallEndReason.CONNECTION_DROPPED]=c.ZenonDismissReason.ConnectionDropped,e[a.ZenonP2PCallEndReason.CLIENT_INTERRUPTED]=c.ZenonDismissReason.ClientInterrupted,e[a.ZenonP2PCallEndReason.CLIENT_ERROR]=c.ZenonDismissReason.ClientError,e[a.ZenonP2PCallEndReason.WEBRTC_ERROR]=c.ZenonDismissReason.WebRTCError,e[a.ZenonP2PCallEndReason.CLIENT_ERROR]=c.ZenonDismissReason.ClientError,e[a.ZenonP2PCallEndReason.NO_PERMISSION]=c.ZenonDismissReason.NoPermission,e[a.ZenonP2PCallEndReason.OTHER_NOT_CAPABLE]=c.ZenonDismissReason.OtherNotCapable,e[a.ZenonP2PCallEndReason.NO_UI_ERROR]=c.ZenonDismissReason.NoUIShown,e[a.ZenonP2PCallEndReason.UNSUPPORTED_VERSION]=c.ZenonDismissReason.VersionUnsupported,e[a.ZenonP2PCallEndReason.CALLER_NOT_VISIBLE]=c.ZenonDismissReason.CallerNotVisible,e[a.ZenonP2PCallEndReason.CARRIER_BLOCKED]=c.ZenonDismissReason.CarrierBlocked,e[a.ZenonP2PCallEndReason.OTHER_CARRIER_BLOCKED]=c.ZenonDismissReason.OtherCarrierBlocked,e[a.ZenonP2PCallEndReason.CLIENT_ENCRYPTION_ERROR]=c.ZenonDismissReason.ClientEncryptionError,e))}),null);
__d("ZenonP2PMessageTranslator",["errorCode","ZenonDismissReason","ZenonP2PMessageTypes","ZenonP2PTranslatorUtils","ZenonParticipantState","ZenonSignalingMessage"],(function(a,b,c,d,e,f,g){"use strict";f.toP2PMessage=a;f.toSignalingMessage=c;var h=0,i=3;function a(a){var b=a.getHeader();a=a.getEvents();if(a.length===0)throw new Error("Unexpected Translation: called toP2PMessage with empty signaling events");switch(a[0].eventName){case"answerIntentRequest":return q(b);case"inviteResponse":if(a[0].status==="NOT_SUPPORTED")return o(b);else return n(b);case"terminateRequest":return p(b,a[0]);default:return null}}function c(a){switch(a.type){case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.OFFER:return j(a);case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.HANG_UP:return k(a);case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.OTHER_DISMISS:return l(a);case b("ZenonP2PMessageTypes").ZenonP2PSignalingPayloadType.ICE_CANDIDATE:return m(a);default:return null}}function j(a){var c=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a),d=[],e=a.escalation_conference_name,f=a.from,g=a.videoon;g={eventName:"inviteRequest",inviterID:f,isRemoteOfferer:!0,otherParticipants:[],requestingVideo:g,roomInfo:{context:{groupThreadID:null,peerID:f,serverInfoData:null},name:e}};d.push(g);e={eventName:"remoteSdpRequest",sdp:{sdp:a.sdp,type:"offer",version:0},mediaStates:{tracks:[],version:0},negotiateType:!1};d.push(e);g={capabilities:{addParticipantEnabled:a.offer_escalation_support,cowatchEnabled:!1,cowatchGroupEnabled:!1},eventName:"capabilitiesRequest"};d.push(g);e=new Map([[f,b("ZenonParticipantState").ZenonParticipantState.CONNECTED]]);a={eventName:"participantUpdateRequest",participantStates:e,versionId:h};d.push(a);return new(b("ZenonSignalingMessage"))(c,d)}function k(a){var c=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a),d=[],e=a.from;a=a.reason;a={eventName:"terminateRequest",fromJoinResponse:!1,reason:b("ZenonP2PTranslatorUtils").fromP2PCallEndReason(a),shouldInformPeer:!0};d.push(a);a=new Map([[e,b("ZenonParticipantState").ZenonParticipantState.DISCONNECTED]]);e={eventName:"participantUpdateRequest",participantStates:a,versionId:i};d.push(e);return new(b("ZenonSignalingMessage"))(c,d)}function l(a){a=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a);var c=[],d={eventName:"terminateRequest",fromJoinResponse:!1,reason:b("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled,shouldInformPeer:!0};c.push(d);return new(b("ZenonSignalingMessage"))(a,c)}function m(a){var c=b("ZenonP2PTranslatorUtils").p2pMessageToSignalingMessageHeader(String(a.msg_id),a),d=[],e=a.sdp,f=a.sdp_line_idx;a=a.sdp_mid;e={candidateSdpString:e,sdpMLineIndex:f,sdpMid:a};f={eventName:"iceCandidateRequest",iceCandidates:[e]};d.push(f);return new(b("ZenonSignalingMessage"))(c,d)}function n(a){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");return{ack_id:parseInt(a.messageID,10),call_id:parseInt(a.signalingID,10),msg_id:parseInt(a.messageID,10),type:"offer_ack"}}function o(a){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");return{ack_id:parseInt(a.messageID,10),call_id:parseInt(a.signalingID,10),error_code:1356043,msg_id:parseInt(a.messageID,10),type:"offer_nack"}}function p(a,c){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");var d=parseInt(a.messageID,10);a=parseInt(a.signalingID,10);c=b("ZenonP2PTranslatorUtils").toP2PCallEndReason(c.reason);return{call_id:a,msg_id:d,reason:c,type:"hang_up",version:0}}function q(a){if(a.signalingID===null)throw new Error("Unexpected P2P Translation: expected signalingID to not be null");var b=parseInt(a.signalingID,10);a=parseInt(a.messageID,10);return{call_id:b,msg_id:a,type:"other_dismiss"}}}),null);
__d("SoundPlayer",["ODS","URI","createArrayFromMixed"],(function(a,b,c,d,e,f){"use strict";var g,h=new Map();function i(a){var c=new(g||(g=b("URI")))(a);return c.getDomain()?a:new(g||(g=b("URI")))(window.location.href).setPath(c.getPath()).toString()}function j(a){a=new(g||(g=b("URI")))(a).getPath();if(/\.mp3$/.test(a))return"audio/mpeg";return/\.og[ga]$/.test(a)?"audio/ogg":""}var k=function(a,c){for(var a=b("createArrayFromMixed")(a),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;if(h.has(f))return;var g=document.createElement("audio");if(!g||!g.canPlayType||!g.canPlayType(j(f)))continue;g.preload="auto";g.src=i(f);document.body&&document.body.appendChild(g);h.set(f,g);(c==null?void 0:c.onPreload)!=null&&c.onPreload(g);return}};f.preload=k;a=function(a,c){c===void 0&&(c={});for(var a=b("createArrayFromMixed")(a),d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;h.has(f)||k(f,c.callbacks);f=h.get(f);if(!f)continue;c.loop&&f.setAttribute("loop","");c.volume&&(f.volume=c.volume);f=f.play();f!=null&&typeof f.then==="function"?f.then(function(a){b("ODS").bumpEntityKey(2966,"sound_player","play.success")})["catch"](function(a){b("ODS").bumpEntityKey(2966,"sound_player","play.error")}):b("ODS").bumpEntityKey(2966,"sound_player","non_promise");return}};f.play=a;c=function(a){for(var a=b("createArrayFromMixed")(a),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e=h.get(e);if(e){e.pause();return}}};f.pause=c;d=function(a){for(var a=b("createArrayFromMixed")(a),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=h.get(e);f&&(f.pause(),f.removeAttribute("src"),f.src=i(e))}};f.stop=d}),null);
__d("SoundSynchronizer",["SoundPlayer","WebStorage","createArrayFromMixed"],(function(a,b,c,d,e,f){var g,h="fb_sounds_playing3";function i(){var a=(g||(g=b("WebStorage"))).getLocalStorage();if(a)try{a=a[h];if(a){a=JSON.parse(a);if(Array.isArray(a))return a}}catch(a){}return[]}function j(a){var c=(g||(g=b("WebStorage"))).getLocalStorage();if(c){var d=i();d.push(a);while(d.length>5)d.shift();try{c[h]=JSON.stringify(d)}catch(a){}}}function k(a){return i().some(function(b){return b===a})}a={play:function(a,c,d,e){a=b("createArrayFromMixed")(a);c=c||a[0]+Math.floor(Date.now()/1e3);if(k(c))return;b("SoundPlayer").play(a,{loop:!!d,callbacks:e});j(c)},isSupported:function(){return!!(g||(g=b("WebStorage"))).getLocalStorage()}};e.exports=a}),null);
__d("SoundRPC",["FBJSON","SecurePostMessage","SoundSynchronizer","requireCond","cr:950105"],(function(a,b,c,d,e,f){f.playLocal=g;f.playRemote=a;f.supportsRPC=c;f._listen=d;function g(a,c,d,e){b("SoundSynchronizer").play(a,c,d,e)}function a(a,c,d,e){c={name:"SoundRPC",data:{paths:c,sync:d,loop:e}};b("SecurePostMessage").sendMessageAllowAnyOrigin_UNSAFE(a,b("FBJSON").stringify(c))}function c(){return!!window.postMessage}function d(){var a=function(a){if(!/\.facebook.com$/.test(a.origin))return;var c={};try{a=a.data;typeof a==="string"&&(c=b("FBJSON").parse(a))}catch(a){}a=c;c=a.name;a=a.data;c==="SoundRPC"&&a!=null&&typeof a==="object"&&g(a.paths,a.sync,a.loop)};b("cr:950105")!=null?b("cr:950105").listen(window,"message",a):window.addEventListener("message",a)}}),null);
__d("Sound",["SoundInitialData","SoundPlayer","SoundRPC","SoundSynchronizer","URI","UserAgent_DEPRECATED","Visibility","isFacebookURI"],(function(a,b,c,d,e,f){f.init=a;f.play=c;f.hasPlayedSoundBefore=d;f.playOnlyIfImmediate=e;f.stop=j;var g,h=null,i=!1;function a(a){}function c(a,c,d,e){h?b("SoundRPC").playRemote(h.contentWindow,a,c,!1):b("SoundRPC").playLocal(a,c,d,e),i=!0}function d(){return i}function e(a,c,d){if(!i&&b("Visibility").isHidden())return;this.play(a,c,d)}function j(a){h||b("SoundPlayer").stop(a)}a=new(g||b("URI"))(location.href);a.getSubdomain()&&a.getSubdomain()!=="comet"&&a.getSubdomain()!=="www"&&a.setSubdomain("www");c=a.getDomain();function k(){if(b("UserAgent_DEPRECATED").ie()<9)return!1;return b("SoundInitialData").RPC_DISABLED?!1:b("SoundSynchronizer").isSupported()&&b("SoundRPC").supportsRPC()}b("isFacebookURI")(a)&&location.host!==c&&k()&&(h=document.createElement("iframe"),h.setAttribute("src","//"+c+"/sound_iframe.php"),h.style.display="none",document.body&&document.body.appendChild(h))}),null);
__d("XRefererFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/common/referer_frame.php",{})}),null);
__d("ControlledReferer",["Bootloader","DeferredCookie","XRefererFrameController","getRequestConstUri","isMessengerDotComURI","isOculusDotComURI","isWorkplaceDotComURI","lowerFacebookDomain"],(function(a,b,c,d,e,f){f.shouldUseFacebookReferer=g;f.useFacebookRefererHtml=a;function g(a,c,d){if(!b("DeferredCookie").canEmbedThirdPartyPixel()){b("Bootloader").loadModules(["ODS"],function(a){a.bumpEntityKey(2966,"defer_cookies","block_controlled_referer_iframe")},"ControlledReferer");return}var e=!1;function f(){if(e)return;var b=a.contentWindow.location.pathname;if(b!=="/intern/common/referer_frame.php"&&b!=="/common/referer_frame.php")return;e=!0;a.contentWindow.document.body.style.margin=0;c()}var g;b("isMessengerDotComURI")(b("getRequestConstUri")())?g=b("XRefererFrameController").getURIBuilder().getURI().toString():b("isOculusDotComURI")(b("getRequestConstUri")())?g="/common/referer_frame.php":!b("lowerFacebookDomain").isValidDocumentDomain()?g="/intern/common/referer_frame.php":g=b("XRefererFrameController").getURIBuilder().getURI().toString();d==null&&b("isWorkplaceDotComURI")(b("getRequestConstUri")())&&(d="workplace");d&&(g+="?fb_source="+d);a.onload=f;a.src=g}function a(a,b,c){g(a,function(){a.contentWindow.document.body.innerHTML=b},c)}}),null);
__d("StaticContainer.react",["React"],(function(a,b,c,d,e,f){var g=b("React");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.shouldComponentUpdate=function(a){return!!a.shouldUpdate};c.render=function(){var a=this.props.children;return a===null||a===!1?null:g.Children.only(a)};return b}(g.Component);e.exports=a}),null);
__d("ControlledRefererIFrame.react",["ControlledReferer","ControlledRefererIFrameConfig","React","SecurePostMessage","StaticContainer.react","URI"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.mountFrameRef=function(a){this.frame=a};d.updateFrame=function(){var a=this,c=this.frame;if(!c)return;this.props.onBeforeFrameRender&&this.props.onBeforeFrameRender(this.props);b("ControlledReferer").shouldUseFacebookReferer(c,function(){var d=c.contentWindow.document;d.body.innerHTML='\n        <form method="GET" id="theform"></form>\n        '+b("ControlledRefererIFrameConfig").additional_markup+"\n      ";var e=new(g||(g=b("URI")))(a.props.src).qualify(),f=d.getElementById("theform");f.action=e.toString();e=e.getQueryData();for(var h in e)if(Object.prototype.hasOwnProperty.call(e,h)){var i=d.createElement("input");i.name=h;i.setAttribute("value",e[h]);i.autocomplete="off";i.type="hidden";f.appendChild(i)}d.body.innerHTML+='\n        <iframe\n          frameborder="0"\n          width="1"\n          height="1"\n          onload="document.getElementById(\'theform\').submit()"\n        />\n      ';a.props.onFrameRender&&a.props.onFrameRender(a.props)})};d.componentDidMount=function(){this.updateFrame()};d.componentDidUpdate=function(a){a.src!==this.props.src&&this.updateFrame()};d.UNSAFE_componentWillReceiveProps=function(a){var b=this.frame;b&&(a.width!==this.props.width||a.height!==this.props.height)&&(a.width!=null&&(b.width=""+a.width),a.height!=null&&(b.height=""+a.height))};d.render=function(){var a=this,c=this.props;c.src;c.onFrameRender;c.onBeforeFrameRender;c=babelHelpers.objectWithoutPropertiesLoose(c,["src","onFrameRender","onBeforeFrameRender"]);return h.jsx(b("StaticContainer.react"),{children:h.jsx("iframe",babelHelpers["extends"]({},c,{ref:function(b){return a.mountFrameRef(b)}}))})};d.postMessage=function(a,c){this.frame&&b("SecurePostMessage").sendMessageToSpecificOrigin(this.frame.contentWindow,a,c)};return c}(h.PureComponent);e.exports=a}),null);
__d("RtcWwwWebQuickLogModule",[],(function(a,b,c,d,e,f){a=Object.freeze({CHILD_WINDOW:64232269,CONNECTION_STATE_MACHINE:64243854,PARENT_SIGNALING_CLIENT:64234815,PEER_CONNECTION_STATE_MACHINE:64239068,RTC_INCOMING_RING:64225282,RTC_OPEN_CHAT:64228958,SIGNALING_STATE_MACHINE:64245348,ZENON_TRANSACTION:64246910});e.exports=a}),null);
__d("JobsActionsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:JobsActionsLoggerConfig")}),null);
__d("XLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout.php",{h:{type:"String"},next:{type:"String"},button_name:{type:"String"},button_location:{type:"String"},source:{type:"String"},ref:{type:"String"}})}),null);