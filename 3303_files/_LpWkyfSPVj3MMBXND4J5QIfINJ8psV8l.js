if (self.CavalryLogger) { CavalryLogger.start_js(["sC5MW"]); }

__d("EmojiLikeConstants",["EmojiStaticConfig"],(function(a,b,c,d,e,f){"use strict";a=b("EmojiStaticConfig").sizeMap;f.sizeMap=a;c=Object.freeze({XSMALL:"xsmall",SMALL:"small",MEDIUM:"medium",LARGE:"large"});f.size=c;d={dp16:"xsmall",dp32:"small",dp64:"medium",db64:"medium",dp128:"large"};f.sizeMapTransfer=d;e=Object.freeze({PICKER:"picker",HOT_LIKE:"hot_like"});f.source=e;b=[983040];f.FB_THUMBS_UP_EMOJI=b;a="hot_emoji_source";f.SOURCE_TAG_PREFIX=a;c="hot_emoji_size";f.TAG_PREFIX_NEW=c;d="emoji_like";f.TAG_PREFIX_OLD=d;e="\ud83d\udc4d";f.THUMBS_UP_EMOJI=e;b=[128077];f.THUMBS_UP_EMOJI_CODES=b}),null);
__d("installUFI2ComposerInputDecorators",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return babelHelpers["extends"]({},a,{inputDecorators:[].concat(a.inputDecorators,c)})}}),null);
__d("PhotosMimeType",[],(function(a,b,c,d,e,f){f.isImage=g;f.isJpeg=a;function g(a){return h(a)[0]==="image"}function a(a){var b=h(a);return g(a)&&(b[1]==="jpeg"||b[1]==="pjpeg")}function h(a){return a.split("/")}}),null);
__d("EmojiSpan.react",["cx","FBEmojiResource","React","UnicodeUtils"],(function(a,b,c,d,e,f,g){e.exports=a;var h,i=b("React");function a(a){var c=a.children;a.contentState;var d=a.decoratedText,e=a.dir,f=a.offsetKey;a=a.size;var g=0,j=d.length,k=[];while(g<j){var l=(h||(h=b("UnicodeUtils"))).getUTF16Length(d,g);k.push(d.substr(g,l));g+=l}l=b("FBEmojiResource").fromCodepoints(k);g=l!=null?l.getImageURL(a):null;return g!=null?i.jsx("span",{className:"_3gl1 _5zz4","data-offset-key":f,dir:e,style:{backgroundImage:"url("+g+")",backgroundSize:a+"px "+a+"px",height:a,width:a},children:i.jsx("span",{className:"_ncl",children:c})}):i.jsx("span",{"data-offset-key":f,children:d})}}),null);
__d("getEntityMatcher",[],(function(a,b,c,d,e,f){e.exports=a;function g(a,b){return b.getEntity(a)}function a(a,b){return function(c,d,e){var f=b||g;c.findEntityRanges(function(b){b=b.getEntity();return typeof b==="string"&&a(f(b,e))},d)}}}),null);
__d("getHashtagRegexStringChars",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){var a="\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u024f\u0253-\u0254\u0256-\u0257\u0259\u025b\u0263\u0268\u026f\u0272\u0289\u028b\u02bb\u0300-\u036f\u1e00-\u1eff",b="\u0400-\u04ff\u0500-\u0527\u2de0-\u2dff\ua640-\ua69f\u0591-\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f4\ufb12-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4f\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06de-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0750-\u077f\u08a0\u08a2-\u08ac\u08e4-\u08fe\ufb50-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\u200c-\u200c\u0e01-\u0e3a\u0e40-\u0e4e\u1100-\u11ff\u3130-\u3185\ua960-\ua97f\uac00-\ud7af\ud7b0-\ud7ff\uffa1-\uffdc",c=String.fromCharCode;c="\u30a1-\u30fa\u30fc-\u30fe\uff66-\uff9f\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\u3041-\u3096\u3099-\u309e\u3400-\u4dbf\u4e00-\u9fff"+c(173824)+"-"+c(177983)+c(177984)+"-"+c(178207)+c(194560)+"-"+c(195103)+"\u3003\u3005\u303b";a=a+b+c;b="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u0241\u0250-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ee\u037a\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03f5\u03f7-\u0481\u048a-\u04ce\u04d0-\u04f9\u0500-\u050f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u076d\u0780-\u07a5\u07b1\u0904-\u0939\u093d\u0950\u0958-\u0961\u097d\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6a\u0f88-\u0f8b\u1000-\u1021\u1023-\u1027\u1029-\u102a\u1050-\u1055\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u1a00-\u1a16\u1d00-\u1dbf\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213c-\u213f\u2145-\u2149\u2c00-\u2c2e\u2c30-\u2c5e\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312c\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fbb\ua000-\ua48c\ua800-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";c="\u0300-\u036f\u0483-\u0486\u0591-\u05b9\u05bb-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u0615\u064b-\u065e\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u0901-\u0903\u093c\u093e-\u094d\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7-\u09c8\u09cb-\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a70-\u0a71\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b43\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c82-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0d02-\u0d03\u0d3e-\u0d43\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d82-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2-\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f3f\u0f71-\u0f84\u0f86-\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102c-\u1032\u1036-\u1039\u1056-\u1059\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8-\u19c9\u1a17-\u1a1b\u1dc0-\u1dc3\u20d0-\u20dc\u20e1\u20e5-\u20eb\u302a-\u302f\u3099-\u309a\ua802\ua806\ua80b\ua823-\ua827\ufb1e\ufe00-\ufe0f\ufe20-\ufe23";var d="0-9\u0660-\u0669\u06f0-\u06f9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\uff10-\uff19";b=b+c+a;c=d+"_";a=b+c;d="#\\uFF03";return{alpha:b,alphanumeric:a,hashChars:d}}}),null);
__d("getHashtagRegexString",["getHashtagRegexStringChars"],(function(a,b,c,d,e,f){e.exports=a;function a(){var a=b("getHashtagRegexStringChars")(),c=a.alpha,d=a.alphanumeric;a=a.hashChars;c="["+c+"]";var e="["+d+"]";d="^|$|[^&/"+d+"]";a="["+a+"]";d="("+d+")("+a+")("+e+"*"+c+e+"*)";return d}}),null);
__d("getHashtagRegex",["getHashtagRegexString"],(function(a,b,c,d,e,f){e.exports=a;function a(){return new RegExp(b("getHashtagRegexString")(),"ig")}}),null);
__d("getHashtagMatches",["getHashtagRegex"],(function(a,b,c,d,e,f){e.exports=a;var g=b("getHashtagRegex")();function a(a,b){a=a.getText();var c,d,e;while((c=g.exec(a))!==null)d=c.index+c[1].length,e=c[2],c=c[3],b(d,d+e.length+c.length)}}),null);
__d("DocumentMentionsRegex",[],(function(a,b,c,d,e,f){"use strict";a="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";b="\\b[A-Z][^\\s"+a+"]";c={PUNCTUATION:a,NAME:b};d=c;e.exports=d}),null);
__d("createMentionEntityForContentState",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c=b.getType().toLowerCase();if(c==="hashtag")return a.createEntity("HASHTAG","IMMUTABLE");var d=c==="user"||c==="fb4c"?"SEGMENTED":"IMMUTABLE",e=b.getAuxiliaryData();return a.createEntity("MENTION",d,{id:b.getUniqueID(),uri:b.getURI(),isWeak:e&&e.renderType==="non_member",type:c})}}),null);
__d("immutable",[],(function(a,b,c,d,e,f){(function(b,c){typeof f==="object"&&typeof e!=="undefined"?e.exports=c():typeof define==="function"&&define.amd?define(c):b.Immutable=c()})(this,function(){"use strict";var a=Array.prototype.slice;function b(a,b){b&&(a.prototype=Object.create(b.prototype)),a.prototype.constructor=a}var c="delete",d=5,e=1<<d,f=e-1,g={},h={value:!1},i={value:!1};function j(a){a.value=!1;return a}function k(a){a&&(a.value=!0)}function l(){}function m(a,b){b=b||0;var c=Math.max(0,a.length-b),d=new Array(c);for(var e=0;e<c;e++)d[e]=a[e+b];return d}function n(a){a.size===void 0&&(a.size=a.__iterate(p));return a.size}function o(a,b){return b>=0?+b:n(a)+ +b}function p(){return!0}function q(a,b,c){return(a===0||c!==void 0&&a<=-c)&&(b===void 0||c!==void 0&&b>=c)}function r(a,b){return aa(a,b,0)}function s(a,b){return aa(a,b,b)}function aa(a,b,c){return a===void 0?c:a<0?Math.max(0,b+a):b===void 0?a:Math.min(b,a)}function t(a){return x(a)?a:F(a)}b(u,t);function u(a){return y(a)?a:G(a)}b(v,t);function v(a){return z(a)?a:H(a)}b(w,t);function w(a){return x(a)&&!ba(a)?a:I(a)}function x(a){return!!(a&&a[da])}function y(a){return!!(a&&a[ea])}function z(a){return!!(a&&a[fa])}function ba(a){return y(a)||z(a)}function ca(a){return!!(a&&a[ga])}t.isIterable=x;t.isKeyed=y;t.isIndexed=z;t.isAssociative=ba;t.isOrdered=ca;t.Keyed=u;t.Indexed=v;t.Set=w;var da="@@__IMMUTABLE_ITERABLE__@@",ea="@@__IMMUTABLE_KEYED__@@",fa="@@__IMMUTABLE_INDEXED__@@",ga="@@__IMMUTABLE_ORDERED__@@",ha=0,A=1,B=2,ia=typeof Symbol==="function"&&Symbol.iterator,ja="@@iterator",ka=ia||ja;function C(a){this.next=a}C.prototype.toString=function(){return"[Iterator]"};C.KEYS=ha;C.VALUES=A;C.ENTRIES=B;C.prototype.inspect=C.prototype.toSource=function(){return this.toString()};C.prototype[ka]=function(){return this};function D(a,b,c,d){a=a===0?b:a===1?c:[b,c];d?d.value=a:d={value:a,done:!1};return d}function E(){return{value:void 0,done:!0}}function la(a){return!!oa(a)}function ma(a){return a&&typeof a.next==="function"}function na(a){var b=oa(a);return b&&b.call(a)}function oa(a){a=a&&(ia&&a[ia]||a[ja]);if(typeof a==="function")return a}function pa(a){return a&&typeof a.length==="number"}b(F,t);function F(a){return a===null||a===void 0?xa():x(a)?a.toSeq():Aa(a)}F.of=function(){return F(arguments)};F.prototype.toSeq=function(){return this};F.prototype.toString=function(){return this.__toString("Seq {","}")};F.prototype.cacheResult=function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length);return this};F.prototype.__iterate=function(a,b){return Ca(this,a,b,!0)};F.prototype.__iterator=function(a,b){return Da(this,a,b,!0)};b(G,F);function G(a){return a===null||a===void 0?xa().toKeyedSeq():x(a)?y(a)?a.toSeq():a.fromEntrySeq():ya(a)}G.prototype.toKeyedSeq=function(){return this};b(H,F);function H(a){return a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a.toIndexedSeq():za(a)}H.of=function(){return H(arguments)};H.prototype.toIndexedSeq=function(){return this};H.prototype.toString=function(){return this.__toString("Seq [","]")};H.prototype.__iterate=function(a,b){return Ca(this,a,b,!1)};H.prototype.__iterator=function(a,b){return Da(this,a,b,!1)};b(I,F);function I(a){return(a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a:za(a)).toSetSeq()}I.of=function(){return I(arguments)};I.prototype.toSetSeq=function(){return this};F.isSeq=va;F.Keyed=G;F.Set=I;F.Indexed=H;var qa="@@__IMMUTABLE_SEQ__@@";F.prototype[qa]=!0;b(ra,H);function ra(a){this._array=a,this.size=a.length}ra.prototype.get=function(a,b){return this.has(a)?this._array[o(this,a)]:b};ra.prototype.__iterate=function(a,b){var c=this._array,d=c.length-1;for(var e=0;e<=d;e++)if(a(c[b?d-e:e],e,this)===!1)return e+1;return e};ra.prototype.__iterator=function(a,b){var c=this._array,d=c.length-1,e=0;return new C(function(){return e>d?E():D(a,e,c[b?d-e++:e++])})};b(sa,G);function sa(a){var b=Object.keys(a);this._object=a;this._keys=b;this.size=b.length}sa.prototype.get=function(a,b){return b!==void 0&&!this.has(a)?b:this._object[a]};sa.prototype.has=function(a){return this._object.hasOwnProperty(a)};sa.prototype.__iterate=function(a,b){var c=this._object,d=this._keys,e=d.length-1;for(var f=0;f<=e;f++){var g=d[b?e-f:f];if(a(c[g],g,this)===!1)return f+1}return f};sa.prototype.__iterator=function(a,b){var c=this._object,d=this._keys,e=d.length-1,f=0;return new C(function(){var g=d[b?e-f:f];return f++>e?E():D(a,g,c[g])})};sa.prototype[ga]=!0;b(ta,H);function ta(a){this._iterable=a,this.size=a.length||a.size}ta.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterable;b=na(b);var c=0;if(ma(b)){var d;while(!(d=b.next()).done)if(a(d.value,c++,this)===!1)break}return c};ta.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);b=this._iterable;var c=na(b);if(!ma(c))return new C(E);var d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value)})};b(ua,H);function ua(a){this._iterator=a,this._iteratorCache=[]}ua.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterator;var c=this._iteratorCache,d=0;while(d<c.length)if(a(c[d],d++,this)===!1)return d;var e;while(!(e=b.next()).done){e=e.value;c[d]=e;if(a(e,d++,this)===!1)break}return d};ua.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var c=this._iterator,d=this._iteratorCache,e=0;return new C(function(){if(e>=d.length){var b=c.next();if(b.done)return b;d[e]=b.value}return D(a,e,d[e++])})};function va(a){return!!(a&&a[qa])}var wa;function xa(){return wa||(wa=new ra([]))}function ya(a){var b=Array.isArray(a)?new ra(a).fromEntrySeq():ma(a)?new ua(a).fromEntrySeq():la(a)?new ta(a).fromEntrySeq():typeof a==="object"?new sa(a):void 0;if(!b)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+a);return b}function za(a){var b=Ba(a);if(!b)throw new TypeError("Expected Array or iterable object of values: "+a);return b}function Aa(a){var b=Ba(a)||typeof a==="object"&&new sa(a);if(!b)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+a);return b}function Ba(a){return pa(a)?new ra(a):ma(a)?new ua(a):la(a)?new ta(a):void 0}function Ca(a,b,c,d){var e=a._cache;if(e){var f=e.length-1;for(var g=0;g<=f;g++){var h=e[c?f-g:g];if(b(h[1],d?h[0]:g,a)===!1)return g+1}return g}return a.__iterateUncached(b,c)}function Da(a,b,c,d){var e=a._cache;if(e){var f=e.length-1,g=0;return new C(function(){var a=e[c?f-g:g];return g++>f?E():D(b,d?a[0]:g-1,a[1])})}return a.__iteratorUncached(b,c)}b(Ea,t);function Ea(){throw TypeError("Abstract")}b(Fa,Ea);function Fa(){}b(Ga,Ea);function Ga(){}b(Ha,Ea);function Ha(){}Ea.Keyed=Fa;Ea.Indexed=Ga;Ea.Set=Ha;function J(a,b){if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1;if(typeof a.valueOf==="function"&&typeof b.valueOf==="function"){a=a.valueOf();b=b.valueOf();if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1}return typeof a.equals==="function"&&typeof b.equals==="function"&&a.equals(b)?!0:!1}function Ia(a,b){return b?Ja(b,a,"",{"":a}):Ka(a)}function Ja(a,b,c,d){if(Array.isArray(b))return a.call(d,c,H(b).map(function(c,d){return Ja(a,c,d,b)}));return La(b)?a.call(d,c,G(b).map(function(c,d){return Ja(a,c,d,b)})):b}function Ka(a){if(Array.isArray(a))return H(a).map(Ka).toList();return La(a)?G(a).map(Ka).toMap():a}function La(a){return a&&(a.constructor===Object||a.constructor===void 0)}var Ma=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(a,b){a=a|0;b=b|0;var c=a&65535,d=b&65535;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0};function Na(a){return a>>>1&1073741824|a&3221225471}function K(a){if(a===!1||a===null||a===void 0)return 0;if(typeof a.valueOf==="function"){a=a.valueOf();if(a===!1||a===null||a===void 0)return 0}if(a===!0)return 1;var b=typeof a;if(b==="number"){var c=a|0;c!==a&&(c^=a*4294967295);while(a>4294967295)a/=4294967295,c^=a;return Na(c)}if(b==="string")return a.length>Ya?Oa(a):Pa(a);return typeof a.hashCode==="function"?a.hashCode():Qa(a)}function Oa(b){var a=ab[b];a===void 0&&(a=Pa(b),$a===Za&&($a=0,ab={}),$a++,ab[b]=a);return a}function Pa(b){var a=0;for(var c=0;c<b.length;c++)a=31*a+b.charCodeAt(c)|0;return Na(a)}function Qa(b){var a;if(Ua){a=Va.get(b);if(a!==void 0)return a}a=b[Xa];if(a!==void 0)return a;if(!Sa){a=b.propertyIsEnumerable&&b.propertyIsEnumerable[Xa];if(a!==void 0)return a;a=Ta(b);if(a!==void 0)return a}a=++Wa;Wa&1073741824&&(Wa=0);if(Ua)Va.set(b,a);else if(Ra!==void 0&&Ra(b)===!1)throw new Error("Non-extensible objects are not allowed as keys.");else if(Sa)Object.defineProperty(b,Xa,{enumerable:!1,configurable:!1,writable:!1,value:a});else if(b.propertyIsEnumerable!==void 0&&b.propertyIsEnumerable===b.constructor.prototype.propertyIsEnumerable)b.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},b.propertyIsEnumerable[Xa]=a;else if(b.nodeType!==void 0)b[Xa]=a;else throw new Error("Unable to set a non-enumerable property on object.");return a}var Ra=Object.isExtensible,Sa=function(){try{Object.defineProperty({},"@",{});return!0}catch(a){return!1}}();function Ta(a){if(a&&a.nodeType>0)switch(a.nodeType){case 1:return a.uniqueID;case 9:return a.documentElement&&a.documentElement.uniqueID}}var Ua=typeof WeakMap==="function",Va;Ua&&(Va=new WeakMap());var Wa=0,Xa="__immutablehash__";typeof Symbol==="function"&&(Xa=Symbol(Xa));var Ya=16,Za=255,$a=0,ab={};function bb(a,b){if(!a)throw new Error(b)}function L(a){bb(a!==Infinity,"Cannot perform this action with an infinite size.")}b(M,G);function M(a,b){this._iter=a,this._useKeys=b,this.size=a.size}M.prototype.get=function(a,b){return this._iter.get(a,b)};M.prototype.has=function(a){return this._iter.has(a)};M.prototype.valueSeq=function(){return this._iter.valueSeq()};M.prototype.reverse=function(){var a=this,b=hb(this,!0);this._useKeys||(b.valueSeq=function(){return a._iter.toSeq().reverse()});return b};M.prototype.map=function(a,b){var c=this,d=gb(this,a,b);this._useKeys||(d.valueSeq=function(){return c._iter.toSeq().map(a,b)});return d};M.prototype.__iterate=function(a,b){var c=this,d;return this._iter.__iterate(this._useKeys?function(b,d){return a(b,d,c)}:(d=b?xb(this):0,function(e){return a(e,b?--d:d++,c)}),b)};M.prototype.__iterator=function(a,b){if(this._useKeys)return this._iter.__iterator(a,b);var c=this._iter.__iterator(A,b),d=b?xb(this):0;return new C(function(){var e=c.next();return e.done?e:D(a,b?--d:d++,e.value,e)})};M.prototype[ga]=!0;b(cb,H);function cb(a){this._iter=a,this.size=a.size}cb.prototype.includes=function(a){return this._iter.includes(a)};cb.prototype.__iterate=function(a,b){var c=this,d=0;return this._iter.__iterate(function(b){return a(b,d++,c)},b)};cb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b),d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value,b)})};b(db,I);function db(a){this._iter=a,this.size=a.size}db.prototype.has=function(a){return this._iter.includes(a)};db.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){return a(b,b,c)},b)};db.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){var b=c.next();return b.done?b:D(a,b.value,b.value,b)})};b(eb,G);function eb(a){this._iter=a,this.size=a.size}eb.prototype.entrySeq=function(){return this._iter.toSeq()};eb.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){if(b){wb(b);var d=x(b);return a(d?b.get(1):b[1],d?b.get(0):b[0],c)}},b)};eb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){while(!0){var b=c.next();if(b.done)return b;var d=b.value;if(d){wb(d);var e=x(d);return D(a,e?d.get(0):d[0],e?d.get(1):d[1],b)}}})};cb.prototype.cacheResult=M.prototype.cacheResult=db.prototype.cacheResult=eb.prototype.cacheResult=Ab;function fb(a){var b=zb(a);b._iter=a;b.size=a.size;b.flip=function(){return a};b.reverse=function(){var b=a.reverse.apply(this);b.flip=function(){return a.reverse()};return b};b.has=function(b){return a.includes(b)};b.includes=function(b){return a.has(b)};b.cacheResult=Ab;b.__iterateUncached=function(b,c){var d=this;return a.__iterate(function(a,c){return b(c,a,d)!==!1},c)};b.__iteratorUncached=function(b,c){if(b===B){var d=a.__iterator(b,c);return new C(function(){var a=d.next();if(!a.done){var b=a.value[0];a.value[0]=a.value[1];a.value[1]=b}return a})}return a.__iterator(b===A?ha:A,c)};return b}function gb(a,b,c){var d=zb(a);d.size=a.size;d.has=function(b){return a.has(b)};d.get=function(d,e){var f=a.get(d,g);return f===g?e:b.call(c,f,d,a)};d.__iterateUncached=function(d,e){var f=this;return a.__iterate(function(a,e,g){return d(b.call(c,a,e,g),e,f)!==!1},e)};d.__iteratorUncached=function(d,e){var f=a.__iterator(B,e);return new C(function(){var e=f.next();if(e.done)return e;var g=e.value,h=g[0];return D(d,h,b.call(c,g[1],h,a),e)})};return d}function hb(a,b){var c=zb(a);c._iter=a;c.size=a.size;c.reverse=function(){return a};a.flip&&(c.flip=function(){var b=fb(a);b.reverse=function(){return a.flip()};return b});c.get=function(c,d){return a.get(b?c:-1-c,d)};c.has=function(c){return a.has(b?c:-1-c)};c.includes=function(b){return a.includes(b)};c.cacheResult=Ab;c.__iterate=function(b,c){var d=this;return a.__iterate(function(a,c){return b(a,c,d)},!c)};c.__iterator=function(b,c){return a.__iterator(b,!c)};return c}function ib(a,b,c,d){var e=zb(a);d&&(e.has=function(d){var e=a.get(d,g);return e!==g&&!!b.call(c,e,d,a)},e.get=function(d,e){var f=a.get(d,g);return f!==g&&b.call(c,f,d,a)?f:e});e.__iterateUncached=function(e,f){var g=this,h=0;a.__iterate(function(a,f,i){if(b.call(c,a,f,i)){h++;return e(a,d?f:h-1,g)}},f);return h};e.__iteratorUncached=function(e,f){var g=a.__iterator(B,f),h=0;return new C(function(){while(!0){var f=g.next();if(f.done)return f;var i=f.value,j=i[0];i=i[1];if(b.call(c,i,j,a))return D(e,d?j:h++,i,f)}})};return e}function jb(a,b,c){var d=O().asMutable();a.__iterate(function(e,f){d.update(b.call(c,e,f,a),0,function(a){return a+1})});return d.asImmutable()}function kb(a,b,c){var d=y(a),e=(ca(a)?S():O()).asMutable();a.__iterate(function(f,g){e.update(b.call(c,f,g,a),function(a){return a=a||[],a.push(d?[g,f]:f),a})});var f=yb(a);return e.map(function(b){return N(a,f(b))})}function lb(a,b,c,d){var e=a.size;if(q(b,c,e))return a;var f=r(b,e);e=s(c,e);if(f!==f||e!==e)return lb(a.toSeq().cacheResult(),b,c,d);b=e-f;var g;b===b&&(g=b<0?0:b);c=zb(a);c.size=g;!d&&va(a)&&g>=0&&(c.get=function(b,c){b=o(this,b);return b>=0&&b<g?a.get(b+f,c):c});c.__iterateUncached=function(b,c){var e=this;if(g===0)return 0;if(c)return this.cacheResult().__iterate(b,c);var h=0,i=!0,j=0;a.__iterate(function(a,c){if(!(i&&(i=h++<f))){j++;return b(a,d?c:j-1,e)!==!1&&j!==g}});return j};c.__iteratorUncached=function(b,c){if(g!==0&&c)return this.cacheResult().__iterator(b,c);var e=g!==0&&a.__iterator(b,c),h=0,i=0;return new C(function(){while(h++<f)e.next();if(++i>g)return E();var a=e.next();if(d||b===A)return a;else if(b===ha)return D(b,i-1,void 0,a);else return D(b,i-1,a.value[1],a)})};return c}function mb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterate(d,e);var g=0;a.__iterate(function(a,e,h){return b.call(c,a,e,h)&&++g&&d(a,e,f)});return g};d.__iteratorUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterator(d,e);var g=a.__iterator(B,e),h=!0;return new C(function(){if(!h)return E();var a=g.next();if(a.done)return a;var e=a.value,i=e[0];e=e[1];if(!b.call(c,e,i,f)){h=!1;return E()}return d===B?a:D(d,i,e,a)})};return d}function nb(a,b,c,d){var e=zb(a);e.__iterateUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterate(e,f);var h=!0,i=0;a.__iterate(function(a,f,j){if(!(h&&(h=b.call(c,a,f,j)))){i++;return e(a,d?f:i-1,g)}});return i};e.__iteratorUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterator(e,f);var h=a.__iterator(B,f),i=!0,j=0;return new C(function(){var a,f;do{a=h.next();if(a.done)if(d||e===A)return a;else if(e===ha)return D(e,j++,void 0,a);else return D(e,j++,a.value[1],a);var k=a.value;f=k[0];k=k[1];i&&(i=b.call(c,k,f,g))}while(i);return e===B?a:D(e,f,k,a)})};return e}function ob(a,b){var c=y(a);b=[a].concat(b).map(function(a){!x(a)?a=c?ya(a):za(Array.isArray(a)?a:[a]):c&&(a=u(a));return a}).filter(function(a){return a.size!==0});if(b.length===0)return a;if(b.length===1){var d=b[0];if(d===a||c&&y(d)||z(a)&&z(d))return d}d=new ra(b);c?d=d.toKeyedSeq():z(a)||(d=d.toSetSeq());d=d.flatten(!0);d.size=b.reduce(function(a,b){if(a!==void 0){b=b.size;if(b!==void 0)return a+b}},0);return d}function pb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=0,g=!1;function h(a,i){var j=this;a.__iterate(function(a,e){(!b||i<b)&&x(a)?h(a,i+1):d(a,c?e:f++,j)===!1&&(g=!0);return!g},e)}h(a,0);return f};d.__iteratorUncached=function(d,e){var f=a.__iterator(d,e),g=[],h=0;return new C(function(){while(f){var a=f.next();if(a.done!==!1){f=g.pop();continue}var i=a.value;d===B&&(i=i[1]);if((!b||g.length<b)&&x(i))g.push(f),f=i.__iterator(d,e);else return c?a:D(d,h++,i,a)}return E()})};return d}function qb(a,b,c){var d=yb(a);return a.toSeq().map(function(e,f){return d(b.call(c,e,f,a))}).flatten(!0)}function rb(a,b){var c=zb(a);c.size=a.size&&a.size*2-1;c.__iterateUncached=function(c,d){var e=this,f=0;a.__iterate(function(a,d){return(!f||c(b,f++,e)!==!1)&&c(a,f++,e)!==!1},d);return f};c.__iteratorUncached=function(c,d){var e=a.__iterator(A,d),f=0,g;return new C(function(){if(!g||f%2){g=e.next();if(g.done)return g}return f%2?D(c,f++,b):D(c,f++,g.value,g)})};return c}function sb(a,b,c){b||(b=Bb);var d=y(a),e=0,f=a.toSeq().map(function(b,d){return[d,b,e++,c?c(b,d,a):b]}).toArray();f.sort(function(a,c){return b(a[3],c[3])||a[2]-c[2]}).forEach(d?function(a,b){f[b].length=2}:function(a,b){f[b]=a[1]});return d?G(f):z(a)?H(f):I(f)}function tb(a,b,c){b||(b=Bb);if(c){var d=a.toSeq().map(function(b,d){return[b,c(b,d,a)]}).reduce(function(a,c){return ub(b,a[1],c[1])?c:a});return d&&d[0]}else return a.reduce(function(a,c){return ub(b,a,c)?c:a})}function ub(a,b,c){a=a(c,b);return a===0&&c!==b&&(c===void 0||c===null||c!==c)||a>0}function vb(a,b,c){a=zb(a);a.size=new ra(c).map(function(a){return a.size}).min();a.__iterate=function(a,b){b=this.__iterator(A,b);var c,d=0;while(!(c=b.next()).done)if(a(c.value,d++,this)===!1)break;return d};a.__iteratorUncached=function(a,d){var e=c.map(function(a){return a=t(a),na(d?a.reverse():a)}),f=0,g=!1;return new C(function(){var c;g||(c=e.map(function(a){return a.next()}),g=c.some(function(a){return a.done}));return g?E():D(a,f++,b.apply(null,c.map(function(a){return a.value})))})};return a}function N(a,b){return va(a)?b:a.constructor(b)}function wb(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a)}function xb(a){L(a.size);return n(a)}function yb(a){return y(a)?u:z(a)?v:w}function zb(a){return Object.create((y(a)?G:z(a)?H:I).prototype)}function Ab(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else return F.prototype.cacheResult.call(this)}function Bb(a,b){return a>b?1:a<b?-1:0}function Cb(a){var b=na(a);if(!b){if(!pa(a))throw new TypeError("Expected iterable or array-like: "+a);b=na(t(a))}return b}b(O,Fa);function O(a){return a===null||a===void 0?Pb():Db(a)?a:Pb().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}O.prototype.toString=function(){return this.__toString("Map {","}")};O.prototype.get=function(a,b){return this._root?this._root.get(0,void 0,a,b):b};O.prototype.set=function(a,b){return Qb(this,a,b)};O.prototype.setIn=function(a,b){return this.updateIn(a,g,function(){return b})};O.prototype.remove=function(a){return Qb(this,a,g)};O.prototype.deleteIn=function(a){return this.updateIn(a,function(){return g})};O.prototype.update=function(a,b,c){return arguments.length===1?a(this):this.updateIn([a],b,c)};O.prototype.updateIn=function(a,b,c){c||(c=b,b=void 0);a=$b(this,Cb(a),b,c);return a===g?void 0:a};O.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=void 0;this.__altered=!0;return this}return Pb()};O.prototype.merge=function(){return Xb(this,void 0,arguments)};O.prototype.mergeWith=function(b){var c=a.call(arguments,1);return Xb(this,b,c)};O.prototype.mergeIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.merge==="function"?a.merge.apply(a,c):c[c.length-1]})};O.prototype.mergeDeep=function(){return Xb(this,Yb(void 0),arguments)};O.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return Xb(this,Yb(b),c)};O.prototype.mergeDeepIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.mergeDeep==="function"?a.mergeDeep.apply(a,c):c[c.length-1]})};O.prototype.sort=function(a){return S(sb(this,a))};O.prototype.sortBy=function(a,b){return S(sb(this,b,a))};O.prototype.withMutations=function(a){var b=this.asMutable();a(b);return b.wasAltered()?b.__ensureOwner(this.__ownerID):this};O.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new l())};O.prototype.asImmutable=function(){return this.__ensureOwner()};O.prototype.wasAltered=function(){return this.__altered};O.prototype.__iterator=function(a,b){return new Kb(this,a,b)};O.prototype.__iterate=function(a,b){var c=this,d=0;this._root&&this._root.iterate(function(b){d++;return a(b[1],b[0],c)},b);return d};O.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Nb(this.size,this._root,a,this.__hash)};function Db(a){return!!(a&&a[Eb])}O.isMap=Db;var Eb="@@__IMMUTABLE_MAP__@@",P=O.prototype;P[Eb]=!0;P[c]=P.remove;P.removeIn=P.deleteIn;function Fb(a,b){this.ownerID=a,this.entries=b}Fb.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Fb.prototype.update=function(a,b,c,d,e,f,h){b=e===g;c=this.entries;var i=0;for(var j=c.length;i<j;i++)if(J(d,c[i][0]))break;var l=i<j;if(l?c[i][1]===e:b)return this;k(h);(b||!l)&&k(f);if(b&&c.length===1)return;if(!l&&!b&&c.length>=ec)return Ub(a,c,d,e);h=a&&a===this.ownerID;f=h?c:m(c);l?b?i===j-1?f.pop():f[i]=f.pop():f[i]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Fb(a,f)};function Gb(a,b,c){this.ownerID=a,this.bitmap=b,this.nodes=c}Gb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=1<<((a===0?b:b>>>a)&f),h=this.bitmap;return(h&g)===0?e:this.nodes[ac(h&g-1)].get(a+d,b,c,e)};Gb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=1<<k,m=this.bitmap,n=(m&l)!==0;if(!n&&h===g)return this;var o=ac(m&l-1),p=this.nodes,q=n?p[o]:void 0;b=Rb(q,a,b+d,c,e,h,i,j);if(b===q)return this;if(!n&&b&&p.length>=fc)return Wb(a,p,m,k,b);if(n&&!b&&p.length===2&&Sb(p[o^1]))return p[o^1];if(n&&b&&p.length===1&&Sb(b))return b;c=a&&a===this.ownerID;e=n?b?m:m^l:m|l;h=n?b?bc(p,o,b,c):dc(p,o,c):cc(p,o,b,c);if(c){this.bitmap=e;this.nodes=h;return this}return new Gb(a,e,h)};function Hb(a,b,c){this.ownerID=a,this.count=b,this.nodes=c}Hb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=(a===0?b:b>>>a)&f;g=this.nodes[g];return g?g.get(a+d,b,c,e):e};Hb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=h===g,m=this.nodes,n=m[k];if(l&&!n)return this;l=Rb(n,a,b+d,c,e,h,i,j);if(l===n)return this;b=this.count;if(!n)b++;else if(!l){b--;if(b<gc)return Vb(a,m,b,k)}c=a&&a===this.ownerID;e=bc(m,k,l,c);if(c){this.count=b;this.nodes=e;return this}return new Hb(a,b,e)};function Ib(a,b,c){this.ownerID=a,this.keyHash=b,this.entries=c}Ib.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Ib.prototype.update=function(a,b,c,d,e,f,h){c===void 0&&(c=K(d));var i=e===g;if(c!==this.keyHash){if(i)return this;k(h);k(f);return Tb(this,a,b,c,[d,e])}b=this.entries;c=0;for(var j=b.length;c<j;c++)if(J(d,b[c][0]))break;var l=c<j;if(l?b[c][1]===e:i)return this;k(h);(i||!l)&&k(f);if(i&&j===2)return new Jb(a,this.keyHash,b[c^1]);h=a&&a===this.ownerID;f=h?b:m(b);l?i?c===j-1?f.pop():f[c]=f.pop():f[c]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Ib(a,this.keyHash,f)};function Jb(a,b,c){this.ownerID=a,this.keyHash=b,this.entry=c}Jb.prototype.get=function(a,b,c,d){return J(c,this.entry[0])?this.entry[1]:d};Jb.prototype.update=function(a,b,c,d,e,f,h){c=e===g;var i=J(d,this.entry[0]);if(i?e===this.entry[1]:c)return this;k(h);if(c){k(f);return}if(i){if(a&&a===this.ownerID){this.entry[1]=e;return this}return new Jb(a,this.keyHash,[d,e])}k(f);return Tb(this,a,b,K(d),[d,e])};Fb.prototype.iterate=Ib.prototype.iterate=function(a,b){var c=this.entries;for(var d=0,e=c.length-1;d<=e;d++)if(a(c[b?e-d:d])===!1)return!1};Gb.prototype.iterate=Hb.prototype.iterate=function(a,b){var c=this.nodes;for(var d=0,e=c.length-1;d<=e;d++){var f=c[b?e-d:d];if(f&&f.iterate(a,b)===!1)return!1}};Jb.prototype.iterate=function(a,b){return a(this.entry)};b(Kb,C);function Kb(a,b,c){this._type=b,this._reverse=c,this._stack=a._root&&Mb(a._root)}Kb.prototype.next=function(){var a=this._type,b=this._stack;while(b){var c=b.node,d=b.index++,e;if(c.entry){if(d===0)return Lb(a,c.entry)}else if(c.entries){e=c.entries.length-1;if(d<=e)return Lb(a,c.entries[this._reverse?e-d:d])}else{e=c.nodes.length-1;if(d<=e){c=c.nodes[this._reverse?e-d:d];if(c){if(c.entry)return Lb(a,c.entry);b=this._stack=Mb(c,b)}continue}}b=this._stack=this._stack.__prev}return E()};function Lb(a,b){return D(a,b[0],b[1])}function Mb(a,b){return{node:a,index:0,__prev:b}}function Nb(b,c,d,a){var e=Object.create(P);e.size=b;e._root=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Ob;function Pb(){return Ob||(Ob=Nb(0))}function Qb(a,b,c){var d,e;if(!a._root){if(c===g)return a;e=1;d=new Fb(a.__ownerID,[[b,c]])}else{var f=j(h),k=j(i);d=Rb(a._root,a.__ownerID,0,void 0,b,c,f,k);if(!k.value)return a;e=a.size+(f.value?c===g?-1:1:0)}if(a.__ownerID){a.size=e;a._root=d;a.__hash=void 0;a.__altered=!0;return a}return d?Nb(e,d):Pb()}function Rb(a,b,c,d,e,f,h,i){if(!a){if(f===g)return a;k(i);k(h);return new Jb(b,d,[e,f])}return a.update(b,c,d,e,f,h,i)}function Sb(a){return a.constructor===Jb||a.constructor===Ib}function Tb(a,b,c,e,g){if(a.keyHash===e)return new Ib(b,e,[a.entry,g]);var h=(c===0?a.keyHash:a.keyHash>>>c)&f,i=(c===0?e:e>>>c)&f;e=h===i?[Tb(a,b,c+d,e,g)]:(c=new Jb(b,e,g),h<i?[a,c]:[c,a]);return new Gb(b,1<<h|1<<i,e)}function Ub(a,b,c,d){a||(a=new l());c=new Jb(a,K(c),[c,d]);for(var d=0;d<b.length;d++){var e=b[d];c=c.update(a,0,void 0,e[0],e[1])}return c}function Vb(a,b,c,d){var e=0,f=0;c=new Array(c);for(var g=0,h=1,i=b.length;g<i;g++,h<<=1){var j=b[g];j!==void 0&&g!==d&&(e|=h,c[f++]=j)}return new Gb(a,e,c)}function Wb(a,b,c,d,f){var g=0,h=new Array(e);for(var i=0;c!==0;i++,c>>>=1)h[i]=c&1?b[g++]:void 0;h[d]=f;return new Hb(a,g+1,h)}function Xb(a,b,c){var d=[];for(var e=0;e<c.length;e++){var f=c[e],g=u(f);x(f)||(g=g.map(function(a){return Ia(a)}));d.push(g)}return Zb(a,b,d)}function Yb(a){return function(b,c,d){return b&&b.mergeDeepWith&&x(c)?b.mergeDeepWith(a,c):a?a(b,c,d):c}}function Zb(a,b,c){c=c.filter(function(a){return a.size!==0});if(c.length===0)return a;return a.size===0&&!a.__ownerID&&c.length===1?a.constructor(c[0]):a.withMutations(function(a){var d=b?function(c,d){a.update(d,g,function(a){return a===g?c:b(a,c,d)})}:function(b,c){a.set(c,b)};for(var e=0;e<c.length;e++)c[e].forEach(d)})}function $b(a,b,c,d){var e=a===g,f=b.next();if(f.done){var h=e?c:a,i=d(h);return i===h?a:i}bb(e||a&&a.set,"invalid keyPath");h=f.value;i=e?g:a.get(h,g);f=$b(i,b,c,d);return f===i?a:f===g?a.remove(h):(e?Pb():a).set(h,f)}function ac(a){a=a-(a>>1&1431655765);a=(a&858993459)+(a>>2&858993459);a=a+(a>>4)&252645135;a=a+(a>>8);a=a+(a>>16);return a&127}function bc(a,b,c,d){d=d?a:m(a);d[b]=c;return d}function cc(a,b,c,d){var e=a.length+1;if(d&&b+1===e){a[b]=c;return a}d=new Array(e);var f=0;for(var g=0;g<e;g++)g===b?(d[g]=c,f=-1):d[g]=a[g+f];return d}function dc(a,b,c){var d=a.length-1;if(c&&b===d){a.pop();return a}c=new Array(d);var e=0;for(var f=0;f<d;f++)f===b&&(e=1),c[f]=a[f+e];return c}var ec=e/4,fc=e/2,gc=e/4;b(Q,Ga);function Q(a){var b=oc();if(a===null||a===void 0)return b;if(hc(a))return a;var c=v(a),f=c.size;if(f===0)return b;L(f);return f>0&&f<e?mc(0,f,d,null,new jc(c.toArray())):b.withMutations(function(a){a.setSize(f),c.forEach(function(b,c){return a.set(c,b)})})}Q.of=function(){return this(arguments)};Q.prototype.toString=function(){return this.__toString("List [","]")};Q.prototype.get=function(a,b){a=o(this,a);if(a<0||a>=this.size)return b;a+=this._origin;b=sc(this,a);return b&&b.array[a&f]};Q.prototype.set=function(a,b){return pc(this,a,b)};Q.prototype.remove=function(a){return this.has(a)?a===0?this.shift():a===this.size-1?this.pop():this.splice(a,1):this};Q.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=d;this._root=this._tail=null;this.__hash=void 0;this.__altered=!0;return this}return oc()};Q.prototype.push=function(){var a=arguments,b=this.size;return this.withMutations(function(c){tc(c,0,b+a.length);for(var d=0;d<a.length;d++)c.set(b+d,a[d])})};Q.prototype.pop=function(){return tc(this,0,-1)};Q.prototype.unshift=function(){var a=arguments;return this.withMutations(function(b){tc(b,-a.length);for(var c=0;c<a.length;c++)b.set(c,a[c])})};Q.prototype.shift=function(){return tc(this,1)};Q.prototype.merge=function(){return uc(this,void 0,arguments)};Q.prototype.mergeWith=function(b){var c=a.call(arguments,1);return uc(this,b,c)};Q.prototype.mergeDeep=function(){return uc(this,Yb(void 0),arguments)};Q.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return uc(this,Yb(b),c)};Q.prototype.setSize=function(a){return tc(this,0,a)};Q.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:tc(this,r(a,c),s(b,c))};Q.prototype.__iterator=function(a,b){var c=0,d=lc(this,b);return new C(function(){var b=d();return b===kc?E():D(a,c++,b)})};Q.prototype.__iterate=function(a,b){var c=0;b=lc(this,b);var d;while((d=b())!==kc)if(a(d,c++,this)===!1)break;return c};Q.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;return this}return mc(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash)};function hc(a){return!!(a&&a[ic])}Q.isList=hc;var ic="@@__IMMUTABLE_LIST__@@",R=Q.prototype;R[ic]=!0;R[c]=R.remove;R.setIn=P.setIn;R.deleteIn=R.removeIn=P.removeIn;R.update=P.update;R.updateIn=P.updateIn;R.mergeIn=P.mergeIn;R.mergeDeepIn=P.mergeDeepIn;R.withMutations=P.withMutations;R.asMutable=P.asMutable;R.asImmutable=P.asImmutable;R.wasAltered=P.wasAltered;function jc(a,b){this.array=a,this.ownerID=b}jc.prototype.removeBefore=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c>>>b&f;if(e>=this.array.length)return new jc([],a);var g=e===0,h;if(b>0){var i=this.array[e];h=i&&i.removeBefore(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);if(!g)for(var c=0;c<e;c++)b.array[c]=void 0;h&&(b.array[e]=h);return b};jc.prototype.removeAfter=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c-1>>>b&f;if(e>=this.array.length)return this;var g=e===this.array.length-1,h;if(b>0){var i=this.array[e];h=i&&i.removeAfter(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);g||b.array.pop();h&&(b.array[e]=h);return b};var kc={};function lc(a,b){var c=a._origin,f=a._capacity,g=vc(f),h=a._tail;return i(a._root,a._level,0);function i(a,b,c){return b===0?j(a,c):k(a,b,c)}function j(a,d){var i=d===g?h&&h.array:a&&a.array,j=d>c?0:c-d,k=f-d;k>e&&(k=e);return function(){if(j===k)return kc;var a=b?--k:j++;return i&&i[a]}}function k(a,g,h){var j,k=a&&a.array,l=h>c?0:c-h>>g,m=(f-h>>g)+1;m>e&&(m=e);return function(){do{if(j){var a=j();if(a!==kc)return a;j=null}if(l===m)return kc;a=b?--m:l++;j=i(k&&k[a],g-d,h+(a<<g))}while(!0)}}}function mc(b,c,d,e,f,g,a){var h=Object.create(R);h.size=c-b;h._origin=b;h._capacity=c;h._level=d;h._root=e;h._tail=f;h.__ownerID=g;h.__hash=a;h.__altered=!1;return h}var nc;function oc(){return nc||(nc=mc(0,0,d))}function pc(a,b,c){b=o(a,b);if(b>=a.size||b<0)return a.withMutations(function(a){b<0?tc(a,b).set(0,c):tc(a,0,b+1).set(b,c)});b+=a._origin;var d=a._tail,e=a._root,f=j(i);b>=vc(a._capacity)?d=qc(d,a.__ownerID,0,b,c,f):e=qc(e,a.__ownerID,a._level,b,c,f);if(!f.value)return a;if(a.__ownerID){a._root=e;a._tail=d;a.__hash=void 0;a.__altered=!0;return a}return mc(a._origin,a._capacity,a._level,e,d)}function qc(a,b,c,e,g,h){var i=e>>>c&f,j=a&&i<a.array.length;if(!j&&g===void 0)return a;if(c>0){var l=a&&a.array[i];c=qc(l,b,c-d,e,g,h);if(c===l)return a;e=rc(a,b);e.array[i]=c;return e}if(j&&a.array[i]===g)return a;k(h);e=rc(a,b);g===void 0&&i===e.array.length-1?e.array.pop():e.array[i]=g;return e}function rc(a,b){return b&&a&&b===a.ownerID?a:new jc(a?a.array.slice():[],b)}function sc(a,b){if(b>=vc(a._capacity))return a._tail;if(b<1<<a._level+d){var c=a._root;a=a._level;while(c&&a>0)c=c.array[b>>>a&f],a-=d;return c}}function tc(a,b,c){var e=a.__ownerID||new l(),g=a._origin,h=a._capacity;b=g+b;c=c===void 0?h:c<0?h+c:g+c;if(b===g&&c===h)return a;if(b>=c)return a.clear();var i=a._level,j=a._root,k=0;while(b+k<0)j=new jc(j&&j.array.length?[void 0,j]:[],e),i+=d,k+=1<<i;k&&(b+=k,g+=k,c+=k,h+=k);var m=vc(h),n=vc(c);while(n>=1<<i+d)j=new jc(j&&j.array.length?[j]:[],e),i+=d;var o=a._tail,p=n<m?sc(a,c-1):n>m?new jc([],e):o;if(o&&n>m&&b<h&&o.array.length){j=rc(j,e);var q=j;for(var r=i;r>d;r-=d){var s=m>>>r&f;q=q.array[s]=rc(q.array[s],e)}q.array[m>>>d&f]=o}c<h&&(p=p&&p.removeAfter(e,0,c));if(b>=n)b-=n,c-=n,i=d,j=null,p=p&&p.removeBefore(e,0,b);else if(b>g||n<m){k=0;while(j){s=b>>>i&f;if(s!==n>>>i&f)break;s&&(k+=(1<<i)*s);i-=d;j=j.array[s]}j&&b>g&&(j=j.removeBefore(e,i,b-k));j&&n<m&&(j=j.removeAfter(e,i,n-k));k&&(b-=k,c-=k)}if(a.__ownerID){a.size=c-b;a._origin=b;a._capacity=c;a._level=i;a._root=j;a._tail=p;a.__hash=void 0;a.__altered=!0;return a}return mc(b,c,i,j,p)}function uc(a,b,c){var d=[],e=0;for(var f=0;f<c.length;f++){var g=c[f],h=v(g);h.size>e&&(e=h.size);x(g)||(h=h.map(function(a){return Ia(a)}));d.push(h)}e>a.size&&(a=a.setSize(e));return Zb(a,b,d)}function vc(a){return a<e?0:a-1>>>d<<d}b(S,O);function S(a){return a===null||a===void 0?zc():wc(a)?a:zc().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}S.of=function(){return this(arguments)};S.prototype.toString=function(){return this.__toString("OrderedMap {","}")};S.prototype.get=function(a,b){a=this._map.get(a);return a!==void 0?this._list.get(a)[1]:b};S.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return zc()};S.prototype.set=function(a,b){return Ac(this,a,b)};S.prototype.remove=function(a){return Ac(this,a,g)};S.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};S.prototype.__iterate=function(a,b){var c=this;return this._list.__iterate(function(b){return b&&a(b[1],b[0],c)},b)};S.prototype.__iterator=function(a,b){return this._list.fromEntrySeq().__iterator(a,b)};S.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a),c=this._list.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;this._list=c;return this}return xc(b,c,a,this.__hash)};function wc(a){return Db(a)&&ca(a)}S.isOrderedMap=wc;S.prototype[ga]=!0;S.prototype[c]=S.prototype.remove;function xc(b,c,d,a){var e=Object.create(S.prototype);e.size=b?b.size:0;e._map=b;e._list=c;e.__ownerID=d;e.__hash=a;return e}var yc;function zc(){return yc||(yc=xc(Pb(),oc()))}function Ac(a,b,c){var d=a._map,f=a._list,h=d.get(b),i=h!==void 0,j,k;if(c===g){if(!i)return a;f.size>=e&&f.size>=d.size*2?(k=f.filter(function(a,b){return a!==void 0&&h!==b}),j=k.toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),a.__ownerID&&(j.__ownerID=k.__ownerID=a.__ownerID)):(j=d.remove(b),k=h===f.size-1?f.pop():f.set(h,void 0))}else if(i){if(c===f.get(h)[1])return a;j=d;k=f.set(h,[b,c])}else j=d.set(b,f.size),k=f.set(f.size,[b,c]);if(a.__ownerID){a.size=j.size;a._map=j;a._list=k;a.__hash=void 0;return a}return xc(j,k)}b(T,Ga);function T(a){return a===null||a===void 0?Gc():Bc(a)?a:Gc().unshiftAll(a)}T.of=function(){return this(arguments)};T.prototype.toString=function(){return this.__toString("Stack [","]")};T.prototype.get=function(a,b){var c=this._head;a=o(this,a);while(c&&a--)c=c.next;return c?c.value:b};T.prototype.peek=function(){return this._head&&this._head.value};T.prototype.push=function(){if(arguments.length===0)return this;var a=this.size+arguments.length,b=this._head;for(var c=arguments.length-1;c>=0;c--)b={value:arguments[c],next:b};if(this.__ownerID){this.size=a;this._head=b;this.__hash=void 0;this.__altered=!0;return this}return Ec(a,b)};T.prototype.pushAll=function(a){a=v(a);if(a.size===0)return this;L(a.size);var b=this.size,c=this._head;a.reverse().forEach(function(a){b++,c={value:a,next:c}});if(this.__ownerID){this.size=b;this._head=c;this.__hash=void 0;this.__altered=!0;return this}return Ec(b,c)};T.prototype.pop=function(){return this.slice(1)};T.prototype.unshift=function(){return this.push.apply(this,arguments)};T.prototype.unshiftAll=function(a){return this.pushAll(a)};T.prototype.shift=function(){return this.pop.apply(this,arguments)};T.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=void 0;this.__hash=void 0;this.__altered=!0;return this}return Gc()};T.prototype.slice=function(a,b){if(q(a,b,this.size))return this;var c=r(a,this.size),d=s(b,this.size);if(d!==this.size)return Ga.prototype.slice.call(this,a,b);d=this.size-c;a=this._head;while(c--)a=a.next;if(this.__ownerID){this.size=d;this._head=a;this.__hash=void 0;this.__altered=!0;return this}return Ec(d,a)};T.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Ec(this.size,this._head,a,this.__hash)};T.prototype.__iterate=function(a,b){if(b)return this.reverse().__iterate(a);b=0;var c=this._head;while(c){if(a(c.value,b++,this)===!1)break;c=c.next}return b};T.prototype.__iterator=function(a,b){if(b)return this.reverse().__iterator(a);var c=0,d=this._head;return new C(function(){if(d){var b=d.value;d=d.next;return D(a,c++,b)}return E()})};function Bc(a){return!!(a&&a[Cc])}T.isStack=Bc;var Cc="@@__IMMUTABLE_STACK__@@",Dc=T.prototype;Dc[Cc]=!0;Dc.withMutations=P.withMutations;Dc.asMutable=P.asMutable;Dc.asImmutable=P.asImmutable;Dc.wasAltered=P.wasAltered;function Ec(b,c,d,a){var e=Object.create(Dc);e.size=b;e._head=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Fc;function Gc(){return Fc||(Fc=Ec(0))}b(U,Ha);function U(a){return a===null||a===void 0?Mc():Hc(a)?a:Mc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}U.of=function(){return this(arguments)};U.fromKeys=function(a){return this(u(a).keySeq())};U.prototype.toString=function(){return this.__toString("Set {","}")};U.prototype.has=function(a){return this._map.has(a)};U.prototype.add=function(a){return Jc(this,this._map.set(a,!0))};U.prototype.remove=function(a){return Jc(this,this._map.remove(a))};U.prototype.clear=function(){return Jc(this,this._map.clear())};U.prototype.union=function(){var b=a.call(arguments,0);b=b.filter(function(a){return a.size!==0});if(b.length===0)return this;return this.size===0&&!this.__ownerID&&b.length===1?this.constructor(b[0]):this.withMutations(function(a){for(var c=0;c<b.length;c++)w(b[c]).forEach(function(b){return a.add(b)})})};U.prototype.intersect=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.every(function(a){return a.includes(c)})||a.remove(c)})})};U.prototype.subtract=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.some(function(a){return a.includes(c)})&&a.remove(c)})})};U.prototype.merge=function(){return this.union.apply(this,arguments)};U.prototype.mergeWith=function(b){var c=a.call(arguments,1);return this.union.apply(this,c)};U.prototype.sort=function(a){return Nc(sb(this,a))};U.prototype.sortBy=function(a,b){return Nc(sb(this,b,a))};U.prototype.wasAltered=function(){return this._map.wasAltered()};U.prototype.__iterate=function(a,b){var c=this;return this._map.__iterate(function(b,d){return a(d,d,c)},b)};U.prototype.__iterator=function(a,b){return this._map.map(function(a,b){return b}).__iterator(a,b)};U.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return this.__make(b,a)};function Hc(a){return!!(a&&a[Ic])}U.isSet=Hc;var Ic="@@__IMMUTABLE_SET__@@",V=U.prototype;V[Ic]=!0;V[c]=V.remove;V.mergeDeep=V.merge;V.mergeDeepWith=V.mergeWith;V.withMutations=P.withMutations;V.asMutable=P.asMutable;V.asImmutable=P.asImmutable;V.__empty=Mc;V.__make=Kc;function Jc(a,b){if(a.__ownerID){a.size=b.size;a._map=b;return a}return b===a._map?a:b.size===0?a.__empty():a.__make(b)}function Kc(a,b){var c=Object.create(V);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Lc;function Mc(){return Lc||(Lc=Kc(Pb()))}b(Nc,U);function Nc(a){return a===null||a===void 0?Sc():Oc(a)?a:Sc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}Nc.of=function(){return this(arguments)};Nc.fromKeys=function(a){return this(u(a).keySeq())};Nc.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Oc(a){return Hc(a)&&ca(a)}Nc.isOrderedSet=Oc;var Pc=Nc.prototype;Pc[ga]=!0;Pc.__empty=Sc;Pc.__make=Qc;function Qc(a,b){var c=Object.create(Pc);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Rc;function Sc(){return Rc||(Rc=Qc(zc()))}b(W,Fa);function W(a,b){var c,d=function(f){if(f instanceof d)return f;if(!(this instanceof d))return new d(f);if(!c){c=!0;var g=Object.keys(a);Vc(e,g);e.size=g.length;e._name=b;e._keys=g;e._defaultValues=a}this._map=O(f)},e=d.prototype=Object.create(X);e.constructor=d;return d}W.prototype.toString=function(){return this.__toString(Uc(this)+" {","}")};W.prototype.has=function(a){return this._defaultValues.hasOwnProperty(a)};W.prototype.get=function(a,b){if(!this.has(a))return b;b=this._defaultValues[a];return this._map?this._map.get(a,b):b};W.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var a=this.constructor;return a._empty||(a._empty=Tc(this,Pb()))};W.prototype.set=function(a,b){if(!this.has(a))throw new Error('Cannot set unknown key "'+a+'" on '+Uc(this));a=this._map&&this._map.set(a,b);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.remove=function(a){if(!this.has(a))return this;a=this._map&&this._map.remove(a);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.wasAltered=function(){return this._map.wasAltered()};W.prototype.__iterator=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterator(a,b)};W.prototype.__iterate=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterate(a,b)};W.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map&&this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return Tc(this,b,a)};var X=W.prototype;X[c]=X.remove;X.deleteIn=X.removeIn=P.removeIn;X.merge=P.merge;X.mergeWith=P.mergeWith;X.mergeIn=P.mergeIn;X.mergeDeep=P.mergeDeep;X.mergeDeepWith=P.mergeDeepWith;X.mergeDeepIn=P.mergeDeepIn;X.setIn=P.setIn;X.update=P.update;X.updateIn=P.updateIn;X.withMutations=P.withMutations;X.asMutable=P.asMutable;X.asImmutable=P.asImmutable;function Tc(a,b,c){a=Object.create(Object.getPrototypeOf(a));a._map=b;a.__ownerID=c;return a}function Uc(a){return a._name||a.constructor.name||"Record"}function Vc(a,b){try{b.forEach(Wc.bind(void 0,a))}catch(a){}}function Wc(a,b){Object.defineProperty(a,b,{get:function(){return this.get(b)},set:function(a){bb(this.__ownerID,"Cannot set on an immutable record."),this.set(b,a)}})}function Xc(a,b){if(a===b)return!0;if(!x(b)||a.size!==void 0&&b.size!==void 0&&a.size!==b.size||a.__hash!==void 0&&b.__hash!==void 0&&a.__hash!==b.__hash||y(a)!==y(b)||z(a)!==z(b)||ca(a)!==ca(b))return!1;if(a.size===0&&b.size===0)return!0;var c=!ba(a);if(ca(a)){var d=a.entries();return b.every(function(a,b){var e=d.next().value;return e&&J(e[1],a)&&(c||J(e[0],b))})&&d.next().done}var e=!1;if(a.size===void 0)if(b.size===void 0)typeof a.cacheResult==="function"&&a.cacheResult();else{e=!0;var f=a;a=b;b=f}f=!0;b=b.__iterate(function(b,d){if(c?!a.has(b):e?!J(b,a.get(d,g)):!J(a.get(d,g),b)){f=!1;return!1}});return f&&a.size===b}b(Y,H);function Y(a,b,c){if(!(this instanceof Y))return new Y(a,b,c);bb(c!==0,"Cannot step a Range by 0");a=a||0;b===void 0&&(b=Infinity);c=c===void 0?1:Math.abs(c);b<a&&(c=-c);this._start=a;this._end=b;this._step=c;this.size=Math.max(0,Math.ceil((b-a)/c-1)+1);if(this.size===0){if(Yc)return Yc;Yc=this}}Y.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"};Y.prototype.get=function(a,b){return this.has(a)?this._start+o(this,a)*this._step:b};Y.prototype.includes=function(a){a=(a-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)};Y.prototype.slice=function(a,b){if(q(a,b,this.size))return this;a=r(a,this.size);b=s(b,this.size);return b<=a?new Y(0,0):new Y(this.get(a,this._end),this.get(b,this._end),this._step)};Y.prototype.indexOf=function(a){a=a-this._start;if(a%this._step===0){a=a/this._step;if(a>=0&&a<this.size)return a}return-1};Y.prototype.lastIndexOf=function(a){return this.indexOf(a)};Y.prototype.__iterate=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start;for(var f=0;f<=c;f++){if(a(e,f,this)===!1)return f+1;e+=b?-d:d}return f};Y.prototype.__iterator=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start,f=0;return new C(function(){var g=e;e+=b?-d:d;return f>c?E():D(a,f++,g)})};Y.prototype.equals=function(a){return a instanceof Y?this._start===a._start&&this._end===a._end&&this._step===a._step:Xc(this,a)};var Yc;b(Z,H);function Z(a,b){if(!(this instanceof Z))return new Z(a,b);this._value=a;this.size=b===void 0?Infinity:Math.max(0,b);if(this.size===0){if(Zc)return Zc;Zc=this}}Z.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};Z.prototype.get=function(a,b){return this.has(a)?this._value:b};Z.prototype.includes=function(a){return J(this._value,a)};Z.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:new Z(this._value,s(b,c)-r(a,c))};Z.prototype.reverse=function(){return this};Z.prototype.indexOf=function(a){return J(this._value,a)?0:-1};Z.prototype.lastIndexOf=function(a){return J(this._value,a)?this.size:-1};Z.prototype.__iterate=function(a,b){for(var b=0;b<this.size;b++)if(a(this._value,b,this)===!1)return b+1;return b};Z.prototype.__iterator=function(a,b){var c=this,d=0;return new C(function(){return d<c.size?D(a,d++,c._value):E()})};Z.prototype.equals=function(a){return a instanceof Z?J(this._value,a._value):Xc(a)};var Zc;function $c(a,b){var c=function(c){a.prototype[c]=b[c]};Object.keys(b).forEach(c);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(b).forEach(c);return a}t.Iterator=C;$c(t,{toArray:function(){L(this.size);var a=new Array(this.size||0);this.valueSeq().__iterate(function(b,c){a[c]=b});return a},toIndexedSeq:function(){return new cb(this)},toJS:function(){return this.toSeq().map(function(a){return a&&typeof a.toJS==="function"?a.toJS():a}).__toJS()},toJSON:function(){return this.toSeq().map(function(a){return a&&typeof a.toJSON==="function"?a.toJSON():a}).__toJS()},toKeyedSeq:function(){return new M(this,!0)},toMap:function(){return O(this.toKeyedSeq())},toObject:function(){L(this.size);var a={};this.__iterate(function(b,c){a[c]=b});return a},toOrderedMap:function(){return S(this.toKeyedSeq())},toOrderedSet:function(){return Nc(y(this)?this.valueSeq():this)},toSet:function(){return U(y(this)?this.valueSeq():this)},toSetSeq:function(){return new db(this)},toSeq:function(){return z(this)?this.toIndexedSeq():y(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return T(y(this)?this.valueSeq():this)},toList:function(){return Q(y(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(a,b){return this.size===0?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){var b=a.call(arguments,0);return N(this,ob(this,b))},contains:function(a){return this.includes(a)},includes:function(a){return this.some(function(b){return J(b,a)})},entries:function(){return this.__iterator(B)},every:function(a,b){L(this.size);var c=!0;this.__iterate(function(d,e,f){if(!a.call(b,d,e,f)){c=!1;return!1}});return c},filter:function(a,b){return N(this,ib(this,a,b,!0))},find:function(a,b,c){a=this.findEntry(a,b);return a?a[1]:c},findEntry:function(a,b){var c;this.__iterate(function(d,e,f){if(a.call(b,d,e,f)){c=[e,d];return!1}});return c},findLastEntry:function(a,b){return this.toSeq().reverse().findEntry(a,b)},forEach:function(a,b){L(this.size);return this.__iterate(b?a.bind(b):a)},join:function(a){L(this.size);a=a!==void 0?""+a:",";var b="",c=!0;this.__iterate(function(d){c?c=!1:b+=a,b+=d!==null&&d!==void 0?d.toString():""});return b},keys:function(){return this.__iterator(ha)},map:function(a,b){return N(this,gb(this,a,b))},reduce:function(a,b,c){L(this.size);var d,e;arguments.length<2?e=!0:d=b;this.__iterate(function(b,f,g){e?(e=!1,d=b):d=a.call(c,d,b,f,g)});return d},reduceRight:function(a,b,c){var d=this.toKeyedSeq().reverse();return d.reduce.apply(d,arguments)},reverse:function(){return N(this,hb(this,!0))},slice:function(a,b){return N(this,lb(this,a,b,!0))},some:function(a,b){return!this.every(cd(a),b)},sort:function(a){return N(this,sb(this,a))},values:function(){return this.__iterator(A)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(a,b){return n(a?this.toSeq().filter(a,b):this)},countBy:function(a,b){return jb(this,a,b)},equals:function(a){return Xc(this,a)},entrySeq:function(){var a=this;if(a._cache)return new ra(a._cache);var b=a.toSeq().map(bd).toIndexedSeq();b.fromEntrySeq=function(){return a.toSeq()};return b},filterNot:function(a,b){return this.filter(cd(a),b)},findLast:function(a,b,c){return this.toKeyedSeq().reverse().find(a,b,c)},first:function(){return this.find(p)},flatMap:function(a,b){return N(this,qb(this,a,b))},flatten:function(a){return N(this,pb(this,a,!0))},fromEntrySeq:function(){return new eb(this)},get:function(a,b){return this.find(function(b,c){return J(c,a)},void 0,b)},getIn:function(a,b){var c=this;a=Cb(a);var d;while(!(d=a.next()).done){d=d.value;c=c&&c.get?c.get(d,g):g;if(c===g)return b}return c},groupBy:function(a,b){return kb(this,a,b)},has:function(a){return this.get(a,g)!==g},hasIn:function(a){return this.getIn(a,g)!==g},isSubset:function(a){a=typeof a.includes==="function"?a:t(a);return this.every(function(b){return a.includes(b)})},isSuperset:function(a){return a.isSubset(this)},keySeq:function(){return this.toSeq().map(ad).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(a){return tb(this,a)},maxBy:function(a,b){return tb(this,b,a)},min:function(a){return tb(this,a?dd(a):gd)},minBy:function(a,b){return tb(this,b?dd(b):gd,a)},rest:function(){return this.slice(1)},skip:function(a){return this.slice(Math.max(0,a))},skipLast:function(a){return N(this,this.toSeq().reverse().skip(a).reverse())},skipWhile:function(a,b){return N(this,nb(this,a,b,!0))},skipUntil:function(a,b){return this.skipWhile(cd(a),b)},sortBy:function(a,b){return N(this,sb(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return N(this,this.toSeq().reverse().take(a).reverse())},takeWhile:function(a,b){return N(this,mb(this,a,b))},takeUntil:function(a,b){return this.takeWhile(cd(a),b)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hd(this))}});var $=t.prototype;$[da]=!0;$[ka]=$.values;$.__toJS=$.toArray;$.__toStringMapper=ed;$.inspect=$.toSource=function(){return this.toString()};$.chain=$.flatMap;(function(){try{Object.defineProperty($,"length",{get:function(){if(!t.noLengthWarning){var a;try{throw new Error()}catch(b){a=b.stack}if(a.indexOf("_wrapObject")===-1){console&&emptyFunction&&!1;return this.size}}}})}catch(a){}})();$c(u,{flip:function(){return N(this,fb(this))},findKey:function(a,b){a=this.findEntry(a,b);return a&&a[0]},findLastKey:function(a,b){return this.toSeq().reverse().findKey(a,b)},keyOf:function(a){return this.findKey(function(b){return J(b,a)})},lastKeyOf:function(a){return this.findLastKey(function(b){return J(b,a)})},mapEntries:function(a,b){var c=this,d=0;return N(this,this.toSeq().map(function(e,f){return a.call(b,[f,e],d++,c)}).fromEntrySeq())},mapKeys:function(a,b){var c=this;return N(this,this.toSeq().flip().map(function(d,e){return a.call(b,d,e,c)}).flip())}});c=u.prototype;c[ea]=!0;c[ka]=$.entries;c.__toJS=$.toObject;c.__toStringMapper=function(a,b){return JSON.stringify(b)+": "+ed(a)};$c(v,{toKeyedSeq:function(){return new M(this,!1)},filter:function(a,b){return N(this,ib(this,a,b,!1))},findIndex:function(a,b){a=this.findEntry(a,b);return a?a[0]:-1},indexOf:function(a){a=this.toKeyedSeq().keyOf(a);return a===void 0?-1:a},lastIndexOf:function(a){return this.toSeq().reverse().indexOf(a)},reverse:function(){return N(this,hb(this,!1))},slice:function(a,b){return N(this,lb(this,a,b,!1))},splice:function(a,b){var c=arguments.length;b=Math.max(b|0,0);if(c===0||c===2&&!b)return this;a=r(a,this.size);var d=this.slice(0,a);return N(this,c===1?d:d.concat(m(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){a=this.toKeyedSeq().findLastKey(a,b);return a===void 0?-1:a},first:function(){return this.get(0)},flatten:function(a){return N(this,pb(this,a,!1))},get:function(a,b){a=o(this,a);return a<0||this.size===Infinity||this.size!==void 0&&a>this.size?b:this.find(function(b,c){return c===a},void 0,b)},has:function(a){a=o(this,a);return a>=0&&(this.size!==void 0?this.size===Infinity||a<this.size:this.indexOf(a)!==-1)},interpose:function(a){return N(this,rb(this,a))},interleave:function(){var a=[this].concat(m(arguments)),b=vb(this.toSeq(),H.of,a),c=b.flatten(!0);b.size&&(c.size=b.size*a.length);return N(this,c)},last:function(){return this.get(-1)},skipWhile:function(a,b){return N(this,nb(this,a,b,!1))},zip:function(){var a=[this].concat(m(arguments));return N(this,vb(this,fd,a))},zipWith:function(a){var b=m(arguments);b[0]=this;return N(this,vb(this,a,b))}});v.prototype[fa]=!0;v.prototype[ga]=!0;$c(w,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});w.prototype.has=$.includes;$c(G,u.prototype);$c(H,v.prototype);$c(I,w.prototype);$c(Fa,u.prototype);$c(Ga,v.prototype);$c(Ha,w.prototype);function ad(a,b){return b}function bd(a,b){return[b,a]}function cd(a){return function(){return!a.apply(this,arguments)}}function dd(a){return function(){return-a.apply(this,arguments)}}function ed(a){return typeof a==="string"?JSON.stringify(a):a}function fd(){return m(arguments)}function gd(a,b){return a<b?1:a>b?-1:0}function hd(a){if(a.size===Infinity)return 0;var b=ca(a),c=y(a),d=b?1:0;a=a.__iterate(c?b?function(a,b){d=31*d+jd(K(a),K(b))|0}:function(a,b){d=d+jd(K(a),K(b))|0}:b?function(a){d=31*d+K(a)|0}:function(a){d=d+K(a)|0});return id(a,d)}function id(a,b){b=Ma(b,3432918353);b=Ma(b<<15|b>>>-15,461845907);b=Ma(b<<13|b>>>-13,5);b=(b+3864292196|0)^a;b=Ma(b^b>>>16,2246822507);b=Ma(b^b>>>13,3266489909);b=Na(b^b>>>16);return b}function jd(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}b={Iterable:t,Seq:F,Collection:Ea,Map:O,OrderedMap:S,List:Q,Stack:T,Set:U,OrderedSet:Nc,Record:W,Range:Y,Repeat:Z,is:J,fromJS:Ia};return b})}),null);
__d("CharacterMetadata",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Map,h=b("immutable").OrderedSet;a=b("immutable").Record;var i=h();c={style:i,entity:null};d=a(c);f=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getStyle=function(){return this.get("style")};c.getEntity=function(){return this.get("entity")};c.hasStyle=function(a){return this.getStyle().includes(a)};b.applyStyle=function(a,c){a=a.set("style",a.getStyle().add(c));return b.create(a)};b.removeStyle=function(a,c){a=a.set("style",a.getStyle().remove(c));return b.create(a)};b.applyEntity=function(a,c){a=a.getEntity()===c?a:a.set("entity",c);return b.create(a)};b.create=function(a){if(!a)return j;var c={style:i,entity:null};c=g(c).merge(a);a=k.get(c);if(a)return a;a=new b(c);k=k.set(c,a);return a};b.fromJS=function(a){var c=a.style;a=a.entity;return new b({style:Array.isArray(c)?h(c):c,entity:Array.isArray(a)?h(a):a})};return b}(d);var j=new f(),k=g([[g(c),j]]);f.EMPTY=j;e.exports=f}),null);
__d("ContentStateInlineStyle",["CharacterMetadata","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Map;a={add:function(a,b,c){return h(a,b,c,!0)},remove:function(a,b,c){return h(a,b,c,!1)}};function h(a,c,d,e){var f=a.getBlockMap(),h=c.getStartKey(),i=c.getStartOffset(),j=c.getEndKey(),k=c.getEndOffset(),l=f.skipUntil(function(a,b){return b===h}).takeUntil(function(a,b){return b===j}).concat(g([[j,f.get(j)]])).map(function(a,c){var f,g;h===j?(f=i,g=k):(f=c===h?i:0,g=c===j?k:a.getLength());c=a.getCharacterList();var l;while(f<g)l=c.get(f),c=c.set(f,e?b("CharacterMetadata").applyStyle(l,d):b("CharacterMetadata").removeStyle(l,d)),f++;return a.set("characterList",c)});return a.merge({blockMap:f.merge(l),selectionBefore:c,selectionAfter:c})}e.exports=a}),null);
__d("applyEntityToContentBlock",["CharacterMetadata"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){c=c;var f=a.getCharacterList();while(c<d)f=f.set(c,b("CharacterMetadata").applyEntity(f.get(c),e)),c++;return a.set("characterList",f)}e.exports=a}),null);
__d("applyEntityToContentState",["applyEntityToContentBlock","immutable"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e=a.getBlockMap(),f=c.getStartKey(),g=c.getStartOffset(),h=c.getEndKey(),i=c.getEndOffset(),j=e.skipUntil(function(a,b){return b===f}).takeUntil(function(a,b){return b===h}).toOrderedMap().merge(b("immutable").OrderedMap([[h,e.get(h)]])).map(function(a,c){var e=c===f?g:0;c=c===h?i:a.getLength();return b("applyEntityToContentBlock")(a,e,c,d)});return a.merge({blockMap:e.merge(j),selectionBefore:c,selectionAfter:c})}e.exports=a}),null);
__d("DraftEntitySegments",[],(function(a,b,c,d,e,f){"use strict";a={getRemovalRange:function(a,b,c,d,e){var f=c.split(" ");f=f.map(function(a,b){if(e==="forward"){if(b>0)return" "+a}else if(b<f.length-1)return a+" ";return a});var g=d,h,i=null,j=null;for(var k=0;k<f.length;k++){h=f[k];h=g+h.length;if(a<h&&g<b)i!==null?j=h:(i=g,j=h);else if(i!==null)break;g=h}h=d+c.length;k=i===d;g=j===h;(!k&&g||k&&!g)&&(e==="forward"?j!==h&&j++:i!==d&&i--);return{start:i,end:j}}};e.exports=a}),null);
__d("getRangesForDraftEntity",["invariant"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=[];a.findEntityRanges(function(a){return a.getEntity()===b},function(a,b){c.push({start:a,end:b})});!c.length&&g(0,1817);return c}e.exports=a}),null);
__d("getCharacterRemovalRange",["invariant","DraftEntitySegments","getRangesForDraftEntity"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d,e){var f=d.getStartOffset(),g=d.getEndOffset();f=b.getEntityAt(f);g=c.getEntityAt(g-1);if(!f&&!g)return d;d=d;if(f&&f===g)d=h(a,b,d,e,f,!0,!0);else if(f&&g){var i=h(a,b,d,e,f,!1,!0),j=h(a,c,d,e,g,!1,!1);d=d.merge({anchorOffset:i.getAnchorOffset(),focusOffset:j.getFocusOffset(),isBackward:!1})}else if(f){i=h(a,b,d,e,f,!1,!0);d=d.merge({anchorOffset:i.getStartOffset(),isBackward:!1})}else if(g){j=h(a,c,d,e,g,!1,!1);d=d.merge({focusOffset:j.getEndOffset(),isBackward:!1})}return d}function h(a,c,d,e,f,h,i){var j=d.getStartOffset(),k=d.getEndOffset();a=a.get(f);a=a.getMutability();var l=i?j:k;if(a==="MUTABLE")return d;f=b("getRangesForDraftEntity")(c,f).filter(function(a){return l<=a.end&&l>=a.start});f.length==1||g(0,5779);f=f[0];if(a==="IMMUTABLE")return d.merge({anchorOffset:f.start,focusOffset:f.end,isBackward:!1});h||(i?k=f.end:j=f.start);a=b("DraftEntitySegments").getRemovalRange(j,k,c.getText().slice(f.start,f.end),f.start,e);return d.merge({anchorOffset:a.start,focusOffset:a.end,isBackward:!1})}e.exports=a}),null);
__d("findRangesImmutable",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(!a.size)return;var e=0;a.reduce(function(a,f,g){b(a,f)||(c(a)&&d(e,g),e=g);return f});c(a.last())&&d(e,a.count())}e.exports=a}),null);
__d("ContentBlockNode",["CharacterMetadata","findRangesImmutable","immutable"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("immutable")).List;c=a.Map;d=a.OrderedSet;f=a.Record;var h=a.Repeat,i=d(),j={parent:null,characterList:g(),data:c(),depth:0,key:"",text:"",type:"unstyled",children:g(),prevSibling:null,nextSibling:null},k=function(a,b){return a.getStyle()===b.getStyle()},l=function(a,b){return a.getEntity()===b.getEntity()},m=function(a){if(!a)return a;var c=a.characterList,d=a.text;d&&!c&&(a.characterList=g(h(b("CharacterMetadata").EMPTY,d.length)));return a};a=function(a){babelHelpers.inheritsLoose(c,a);function c(b){b===void 0&&(b=j);return a.call(this,m(b))||this}var d=c.prototype;d.getKey=function(){return this.get("key")};d.getType=function(){return this.get("type")};d.getText=function(){return this.get("text")};d.getCharacterList=function(){return this.get("characterList")};d.getLength=function(){return this.getText().length};d.getDepth=function(){return this.get("depth")};d.getData=function(){return this.get("data")};d.getInlineStyleAt=function(a){a=this.getCharacterList().get(a);return a?a.getStyle():i};d.getEntityAt=function(a){a=this.getCharacterList().get(a);return a?a.getEntity():null};d.getChildKeys=function(){return this.get("children")};d.getParentKey=function(){return this.get("parent")};d.getPrevSiblingKey=function(){return this.get("prevSibling")};d.getNextSiblingKey=function(){return this.get("nextSibling")};d.findStyleRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),k,a,c)};d.findEntityRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),l,a,c)};return c}(f(j));e.exports=a}),null);
__d("generateRandomKey",[],(function(a,b,c,d,e,f){"use strict";var g={},h=Math.pow(2,24);function a(){var a;while(a===void 0||Object.prototype.hasOwnProperty.call(g,a)||!isNaN(+a))a=Math.floor(Math.random()*h).toString(32);g[a]=!0;return a}e.exports=a}),null);
__d("randomizeBlockMapKeys",["ContentBlockNode","generateRandomKey","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").OrderedMap,h=function(a){var c={},d;return g(a.withMutations(function(a){a.forEach(function(e,f){var g=e.getKey();f=e.getNextSiblingKey();var h=e.getPrevSiblingKey(),i=e.getChildKeys(),j=e.getParentKey(),k=b("generateRandomKey")();c[g]=k;if(f){var l=a.get(f);l?a.setIn([f,"prevSibling"],k):a.setIn([g,"nextSibling"],null)}if(h){l=a.get(h);l?a.setIn([h,"nextSibling"],k):a.setIn([g,"prevSibling"],null)}if(j&&a.get(j)){f=a.get(j);l=f.getChildKeys();a.setIn([j,"children"],l.set(l.indexOf(e.getKey()),k))}else a.setIn([g,"parent"],null),d&&(a.setIn([d.getKey(),"nextSibling"],k),a.setIn([g,"prevSibling"],c[d.getKey()])),d=a.get(g);i.forEach(function(b){var c=a.get(b);c?a.setIn([b,"parent"],k):a.setIn([g,"children"],e.getChildKeys().filter(function(a){return a!==b}))})})}).toArray().map(function(a){return[c[a.getKey()],a.set("key",c[a.getKey()])]}))},i=function(a){return g(a.toArray().map(function(a){var c=b("generateRandomKey")();return[c,a.set("key",c)]}))};a=function(a){var c=a.first()instanceof b("ContentBlockNode");return!c?i(a):h(a)};e.exports=a}),null);
__d("removeEntitiesAtEdges",["invariant","CharacterMetadata","findRangesImmutable"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a.getBlockMap(),d={},e=b.getStartKey(),f=b.getStartOffset(),g=c.get(e);f=i(a,g,f);f!==g&&(d[e]=f);g=b.getEndKey();var h=b.getEndOffset(),j=c.get(g);e===g&&(j=f);e=i(a,j,h);e!==j&&(d[g]=e);return!Object.keys(d).length?a.setSelectionAfter(b):a.merge({blockMap:c.merge(d),selectionAfter:b})}function h(a,c,d){var e;b("findRangesImmutable")(a,function(a,b){return a.getEntity()===b.getEntity()},function(a){return a.getEntity()===c},function(a,b){a<=d&&b>=d&&(e={start:a,end:b})});typeof e==="object"||g(0,6015);return e}function i(a,c,d){var e=c.getCharacterList(),f=d>0?e.get(d-1):void 0,g=d<e.count()?e.get(d):void 0;f=f?f.getEntity():void 0;g=g?g.getEntity():void 0;if(g&&g===f){f=a.getEntity(g);if(f.getMutability()!=="MUTABLE"){a=h(e,g,d);f=a.start;g=a.end;while(f<g)d=e.get(f),e=e.set(f,b("CharacterMetadata").applyEntity(d,null)),f++;return c.set("characterList",e)}}return c}e.exports=a}),null);
__d("getContentStateFragment",["randomizeBlockMapKeys","removeEntitiesAtEdges"],(function(a,b,c,d,e,f){"use strict";a=function(a,c){var d=c.getStartKey(),e=c.getStartOffset(),f=c.getEndKey(),g=c.getEndOffset();a=b("removeEntitiesAtEdges")(a,c);c=a.getBlockMap();a=c.keySeq();var h=a.indexOf(d);a=a.indexOf(f)+1;return b("randomizeBlockMapKeys")(c.slice(h,a).map(function(a,b){var c=a.getText(),h=a.getCharacterList();if(d===f)return a.merge({text:c.slice(e,g),characterList:h.slice(e,g)});if(b===d)return a.merge({text:c.slice(e),characterList:h.slice(e)});return b===f?a.merge({text:c.slice(0,g),characterList:h.slice(0,g)}):a}))};e.exports=a}),null);
__d("BlockMapBuilder",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").OrderedMap;a={createFromArray:function(a){return g(a.map(function(a){return[a.getKey(),a]}))}};e.exports=a}),null);
__d("insertIntoList",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a;if(c===d.count())b.forEach(function(a){d=d.push(a)});else if(c===0)b.reverse().forEach(function(a){d=d.unshift(a)});else{a=d.slice(0,c);c=d.slice(c);d=a.concat(b,c).toList()}return d}e.exports=a}),null);
__d("insertFragmentIntoContentState",["invariant","BlockMapBuilder","ContentBlockNode","immutable","insertIntoList","randomizeBlockMapKeys"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").List,i=function(a,c,d,e,f,g,h){h===void 0&&(h="REPLACE_WITH_NEW_DATA");var i=d.get(f),j=i.getText(),k=i.getCharacterList(),l=f,m=g+e.getText().length,n=null;switch(h){case"MERGE_OLD_DATA_TO_NEW_DATA":n=e.getData().merge(i.getData());break;case"REPLACE_WITH_NEW_DATA":n=e.getData();break}h=i.getType();j&&h==="unstyled"&&(h=e.getType());i=i.merge({text:j.slice(0,g)+e.getText()+j.slice(g),characterList:b("insertIntoList")(k,e.getCharacterList(),g),type:h,data:n});return a.merge({blockMap:d.set(f,i),selectionBefore:c,selectionAfter:c.merge({anchorKey:l,anchorOffset:m,focusKey:l,focusOffset:m,isBackward:!1})})},j=function(a,b,c){var d=a.getText(),e=a.getCharacterList();d=d.slice(0,b);e=e.slice(0,b);b=c.first();return a.merge({text:d+b.getText(),characterList:e.concat(b.getCharacterList()),type:d?a.getType():b.getType(),data:b.getData()})},k=function(a,b,c){var d=a.getText();a=a.getCharacterList();var e=d.length;d=d.slice(b,e);a=a.slice(b,e);b=c.last();return b.merge({text:b.getText()+d,characterList:b.getCharacterList().concat(a),data:b.getData()})},l=function(a,b){var c=a.getKey();a=a;var d=[];b.get(c)&&d.push(c);while(a&&a.getNextSiblingKey()){c=a.getNextSiblingKey();if(!c)break;d.push(c);a=b.get(c)}return d},m=function(a,b,c,d){return a.withMutations(function(b){var e=c.getKey(),f=d.getKey(),g=c.getNextSiblingKey(),i=c.getParentKey(),j=l(d,a),k=j[j.length-1];b.get(f)?(b.setIn([e,"nextSibling"],f),b.setIn([f,"prevSibling"],e)):(b.setIn([e,"nextSibling"],d.getNextSiblingKey()),b.setIn([d.getNextSiblingKey(),"prevSibling"],e));b.setIn([k,"nextSibling"],g);g&&b.setIn([g,"prevSibling"],k);j.forEach(function(a){return b.setIn([a,"parent"],i)});if(i){f=a.get(i);g=f.getChildKeys();k=g.indexOf(e);f=k+1;e=g.toArray();e.splice.apply(e,[f,0].concat(j));b.setIn([i,"children"],h(e))}})},n=function(a,c,d,e,f,g){var h=d.first()instanceof b("ContentBlockNode"),i=[],l=e.size,n=d.get(f),o=e.first(),p=e.last(),q=p.getLength();p=p.getKey();var r=h&&(!n.getChildKeys().isEmpty()||!o.getChildKeys().isEmpty());d.forEach(function(a,b){if(b!==f){i.push(a);return}r?i.push(a):i.push(j(a,g,e));e.slice(r?0:1,l-1).forEach(function(a){return i.push(a)});i.push(k(a,g,e))});var s=b("BlockMapBuilder").createFromArray(i);h&&(s=m(s,d,n,o));return a.merge({blockMap:s,selectionBefore:c,selectionAfter:c.merge({anchorKey:p,anchorOffset:q,focusKey:p,focusOffset:q,isBackward:!1})})};a=function(a,c,d,e){e===void 0&&(e="REPLACE_WITH_NEW_DATA");c.isCollapsed()||g(0,1903);var f=a.getBlockMap();d=b("randomizeBlockMapKeys")(d);var h=c.getStartKey(),j=c.getStartOffset(),k=f.get(h);k instanceof b("ContentBlockNode")&&(k.getChildKeys().isEmpty()||g(0,1904));return d.size===1?i(a,c,f,d.first(),h,j,e):n(a,c,f,d,h,j)};e.exports=a}),null);
__d("insertTextIntoContentState",["invariant","immutable","insertIntoList"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").Repeat;function a(a,c,d,e){c.isCollapsed()||g(0,2659);var f=null;d!=null&&(f=d.length);if(f==null||f===0)return a;var i=a.getBlockMap(),j=c.getStartKey(),k=c.getStartOffset(),l=i.get(j),m=l.getText();d=l.merge({text:m.slice(0,k)+d+m.slice(k,l.getLength()),characterList:b("insertIntoList")(l.getCharacterList(),h(e,f).toList(),k)});m=k+f;return a.merge({blockMap:i.set(j,d),selectionAfter:c.merge({anchorOffset:m,focusOffset:m})})}e.exports=a}),null);
__d("modifyBlockForContentState",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Map;function a(a,b,c){var d=b.getStartKey(),e=b.getEndKey(),f=a.getBlockMap();c=f.toSeq().skipUntil(function(a,b){return b===d}).takeUntil(function(a,b){return b===e}).concat(g([[e,f.get(e)]])).map(c);return a.merge({blockMap:f.merge(c),selectionBefore:b,selectionAfter:b})}e.exports=a}),null);
__d("getNextDelimiterBlockKey",["ContentBlockNode"],(function(a,b,c,d,e,f){a=function(a,c){var d=a instanceof b("ContentBlockNode");if(!d)return null;d=a.getNextSiblingKey();if(d)return d;d=a.getParentKey();if(!d)return null;a=c.get(d);while(a&&!a.getNextSiblingKey()){d=a.getParentKey();a=d?c.get(d):null}return!a?null:a.getNextSiblingKey()};e.exports=a}),null);
__d("removeRangeFromContentState",["ContentBlockNode","getNextDelimiterBlockKey","immutable"],(function(a,b,c,d,e,f){"use strict";b("immutable").List;var g=b("immutable").Map,h=function(a,b,c){if(!a)return;var d=b.get(a);if(!d)return;b.set(a,c(d))},i=function(a,b){var c=[];if(!a)return c;a=b.get(a);while(a&&a.getParentKey()){var d=a.getParentKey();d&&c.push(d);a=d?b.get(d):null}return c},j=function(a,c){var d=[];if(!a)return d;a=b("getNextDelimiterBlockKey")(a,c);while(a&&c.get(a)){var e=c.get(a);d.push(a);a=e.getParentKey()?b("getNextDelimiterBlockKey")(e,c):null}return d},k=function(a,b,c){if(!a)return null;a=c.get(a.getKey()).getNextSiblingKey();while(a&&!b.get(a))a=c.get(a).getNextSiblingKey()||null;return a},l=function(a,b,c){if(!a)return null;a=c.get(a.getKey()).getPrevSiblingKey();while(a&&!b.get(a))a=c.get(a).getPrevSiblingKey()||null;return a},m=function(a,b,c,d){return a.withMutations(function(e){h(b.getKey(),e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})});h(c.getKey(),e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})});i(b.getKey(),d).forEach(function(a){return h(a,e,function(a){return a.merge({children:a.getChildKeys().filter(function(a){return e.get(a)}),nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});h(b.getNextSiblingKey(),e,function(a){return a.merge({prevSibling:b.getPrevSiblingKey()})});h(b.getPrevSiblingKey(),e,function(a){return a.merge({nextSibling:k(a,e,d)})});h(c.getNextSiblingKey(),e,function(a){return a.merge({prevSibling:l(a,e,d)})});h(c.getPrevSiblingKey(),e,function(a){return a.merge({nextSibling:c.getNextSiblingKey()})});i(c.getKey(),d).forEach(function(a){h(a,e,function(a){return a.merge({children:a.getChildKeys().filter(function(a){return e.get(a)}),nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});j(c,d).forEach(function(a){return h(a,e,function(a){return a.merge({nextSibling:k(a,e,d),prevSibling:l(a,e,d)})})});if(a.get(b.getKey())==null&&a.get(c.getKey())!=null&&c.getParentKey()===b.getKey()&&c.getPrevSiblingKey()==null){var f=b.getPrevSiblingKey();h(c.getKey(),e,function(a){return a.merge({prevSibling:f})});h(f,e,function(a){return a.merge({nextSibling:c.getKey()})});var g=f?a.get(f):null,m=g?g.getParentKey():null;b.getChildKeys().forEach(function(a){h(a,e,function(a){return a.merge({parent:m})})});if(m!=null){var n=a.get(m);h(m,e,function(a){return a.merge({children:n.getChildKeys().concat(b.getChildKeys())})})}h(b.getChildKeys().find(function(b){b=a.get(b);return b.getNextSiblingKey()===null}),e,function(a){return a.merge({nextSibling:b.getNextSiblingKey()})})}})};a=function(a,c){if(c.isCollapsed())return a;var d=a.getBlockMap(),e=c.getStartKey(),f=c.getStartOffset(),h=c.getEndKey(),j=c.getEndOffset(),k=d.get(e),l=d.get(h),o=k instanceof b("ContentBlockNode"),p=[];if(o){var q=l.getChildKeys(),r=i(h,d);l.getNextSiblingKey()&&(p=p.concat(r));q.isEmpty()||(p=p.concat(r.concat([h])));p=p.concat(i(b("getNextDelimiterBlockKey")(l,d),d))}k===l?q=n(k.getCharacterList(),f,j):q=k.getCharacterList().slice(0,f).concat(l.getCharacterList().slice(j));var s=k.merge({text:k.getText().slice(0,f)+l.getText().slice(j),characterList:q});r=o&&f===0&&j===0&&l.getParentKey()===e&&l.getPrevSiblingKey()==null;q=r?g([[e,null]]):d.toSeq().skipUntil(function(a,b){return b===e}).takeUntil(function(a,b){return b===h}).filter(function(a,b){return p.indexOf(b)===-1}).concat(g([[h,null]])).map(function(a,b){return b===e?s:null});j=d.merge(q).filter(function(a){return!!a});o&&k!==l&&(j=m(j,k,l,d));return a.merge({blockMap:j,selectionBefore:c,selectionAfter:c.merge({anchorKey:e,anchorOffset:f,focusKey:e,focusOffset:f,isBackward:!1})})};var n=function(a,b,c){if(b===0)while(b<c)a=a.shift(),b++;else if(c===a.count())while(c>b)a=a.pop(),c--;else{b=a.slice(0,b);c=a.slice(c);a=b.concat(c).toList()}return a};e.exports=a}),null);
__d("splitBlockInContentState",["invariant","ContentBlockNode","generateRandomKey","immutable","modifyBlockForContentState"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").List,i=b("immutable").Map,j=function(a,b,c){if(!a)return;var d=b.get(a);if(!d)return;b.set(a,c(d))},k=function(a,b,c){return a.withMutations(function(a){var d=b.getKey(),e=c.getKey();j(b.getParentKey(),a,function(a){var b=a.getChildKeys(),c=b.indexOf(d)+1;b=b.toArray();b.splice(c,0,e);return a.merge({children:h(b)})});j(b.getNextSiblingKey(),a,function(a){return a.merge({prevSibling:e})});j(d,a,function(a){return a.merge({nextSibling:e})});j(e,a,function(a){return a.merge({prevSibling:d})})})};a=function(a,c){c.isCollapsed()||g(0,5004);var d=c.getAnchorKey(),e=a.getBlockMap(),f=e.get(d),h=f.getText();if(!h){var j=f.getType();if(j==="unordered-list-item"||j==="ordered-list-item")return b("modifyBlockForContentState")(a,c,function(a){return a.merge({type:"unstyled",depth:0})})}j=c.getAnchorOffset();var l=f.getCharacterList(),m=b("generateRandomKey")(),n=f instanceof b("ContentBlockNode"),o=f.merge({text:h.slice(0,j),characterList:l.slice(0,j)});h=o.merge({key:m,text:h.slice(j),characterList:l.slice(j),data:i()});l=e.toSeq().takeUntil(function(a){return a===f});j=e.toSeq().skipUntil(function(a){return a===f}).rest();e=l.concat([[d,o],[m,h]],j).toOrderedMap();n&&(f.getChildKeys().isEmpty()||g(0,5005),e=k(e,o,h));return a.merge({blockMap:e,selectionBefore:c,selectionAfter:c.merge({anchorKey:m,anchorOffset:0,focusKey:m,focusOffset:0,isBackward:!1})})};e.exports=a}),null);
__d("DraftModifier",["invariant","CharacterMetadata","ContentStateInlineStyle","applyEntityToContentState","getCharacterRemovalRange","getContentStateFragment","immutable","insertFragmentIntoContentState","insertTextIntoContentState","modifyBlockForContentState","removeEntitiesAtEdges","removeRangeFromContentState","splitBlockInContentState"],(function(a,b,c,d,e,f,g){"use strict";var h=b("immutable").OrderedSet,i={replaceText:function(a,c,d,e,f){a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);c=b("CharacterMetadata").create({style:e||h(),entity:f||null});return b("insertTextIntoContentState")(a,a.getSelectionAfter(),d,c)},insertText:function(a,b,c,d,e){b.isCollapsed()||g(0,4661);return i.replaceText(a,b,c,d,e)},moveText:function(a,c,d){var e=b("getContentStateFragment")(a,c);a=i.removeRange(a,c,"backward");return i.replaceWithFragment(a,d,e)},replaceWithFragment:function(a,c,d,e){e===void 0&&(e="REPLACE_WITH_NEW_DATA");a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);return b("insertFragmentIntoContentState")(a,a.getSelectionAfter(),d,e)},removeRange:function(a,c,d){var e,f,g,h;c.getIsBackward()&&(c=c.merge({anchorKey:c.getFocusKey(),anchorOffset:c.getFocusOffset(),focusKey:c.getAnchorKey(),focusOffset:c.getAnchorOffset(),isBackward:!1}));e=c.getAnchorKey();f=c.getFocusKey();g=a.getBlockForKey(e);h=a.getBlockForKey(f);var i=c.getStartOffset(),j=c.getEndOffset();i=g.getEntityAt(i);j=h.getEntityAt(j-1);if(e===f&&(i&&i===j)){e=b("getCharacterRemovalRange")(a.getEntityMap(),g,h,c,d);return b("removeRangeFromContentState")(a,e)}f=b("removeEntitiesAtEdges")(a,c);return b("removeRangeFromContentState")(f,c)},splitBlock:function(a,c){a=b("removeEntitiesAtEdges")(a,c);a=b("removeRangeFromContentState")(a,c);return b("splitBlockInContentState")(a,a.getSelectionAfter())},applyInlineStyle:function(a,c,d){return b("ContentStateInlineStyle").add(a,c,d)},removeInlineStyle:function(a,c,d){return b("ContentStateInlineStyle").remove(a,c,d)},setBlockType:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({type:d,depth:0})})},setBlockData:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({data:d})})},mergeBlockData:function(a,c,d){return b("modifyBlockForContentState")(a,c,function(a){return a.merge({data:a.getData().merge(d)})})},applyEntity:function(a,c,d){a=b("removeEntitiesAtEdges")(a,c);return b("applyEntityToContentState")(a,c,d)}};e.exports=i}),null);
__d("BlockTree",["findRangesImmutable","getOwnObjectValues","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").List,h=b("immutable").Repeat;a=b("immutable").Record;var i=function(){return!0};c={start:null,end:null};var j=a(c);d={start:null,end:null,decoratorKey:null,leaves:null};var k=a(d);f={generate:function(a,c,d){var e=c.getLength();if(!e)return g.of(new k({start:0,end:0,decoratorKey:null,leaves:g.of(new j({start:0,end:0}))}));var f=[],n=d?d.getDecorations(c,a):g(h(null,e)),o=c.getCharacterList();b("findRangesImmutable")(n,m,i,function(a,b){f.push(new k({start:a,end:b,decoratorKey:n.get(a),leaves:l(o.slice(a,b).toList(),a)}))});return g(f)},fromJS:function(a){var c=a.leaves;a=babelHelpers.objectWithoutPropertiesLoose(a,["leaves"]);return new k(babelHelpers["extends"]({},a,{leaves:c!=null?g(Array.isArray(c)?c:b("getOwnObjectValues")(c)).map(function(a){return j(a)}):null}))}};function l(a,c){var d=[];a=a.map(function(a){return a.getStyle()}).toList();b("findRangesImmutable")(a,m,i,function(a,b){d.push(new j({start:a+c,end:b+c}))});return g(d)}function m(a,b){return a===b}e.exports=f}),null);
__d("ContentBlock",["CharacterMetadata","findRangesImmutable","immutable"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("immutable")).List;c=a.Map;d=a.OrderedSet;f=a.Record;var h=a.Repeat,i=d();a={key:"",type:"unstyled",text:"",characterList:g(),depth:0,data:c()};d=f(a);var j=function(a){if(!a)return a;var c=a.characterList,d=a.text;d&&!c&&(a.characterList=g(h(b("CharacterMetadata").EMPTY,d.length)));return a};c=function(a){babelHelpers.inheritsLoose(c,a);function c(b){return a.call(this,j(b))||this}var d=c.prototype;d.getKey=function(){return this.get("key")};d.getType=function(){return this.get("type")};d.getText=function(){return this.get("text")};d.getCharacterList=function(){return this.get("characterList")};d.getLength=function(){return this.getText().length};d.getDepth=function(){return this.get("depth")};d.getData=function(){return this.get("data")};d.getInlineStyleAt=function(a){a=this.getCharacterList().get(a);return a?a.getStyle():i};d.getEntityAt=function(a){a=this.getCharacterList().get(a);return a?a.getEntity():null};d.findStyleRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),k,a,c)};d.findEntityRanges=function(a,c){b("findRangesImmutable")(this.getCharacterList(),l,a,c)};return c}(d);function k(a,b){return a.getStyle()===b.getStyle()}function l(a,b){return a.getEntity()===b.getEntity()}e.exports=c}),null);
__d("DraftEntityInstance",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record;c=a({type:"TOKEN",mutability:"IMMUTABLE",data:Object});d=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getType=function(){return this.get("type")};c.getMutability=function(){return this.get("mutability")};c.getData=function(){return this.get("data")};return b}(c);e.exports=d}),null);
__d("DraftEntity",["invariant","DraftEntityInstance","immutable","uuid"],(function(a,b,c,d,e,f,g){a=b("immutable").OrderedMap;var h=a(),i=b("uuid")(),j={__getAll:function(){return h},__loadWithEntities:function(a){h=a,i=b("uuid")()},__getLastCreatedEntityKey:function(){return i},__create:function(a,c,d){return j.__add(new(b("DraftEntityInstance"))({type:a,mutability:c,data:d||{}}))},__add:function(a){i=b("uuid")();h=h.set(i,a);return i},__get:function(a){var b=h.get(a);!b&&g(0,2105,a);return b},get:function(a){return j.__get(a)},set:function(a,b){h=h.set(a,b);return j},last:function(){return h.last()},__mergeData:function(a,b){var c=j.__get(a);b=babelHelpers["extends"]({},c.getData(),b);c=c.set("data",b);h=h.set(a,c);return c},__replaceData:function(a,b){var c=j.__get(a);c=c.set("data",b);h=h.set(a,c);return c}};e.exports=j}),null);
__d("SelectionState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record;c={anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1};d=a(c);f=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())};c.getAnchorKey=function(){return this.get("anchorKey")};c.getAnchorOffset=function(){return this.get("anchorOffset")};c.getFocusKey=function(){return this.get("focusKey")};c.getFocusOffset=function(){return this.get("focusOffset")};c.getIsBackward=function(){return this.get("isBackward")};c.getHasFocus=function(){return this.get("hasFocus")};c.hasEdgeWithin=function(a,b,c){var d=this.getAnchorKey(),e=this.getFocusKey();if(d===e&&d===a){var f=this.getStartOffset(),g=this.getEndOffset();return b<=f&&f<=c||b<=g&&g<=c}if(a!==d&&a!==e)return!1;f=a===d?this.getAnchorOffset():this.getFocusOffset();return b<=f&&c>=f};c.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()};c.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()};c.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()};c.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()};c.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()};b.createEmpty=function(a){return new b({anchorKey:a,anchorOffset:0,focusKey:a,focusOffset:0,isBackward:!1,hasFocus:!1})};return b}(d);e.exports=f}),null);
__d("sanitizeDraftText",[],(function(a,b,c,d,e,f){"use strict";var g=new RegExp("\r","g");function a(a){return a.replace(g,"")}e.exports=a}),null);
__d("ContentState",["BlockMapBuilder","CharacterMetadata","ContentBlock","ContentBlockNode","DraftEntity","SelectionState","generateRandomKey","getOwnObjectValues","gkx","immutable","sanitizeDraftText"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("immutable")).List;c=a.Record;var h=a.Repeat,i=a.Map,j=a.OrderedMap;d={entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null};f=c(d);var k=b("gkx")("676842")?b("ContentBlockNode"):b("ContentBlock");a=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getEntityMap=function(){return b("DraftEntity")};d.getBlockMap=function(){return this.get("blockMap")};d.getSelectionBefore=function(){return this.get("selectionBefore")};d.getSelectionAfter=function(){return this.get("selectionAfter")};d.getBlockForKey=function(a){a=this.getBlockMap().get(a);return a};d.getKeyBefore=function(a){return this.getBlockMap().reverse().keySeq().skipUntil(function(b){return b===a}).skip(1).first()};d.getKeyAfter=function(a){return this.getBlockMap().keySeq().skipUntil(function(b){return b===a}).skip(1).first()};d.getBlockAfter=function(a){return this.getBlockMap().skipUntil(function(b,c){return c===a}).skip(1).first()};d.getBlockBefore=function(a){return this.getBlockMap().reverse().skipUntil(function(b,c){return c===a}).skip(1).first()};d.getBlocksAsArray=function(){return this.getBlockMap().toArray()};d.getFirstBlock=function(){return this.getBlockMap().first()};d.getLastBlock=function(){return this.getBlockMap().last()};d.getPlainText=function(a){return this.getBlockMap().map(function(a){return a?a.getText():""}).join(a||"\n")};d.getLastCreatedEntityKey=function(){return b("DraftEntity").__getLastCreatedEntityKey()};d.hasText=function(){var a=this.getBlockMap();return a.size>1||escape(a.first().getText()).replace(/%u200B/g,"").length>0};d.createEntity=function(a,c,d){b("DraftEntity").__create(a,c,d);return this};d.mergeEntityData=function(a,c){b("DraftEntity").__mergeData(a,c);return this};d.replaceEntityData=function(a,c){b("DraftEntity").__replaceData(a,c);return this};d.addEntity=function(a){b("DraftEntity").__add(a);return this};d.getEntity=function(a){return b("DraftEntity").__get(a)};d.getAllEntities=function(){return b("DraftEntity").__getAll()};d.setEntityMap=function(a){b("DraftEntity").__loadWithEntities(a);return this};d.setSelectionBefore=function(a){return this.set("selectionBefore",a)};d.setSelectionAfter=function(a){return this.set("selectionAfter",a)};d.setBlockMap=function(a){return this.set("blockMap",a)};c.createFromBlockArray=function(a,d){a=Array.isArray(a)?a:a.contentBlocks;a=b("BlockMapBuilder").createFromArray(a);var e=a.isEmpty()?new(b("SelectionState"))():b("SelectionState").createEmpty(a.first().getKey());return new c({blockMap:a,entityMap:d||b("DraftEntity"),selectionBefore:e,selectionAfter:e})};c.createFromText=function(a,d){d===void 0&&(d=/\r\n?|\n/g);a=a.split(d);d=a.map(function(a){a=b("sanitizeDraftText")(a);return new k({key:b("generateRandomKey")(),text:a,type:"unstyled",characterList:g(h(b("CharacterMetadata").EMPTY,a.length))})});return c.createFromBlockArray(d)};c.fromJS=function(a){return new c(babelHelpers["extends"]({},a,{blockMap:j(a.blockMap).map(c.createContentBlockFromJS),selectionBefore:new(b("SelectionState"))(a.selectionBefore),selectionAfter:new(b("SelectionState"))(a.selectionAfter)}))};c.createContentBlockFromJS=function(a){var c=a.characterList;return new k(babelHelpers["extends"]({},a,{data:i(a.data),characterList:c!=null?g((Array.isArray(c)?c:b("getOwnObjectValues")(c)).map(function(a){return b("CharacterMetadata").fromJS(a)})):void 0}))};return c}(f);e.exports=a}),null);
__d("UnicodeBidiService",["invariant","UnicodeBidi","UnicodeBidiDirection","UnicodeBidiGlobalDirection"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){!a?a=b("UnicodeBidiGlobalDirection").getDir():b("UnicodeBidiDirection").isStrong(a)||g(0,3594),this.$1=a,this.reset()}var c=a.prototype;c.reset=function(){this.$2=this.$1};c.getDirection=function(a){this.$2=b("UnicodeBidi").getDirection(a,this.$2);return this.$2};return a}();e.exports=a}),null);
__d("EditorBidiService",["UnicodeBidiService","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").OrderedMap,h;a={getDirectionMap:function(a,c){!h?h=new(b("UnicodeBidiService"))():h.reset();a=a.getBlockMap();var d=a.valueSeq().map(function(a){return b("nullthrows")(h).getDirection(a.getText())});a=g(a.keySeq().zip(d));return c!=null&&b("immutable").is(c,a)?c:a}};e.exports=a}),null);
__d("EditorState",["BlockTree","ContentState","EditorBidiService","SelectionState","immutable"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("immutable")).OrderedSet;c=a.Record;var h=a.Stack,i=a.OrderedMap,j=a.List;d={allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:h(),selection:null,treeMap:null,undoStack:h()};var k=c(d),l=function(){a.createEmpty=function(a){return this.createWithText("",a)};a.createWithText=function(c,d){return a.createWithContent(b("ContentState").createFromText(c),d)};a.createWithContent=function(c,d){if(c.getBlockMap().count()===0)return a.createEmpty(d);var e=c.getBlockMap().first().getKey();return a.create({currentContent:c,undoStack:h(),redoStack:h(),decorator:d||null,selection:b("SelectionState").createEmpty(e)})};a.create=function(c){var d=c.currentContent,e=c.decorator;c=babelHelpers["extends"]({},c,{treeMap:n(d,e),directionMap:b("EditorBidiService").getDirectionMap(d)});return new a(new k(c))};a.fromJS=function(c){return new a(new k(babelHelpers["extends"]({},c,{directionMap:c.directionMap!=null?i(c.directionMap):c.directionMap,inlineStyleOverride:c.inlineStyleOverride!=null?g(c.inlineStyleOverride):c.inlineStyleOverride,nativelyRenderedContent:c.nativelyRenderedContent!=null?b("ContentState").fromJS(c.nativelyRenderedContent):c.nativelyRenderedContent,redoStack:c.redoStack!=null?h(c.redoStack.map(function(a){return b("ContentState").fromJS(a)})):c.redoStack,selection:c.selection!=null?new(b("SelectionState"))(c.selection):c.selection,treeMap:c.treeMap!=null?i(c.treeMap).map(function(a){return j(a).map(function(a){return b("BlockTree").fromJS(a)})}):c.treeMap,undoStack:c.undoStack!=null?h(c.undoStack.map(function(a){return b("ContentState").fromJS(a)})):c.undoStack,currentContent:b("ContentState").fromJS(c.currentContent)})))};a.set=function(b,c){var d=b.getImmutable().withMutations(function(a){var d=a.get("decorator"),e=d;c.decorator===null?e=null:c.decorator&&(e=c.decorator);var f=c.currentContent||b.getCurrentContent();if(e!==d){var g=a.get("treeMap");e&&d?g=p(f,f.getBlockMap(),g,e,d):g=n(f,e);a.merge({decorator:e,treeMap:g,nativelyRenderedContent:null});return}d=b.getCurrentContent();f!==d&&a.set("treeMap",o(b,f.getBlockMap(),f.getEntityMap(),e));a.merge(c)});return new a(d)};var c=a.prototype;c.toJS=function(){return this.getImmutable().toJS()};c.getAllowUndo=function(){return this.getImmutable().get("allowUndo")};c.getCurrentContent=function(){return this.getImmutable().get("currentContent")};c.getUndoStack=function(){return this.getImmutable().get("undoStack")};c.getRedoStack=function(){return this.getImmutable().get("redoStack")};c.getSelection=function(){return this.getImmutable().get("selection")};c.getDecorator=function(){return this.getImmutable().get("decorator")};c.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")};c.mustForceSelection=function(){return this.getImmutable().get("forceSelection")};c.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")};c.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")};c.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")};a.setInlineStyleOverride=function(b,c){return a.set(b,{inlineStyleOverride:c})};c.getCurrentInlineStyle=function(){var a=this.getInlineStyleOverride();if(a!=null)return a;a=this.getCurrentContent();var b=this.getSelection();return b.isCollapsed()?r(a,b):s(a,b)};c.getBlockTree=function(a){return this.getImmutable().getIn(["treeMap",a])};c.isSelectionAtStartOfContent=function(){var a=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(a,0,0)};c.isSelectionAtEndOfContent=function(){var a=this.getCurrentContent();a=a.getBlockMap();a=a.last();var b=a.getLength();return this.getSelection().hasEdgeWithin(a.getKey(),b,b)};c.getDirectionMap=function(){return this.getImmutable().get("directionMap")};a.acceptSelection=function(a,b){return m(a,b,!1)};a.forceSelection=function(a,b){b.getHasFocus()||(b=b.set("hasFocus",!0));return m(a,b,!0)};a.moveSelectionToEnd=function(c){var d=c.getCurrentContent();d=d.getLastBlock();var e=d.getKey();d=d.getLength();return a.acceptSelection(c,new(b("SelectionState"))({anchorKey:e,anchorOffset:d,focusKey:e,focusOffset:d,isBackward:!1}))};a.moveFocusToEnd=function(b){b=a.moveSelectionToEnd(b);return a.forceSelection(b,b.getSelection())};a.push=function(c,d,e,f){f===void 0&&(f=!0);if(c.getCurrentContent()===d)return c;var g=b("EditorBidiService").getDirectionMap(d,c.getDirectionMap());if(!c.getAllowUndo())return a.set(c,{currentContent:d,directionMap:g,lastChangeType:e,selection:d.getSelectionAfter(),forceSelection:f,inlineStyleOverride:null});var i=c.getSelection(),j=c.getCurrentContent(),k=c.getUndoStack(),l=d;i!==j.getSelectionAfter()||q(c,e)?(k=k.push(j),l=l.setSelectionBefore(i)):(e==="insert-characters"||e==="backspace-character"||e==="delete-character")&&(l=l.setSelectionBefore(j.getSelectionBefore()));i=c.getInlineStyleOverride();j=["adjust-depth","change-block-type","split-block"];j.indexOf(e)===-1&&(i=null);j={currentContent:l,directionMap:g,undoStack:k,redoStack:h(),lastChangeType:e,selection:d.getSelectionAfter(),forceSelection:f,inlineStyleOverride:i};return a.set(c,j)};a.undo=function(c){if(!c.getAllowUndo())return c;var d=c.getUndoStack(),e=d.peek();if(!e)return c;var f=c.getCurrentContent(),g=b("EditorBidiService").getDirectionMap(e,c.getDirectionMap());return a.set(c,{currentContent:e,directionMap:g,undoStack:d.shift(),redoStack:c.getRedoStack().push(f),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:f.getSelectionBefore()})};a.redo=function(c){if(!c.getAllowUndo())return c;var d=c.getRedoStack(),e=d.peek();if(!e)return c;var f=c.getCurrentContent(),g=b("EditorBidiService").getDirectionMap(e,c.getDirectionMap());return a.set(c,{currentContent:e,directionMap:g,undoStack:c.getUndoStack().push(f),redoStack:d.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:e.getSelectionAfter()})};function a(a){this.$1=a}c.getImmutable=function(){return this.$1};return a}();function m(a,b,c){return l.set(a,{selection:b,forceSelection:c,nativelyRenderedContent:null,inlineStyleOverride:null})}function n(a,c){return a.getBlockMap().map(function(d){return b("BlockTree").generate(a,d,c)}).toOrderedMap()}function o(a,c,d,e){var f=a.getCurrentContent().set("entityMap",d),g=f.getBlockMap();d=a.getImmutable().get("treeMap");return d.merge(c.toSeq().filter(function(a,b){return a!==g.get(b)}).map(function(a){return b("BlockTree").generate(f,a,e)}))}function p(a,c,d,e,f){return d.merge(c.toSeq().filter(function(b){return e.getDecorations(b,a)!==f.getDecorations(b,a)}).map(function(c){return b("BlockTree").generate(a,c,e)}))}function q(a,b){a=a.getLastChangeType();return b!==a||b!=="insert-characters"&&b!=="backspace-character"&&b!=="delete-character"}function r(a,b){var c=b.getStartKey();b=b.getStartOffset();var d=a.getBlockForKey(c);if(b>0)return d.getInlineStyleAt(b-1);return d.getLength()?d.getInlineStyleAt(0):t(a,c)}function s(a,b){var c=b.getStartKey();b=b.getStartOffset();var d=a.getBlockForKey(c);if(b<d.getLength())return d.getInlineStyleAt(b);return b>0?d.getInlineStyleAt(b-1):t(a,c)}function t(a,b){a=a.getBlockMap().reverse().skipUntil(function(a,c){return c===b}).skip(1).skipUntil(function(a,b){return a.getLength()}).first();return a?a.getInlineStyleAt(a.getLength()-1):g()}e.exports=l}),null);
__d("replaceSelectionWithMention",["DraftModifier","EditorState"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d,e,f){e=e(c.getCurrentContent(),a);var g=e.getLastCreatedEntityKey();f=f?f(a):a.getTitle();a=b("DraftModifier").replaceText(e,d,f,c.getCurrentInlineStyle(),g);return b("EditorState").push(c,a,"insert-fragment")}}),null);
__d("DraftEditorFlushControlled",["ReactDOMComet"],(function(a,b,c,d,e,f){a=b("ReactDOMComet").unstable_flushControlled;e.exports=a}),null);
__d("KeyBindingUtil",["UserAgent","isSoftNewlineEvent"],(function(a,b,c,d,e,f){"use strict";var g=b("UserAgent").isPlatform("Mac OS X"),h={isCtrlKeyCommand:function(a){return!!a.ctrlKey&&!a.altKey},isOptionKeyCommand:function(a){return g&&a.altKey},usesMacOSHeuristics:function(){return g},hasCommandModifier:function(a){return g?!!a.metaKey&&!a.altKey:h.isCtrlKeyCommand(a)},isSoftNewlineEvent:b("isSoftNewlineEvent")};e.exports=h}),null);
__d("getDefaultKeyBinding",["KeyBindingUtil","Keys","UserAgent"],(function(a,b,c,d,e,f){"use strict";var g=b("UserAgent").isPlatform("Mac OS X"),h=g&&b("UserAgent").isBrowser("Firefox < 29"),i=b("KeyBindingUtil").hasCommandModifier,j=b("KeyBindingUtil").isCtrlKeyCommand;function k(a){return g&&a.altKey||j(a)}function l(a){return!i(a)?null:a.shiftKey?"redo":"undo"}function m(a){return!g&&a.shiftKey?null:k(a)?"delete-word":"delete"}function n(a){return i(a)&&g?"backspace-to-start-of-line":k(a)?"backspace-word":"backspace"}function a(a){switch(a.keyCode){case 66:return i(a)?"bold":null;case 68:return j(a)?"delete":null;case 72:return j(a)?"backspace":null;case 73:return i(a)?"italic":null;case 74:return i(a)?"code":null;case 75:return g&&j(a)?"secondary-cut":null;case 77:return j(a)?"split-block":null;case 79:return j(a)?"split-block":null;case 84:return g&&j(a)?"transpose-characters":null;case 85:return i(a)?"underline":null;case 87:return g&&j(a)?"backspace-word":null;case 88:return i(a)&&a.shiftKey?"strikethrough":null;case 89:return j(a)?g?"secondary-paste":"redo":null;case 90:return l(a)||null;case b("Keys").RETURN:return"split-block";case b("Keys").DELETE:return m(a);case b("Keys").BACKSPACE:return n(a);case b("Keys").LEFT:return h&&i(a)?"move-selection-to-start-of-block":null;case b("Keys").RIGHT:return h&&i(a)?"move-selection-to-end-of-block":null;default:return null}}e.exports=a}),null);
__d("CometIXTContentTriggerRootQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"5504294359596136",metadata:{},name:"CometIXTContentTriggerRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometIXTContentTriggerEntryPoint.entrypoint",["CometIXTContentTriggerRootQuery$Parameters","JSResourceForInteraction","React","WebPixelRatio","uuid"],(function(a,b,c,d,e,f){"use strict";b("React");a={getPreloadProps:function(a){return{queries:{reference:{parameters:b("CometIXTContentTriggerRootQuery$Parameters"),variables:{input:babelHelpers["extends"]({},a,{nt_context:null,trigger_session_id:b("uuid")()}),scale:b("WebPixelRatio").get()}}}}},root:b("JSResourceForInteraction")("CometIXTContentTriggerRoot.react").__setRef("CometIXTContentTriggerEntryPoint.entrypoint")};e.exports=a}),null);
__d("useIXTContentTriggerDialog",["CometIXTContentTriggerEntryPoint.entrypoint","useCometEntryPointDialog"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("useCometEntryPointDialog")(b("CometIXTContentTriggerEntryPoint.entrypoint"),a)}e.exports=a}),null);
__d("CometMisinfoSeeWhyDialogQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"3240622922713424",metadata:{},name:"CometMisinfoSeeWhyDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometWarningScreenOverlayBackground_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayBackground_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"cover_style",storageKey:null}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenOverlayCenterButton_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayCenterButton_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ixt_trigger",storageKey:null}],type:"WarningScreenAction",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenOverlayContentDefaultFullCover_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayContentDefaultFullCover_data",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"WarningScreenAction",kind:"LinkedField",name:"warning_screen_actions",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayCenterButton_data"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayIcon_data"}],type:"OverlayWarningScreenViewModel",abstractKey:null}}();e.exports=a}),null);
__d("CometWarningScreenOverlayContentDefaultLightweight_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayContentDefaultLightweight_data",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"WarningScreenAction",kind:"LinkedField",name:"warning_screen_actions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayCenterButton_data"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayIcon_data"}],type:"OverlayWarningScreenViewModel",abstractKey:null}}();e.exports=a}),null);
__d("CometWarningScreenOverlayContentDefault_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayContentDefault_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"render_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayContentDefaultLightweight_data"},{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayContentDefaultFullCover_data"}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenOverlayContentSmall_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayContentSmall_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"render_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayIcon_data"}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenOverlayContent_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayContent_data",selections:[{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayContentDefault_data"},{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayContentSmall_data"}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenOverlayCoveredResizable_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayCoveredResizable_data",selections:[{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayCovered_data"}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenOverlayCovered_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayCovered_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"render_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayBackground_data"},{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayContent_data"}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenOverlayIcon_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlayIcon_data",selections:[{alias:null,args:[{kind:"Literal",name:"color",value:"fds-black"}],concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'icon(color:"fds-black")'}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("CometWarningScreenOverlay_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometWarningScreenOverlay_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"content_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"container_story_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top_objectionable_category",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayCovered_data"},{args:null,kind:"FragmentSpread",name:"CometWarningScreenOverlayCoveredResizable_data"}],type:"OverlayWarningScreenViewModel",abstractKey:null};e.exports=a}),null);
__d("CometRemote3DPhotoViewer_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometRemote3DPhotoViewer_photo",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"immersive_photo_encodings",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"binary_cdn_uri",storageKey:null}],type:"PhotoEncoding3D",abstractKey:null}],storageKey:null}],type:"Photo",abstractKey:null};e.exports=a}),null);
__d("CometPhotoViewer_photo.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[a];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"CometPhotoViewer_photo",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_add_tags",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:"user_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"additional_profile_has_taggable_products",args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"page_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_admin",storageKey:null},{alias:"page_shop_has_taggable_products",args:null,kind:"ScalarField",name:"has_taggable_products",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},{alias:null,args:[{kind:"Literal",name:"context",value:"comet_media_viewer"},{kind:"Literal",name:"height",value:1e6},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:1e6}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"immersive_photo_encodings",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:b,storageKey:null},{alias:null,args:null,concreteType:"PhotoTagsConnection",kind:"LinkedField",name:"tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PhotoTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PhotoTag",kind:"LinkedField",name:"tag",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_product_tag",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"container_story",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"photo_viewer"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometPhotoViewer_photo",fragmentName:"CometWarningScreenOverlay_data",fragmentPropName:"data",kind:"ModuleImport"}],type:"OverlayWarningScreenViewModel",abstractKey:null}],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"photo_viewer")'},{args:null,kind:"FragmentSpread",name:"CometRemote360PhotoViewer_photo"},{args:null,kind:"FragmentSpread",name:"CometRemote3DPhotoViewer_photo"},{kind:"InlineDataFragmentSpread",name:"CometAIProductTagSuggestionsUtil_photo",selections:[a,{alias:null,args:null,concreteType:"ProductTag",kind:"LinkedField",name:"photo_product_tags",plural:!0,selections:[a,{alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:b,storageKey:null},{alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"xy_location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],storageKey:null}]}],type:"Photo",abstractKey:null}}();e.exports=a}),null);
__d("EndianAwareDataView",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b,c){c===void 0&&(c=0),this.$2=new DataView(a,c),this.$1=b}var b=a.prototype;b.getByteLength=function(){return this.$2.byteLength};b.getU8=function(a){return this.$2.getUint8(a)};b.getI8=function(a){return this.$2.getInt8(a)};b.getU16=function(a){return this.$2.getUint16(a,this.$1)};b.getI16=function(a){return this.$2.getInt16(a,this.$1)};b.getU32=function(a){return this.$2.getUint32(a,this.$1)};b.getI32=function(a){return this.$2.getInt32(a,this.$1)};b.getF32=function(a){return this.$2.getFloat32(a,this.$1)};return a}();e.exports=a}),null);
__d("EndianAwareDataReader",["EndianAwareDataView"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c){this.$2=new(b("EndianAwareDataView"))(a,c),this.$1=0}var c=a.prototype;c.canReadU8=function(){return this.$1<this.$2.getByteLength()};c.canReadU16=function(){return this.$1<this.$2.getByteLength()-1};c.canReadU32=function(){return this.$1<this.$2.getByteLength()-3};c.seekTo=function(a){this.$1=a};c.seekRelative=function(a){this.$1+=a};c.readU8=function(){var a=this.$2.getU8(this.$1);this.$1+=1;return a};c.peekU8=function(){return this.$2.getU8(this.$1)};c.readI8=function(){var a=this.$2.getI8(this.$1);this.$1+=1;return a};c.peekI8=function(){return this.$2.getI8(this.$1)};c.readU16=function(){var a=this.$2.getU16(this.$1);this.$1+=2;return a};c.peekU16=function(){return this.$2.getU16(this.$1)};c.readI16=function(){var a=this.$2.getI16(this.$1);this.$1+=2;return a};c.peekI16=function(){return this.$2.getI16(this.$1)};c.readU32=function(){var a=this.$2.getU32(this.$1);this.$1+=4;return a};c.peekU32=function(){return this.$2.getU32(this.$1)};c.readI32=function(){var a=this.$2.getI32(this.$1);this.$1+=4;return a};c.peekI32=function(){return this.$2.getI32(this.$1)};c.readF32=function(){var a=this.$2.getF32(this.$1);this.$1+=4;return a};c.peekF32=function(){return this.$2.getF32(this.$1)};return a}();e.exports=a}),null);
__d("CometFeedStoryImmersiveMediaMouseOverlay.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=a.descriptionFbt,d=a.isActive;a=a.showClick;return h.jsxs("div",{className:(g||(g=b("stylex"))).dedupe({"bottom-1":"d2iitwg3","opacity-1":"pedkr2u6","pointer-events-1":"hzruof5a","position-1":"pmk7jnqg","start-1":"kfkz5moi","transform-0.1":"tvo4c8rq"},d?null:{"opacity-1":"b5wmifdl"}),children:[h.jsx("div",{className:"ov9facns kfkz5moi pmk7jnqg qx04eu75 k7cz35w2 hioi5xb0 awevd9ak ee40wjg4 r7fvqmod",children:h.jsx("div",{className:"sk3xx2xc ee40wjg4 r7fvqmod",children:h.jsxs("div",{className:"kz4qo9ow ee40wjg4 r7fvqmod",children:[h.jsx("div",{className:"pgctjfs5 affysrvo pmk7jnqg tv7at329 omcyoz59 ed597pkb kb8x4rkr qw6c0r16 kaqsd373"}),h.jsxs("div",{className:"ov9facns dimoa7g4 pmk7jnqg stjgntxs ni8dbmo4 fz6q6hdd mrjvor2e jinzq4gt jos75b7i t0qjyqq4",children:[h.jsx("div",{className:a?"c9rrlmt1 pmk7jnqg ooasylqa q2y6ezfg j3og7z1a ee40wjg4 r7fvqmod":"c9rrlmt1 pmk7jnqg ooasylqa q2y6ezfg"}),h.jsx("div",{className:"c0wkt4kp oz4tkbee pmk7jnqg ooasylqa q2y6ezfg"})]}),h.jsx("div",{className:"ov9facns pmk7jnqg oeo4gz9l kv0toi1t j6sty90h h905i5nu monazrh9 q2y6ezfg"})]})})}),h.jsx("div",{className:"g0qnabr5 jb1g5q76 oqcyycmt dwxx2s2f dicw6rsg kady6ibp rs0gx3tq n3ffmt46 sq6gx45u ljqsnud1",children:c})]})}}),null);
__d("CometMisinfoSeeWhyDialogEntryPoint.entrypoint",["CometMisinfoSeeWhyDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(a){var c;a=a.entID;a=(c=a)==null?void 0:c.split(":").filter(function(a){return a!==""}).pop();return{extraProps:{entID:a},queries:{cometMisinfoSeeWhyDialogQueryReference:{parameters:b("CometMisinfoSeeWhyDialogQuery$Parameters"),variables:{entID:a,scale:b("WebPixelRatio").get()}}}}},root:b("JSResourceForInteraction")("CometMisinfoSeeWhyDialog.react").__setRef("CometMisinfoSeeWhyDialogEntryPoint.entrypoint")};e.exports=a}),null);
__d("CixWarningScreensFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743358");c=b("FalcoLoggerInternal").create("cix_warning_screens",a);e.exports=c}),null);
__d("WarningScreenType",[],(function(a,b,c,d,e,f){a=Object.freeze({GRAPHIC:"Violence and Gore",OBJECTIONABLE:"Sexual",HATE:"Hate",PROFANITY:"Profanity",POLITICAL:"Politically Charged",CHILD_ABUSE_NON_SEXUAL:"Child Abuse (non-sexual)",SENSITIVE:"Sensitive",CRUEL:"Cruel",MATURE_ONLY_14_AND_OVER:"Mature Only 14 And Over",ANIMAL_VIOLENCE:"Animal Violence",SENSITIVE_TEXT:"Sensitive Text",FALSE_NEWS:"False News",FALSE_HEADLINE_NEWS:"False Headline News",MISLEADING_NEWS:"Misleading News",ALTERED_MEDIA:"Altered Media",MISSING_CONTEXT:"Missing Context",GOVERNMENT_CORRECTION:"Government Correction",CENSUS_MISINFO:"Census Misinfo",CENSUS_BORDERLINE:"Census Borderline",COVID_ELECTION_BORDERLINE:"Covd Election Borderline",WIDELY_DEBUNKED_HOAX_COVID:"Widely Debunked Hoax Covid",HEALTH_GENERIC:"Health Generic",GENERIC_INFORM_TREATMENT:"Generic Inform Treatment",NEWSWORTHY:"Newsworthy",SELF_APPLIED_GRAPHIC_VIOLENCE:"Self Applied Graphic Violence",CIVIC_VOTER_INFORM_TREATMENT:"Civic Voter Inform Treatment",CIVIC_VOTER_INFORM_TREATMENT_FOR_MM:"Civic Voter Inform Treatment For Myanmar",CIVIC_VOTER_INFORM_TREATMENT_FOR_BR:"Civic Voter Inform Treatment For Brazil",CIVIC_VOTER_INFORM_TREATMENT_FOR_ID:"Civic Voter Inform Treatment For Indonesia",CIVIC_FACTS_ABOUT_VOTING_INFORM_TREATMENT:"Civic Facts About Voting Inform Treatment",HACK_AND_LEAK:"Hack And Leak",GRAPHIC_MISINFO:"Graphic Misinfo",WIDELY_DEBUNKED_HOAX_VACCINE:"Widely Debunked Hoax Vaccine",WORK_RECRUITING_GROUP_POST:"Recruiting Group Post"});e.exports=a}),null);
__d("CometWarningScreenClientLogger",["CixWarningScreensFalcoEvent","WarningScreenType"],(function(a,b,c,d,e,f){"use strict";f.logWarningScreenEvent=a;function a(a,c,d,e,f,h,i,j,k,l,m,n){var o=c==null?void 0:c.split(":").filter(function(a){return a!==""}).pop();b("CixWarningScreensFalcoEvent").log(function(){return{action:a,content_id_raw:o,endpoint:d,event:e,generic_inform_treatment_case:l,integrity_ui_element:f,product:m,render_type:n,story_ent_identifier_graphql_id:h,story_render_location:i,surface:j,top_warning_screen_category:g(k)}})}function g(a){if(a==null)return null;a=a;return b("WarningScreenType")[a]}}),null);
__d("CometWarningScreenOverlayBackground.react",["CometBlurredBackgroundImage.react","CometRelay","React","stylex","CometWarningScreenOverlayBackground_data.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=b("CometRelay").useFragment(g!==void 0?g:g=b("CometWarningScreenOverlayBackground_data.graphql"),a.data);c=c.cover_style;a=a.mediaUri;switch(c){case"PLAIN":return h.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg hzruof5a n7fi1qx3 i09qtzwb d6rk862h"});case"GRADIENT":return h.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg hzruof5a n7fi1qx3 i09qtzwb njqljl3s"});case"REVERSE_GRADIENT":return h.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg hzruof5a n7fi1qx3 i09qtzwb qpkeyiwh"});case"BLUR":return h.jsxs("div",{className:"j102wcjv kr520xx4 j9ispegn pmk7jnqg hzruof5a n7fi1qx3 i09qtzwb",children:[h.jsx(b("CometBlurredBackgroundImage.react"),{src:a}),h.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg hzruof5a n7fi1qx3 i09qtzwb d6rk862h"})]});case"NONE":default:return h.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg hzruof5a n7fi1qx3 i09qtzwb"})}}}),null);
__d("useInformTreatmentFollowupExperience",["CometMisinfoSeeWhyDialogEntryPoint.entrypoint","gkx","useCometEntryPointDialog","useIXTContentTriggerDialog"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("gkx")("1770065");function a(a){var c=a.contentID,d=a.entryPoint,e=a.ixtTriggerEvent;a=a.location;c=c.split(":").filter(function(a){return a!==""}).pop();var f=b("useCometEntryPointDialog")(b("CometMisinfoSeeWhyDialogEntryPoint.entrypoint"),{entID:c}),h=f[0];f=f[1];a=b("useIXTContentTriggerDialog")({content_id:c,entry_point:(c=d)!=null?c:"UNKNOWN",location:(d=a)!=null?d:"UNKNOWN",trigger_event_type:(c=e)!=null?c:"INFORM_TREATMENT_SEE_WHY"});d=a[0];c=a[1];if(e!=null&&g)return[d,c];else return[h,f]}}),null);
__d("CometWarningScreenOverlayCenterButton.react",["CometRelay","CometTextWithEntitiesRelay.react","React","TetraButton.react","recoverableViolation","stylex","useCometUFIVideoPlayerStateAndController","useInformTreatmentFollowupExperience","CometWarningScreenOverlayCenterButton_data.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function i(a,b){switch(a){case"overlay":switch(b){case"PRIMARY":return"overlay";case"SECONDARY":return"fdsOverride_black";case null:return"overlay"}break;case"card":return"secondary"}return"overlay"}function a(a){var c,d=b("useCometUFIVideoPlayerStateAndController")(),e=b("CometRelay").useFragment(g!==void 0?g:g=b("CometWarningScreenOverlayCenterButton_data.graphql"),a.data);c=b("useInformTreatmentFollowupExperience")({contentID:(c=a.contentID)!=null?c:"",ixtTriggerEvent:e.ixt_trigger});var f=c[0];c=c[1];var j=e.label,k=e.render_type,l=e.type;if(j==null||l==null){b("recoverableViolation")("Empty data passed","comet_warning_screens");return null}l==="OPEN_MISINFO_SEE_WHY_DIALOG"&&a.storyID==null&&b("recoverableViolation")("No story ID for misinfo","comet_warning_screens");if(l==="OPEN_MISINFO_SEE_WHY_DIALOG"&&a.contentID==null){b("recoverableViolation")("No content ID for misinfo","comet_warning_screens");return null}var m={};l==="SHOW_CONTENT"?m={onPress:function(){d&&d.controller.play("warning_screen_cover"),a.logAction("SHOW_CONTENT"),a.showContent()},testid:"CometWarningScreen-ShowContent"}:l==="OPEN_MISINFO_SEE_WHY_DIALOG"||e.ixt_trigger!=null?m={onPress:function(){a.logAction("OPEN_MISINFO_SEE_WHY_DIALOG"),f({})},ref:c}:m={linkProps:{target:"_blank",url:e.context},onPress:function(){a.logAction("HELP_CENTER_REDIRECT")}};return h.jsx("div",{className:"oqcyycmt q9uorilb",children:h.jsx(b("TetraButton.react"),babelHelpers["extends"]({label:h.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:j}),size:"medium",type:i(a.type,k)},m))})}}),null);
__d("CometWarningScreenOverlayIcon.react",["CometRelay","React","TetraIcon.react","TintableIconSource","coerceRelayImage","unrecoverableViolation","CometWarningScreenOverlayIcon_data.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=b("CometRelay").useFragment(g!==void 0?g:g=b("CometWarningScreenOverlayIcon_data.graphql"),a.data);if(c.icon==null)throw b("unrecoverableViolation")("Icon missing for Warning Screen","comet_frx");c=new(b("TintableIconSource"))("FB",b("coerceRelayImage")(c.icon),24);return h.jsx(b("TetraIcon.react"),{color:a.color,icon:c,size:24})}}),null);
__d("CometWarningScreenOverlayContentDefaultFullCover.react",["CometRelay","CometRowItem.react","CometTextWithEntitiesRelay.react","CometWarningScreenContext","CometWarningScreenOverlayCenterButton.react","CometWarningScreenOverlayIcon.react","React","TetraRow.react","TetraText.react","TetraTextPairing.react","stylex","CometWarningScreenOverlayContentDefaultFullCover_data.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c,d=b("CometRelay").useFragment(g!==void 0?g:g=b("CometWarningScreenOverlayContentDefaultFullCover_data.graphql"),a.data),e=b("CometWarningScreenContext").useShowOverlay(),f=a.storyID,i=d.title,j=d.subtitle;return h.jsx("div",{className:"j102wcjv kr520xx4 j9ispegn pmk7jnqg dati1w0a ihqw7lf3 hv4rvrfc discj3wi ggxiycxj hihg3u9x cbu4d94t n7fi1qx3 j83agx80 i09qtzwb",ref:(c=a.containerRefs)==null?void 0:c.overlayContainerRef,children:h.jsx("div",{className:"taijpn5t buofh1pr j83agx80 bp9cbjyn",ref:(c=a.containerRefs)==null?void 0:c.contentContainerRef,children:h.jsx(b("TetraTextPairing.react"),{body:h.jsxs(h.Fragment,{children:[j!=null?h.jsx(b("TetraText.react"),{color:"white",type:"body3",children:h.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:j})}):null,d.warning_screen_actions.length>0?h.jsx("div",{className:"mrt03zmi discj3wi b3onmgus ph5uu5jm",children:h.jsx(b("TetraRow.react"),{align:"center",spacing:12,children:d.warning_screen_actions.map(function(c,d){return h.jsx(b("CometRowItem.react"),{expanding:!1,children:h.jsx(b("CometWarningScreenOverlayCenterButton.react"),{contentID:a.contentID,data:c,logAction:a.logAction,showContent:function(){return e(!1)},storyID:f,type:"overlay"})},d)})})}):null]}),bodyColor:"white",headline:i!=null?h.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:i}):null,headlineColor:"white",level:3,meta:h.jsx(b("CometWarningScreenOverlayIcon.react"),{color:"white",data:d}),metaLocation:"above",textAlign:"center"})})})}}),null);
__d("useLightWeightCardOffset",["CometRouteRenderType","CometWarningScreenContext","React","useLayoutEffect_SAFE_FOR_SSR","useResizeObserver"],(function(a,b,c,d,e,f){"use strict";f.useLightWeightCardOffsetForFullScreenMediaPlayerStyle=a;f.useLightWeightCardOffset=c;var g=b("React"),h=552,i=112,j=16,k=i+j,l=48,m=16,n=120,o=.7;function a(){var a=b("CometRouteRenderType").useIsPushView(),c=g.useRef(null),d=g.useState(0),e=d[0],f=d[1],m=g.useCallback(function(b){if(a){b=Math.max(b-h,0);b=b/2;b=Math.max(i,Math.min(b,k));b=(k-b)/j;b=b*l;f(b)}},[a,f]);d=b("useResizeObserver")(function(a){return m(a.width)});d(c.current);return{containerRef:c,vertical:e}}function c(){var a=g.useRef(null),c=g.useRef(null),d=g.useState(0),e=d[0],f=d[1],h=b("CometWarningScreenContext").useSetAdditionalRequiredHeight(),i=g.useCallback(function(b){var a=b.card;b=b.container;var c=b.height-a.height,d=Math.max(n,o*b.height);d=Math.max(0,d-c);if(d<m){h(0);f(0);return}c=d>b.height+2*m;c?(h(a.height+2*m),f(b.height+2*m)):(h(d),f(d))},[h,f]),j=a.current,k=c.current;b("useLayoutEffect_SAFE_FOR_SSR")(function(){j!=null&&k!=null&&i({card:j.getBoundingClientRect(),container:k.getBoundingClientRect()})},[j,k,i]);return{cardRef:a,containerRef:c,vertical:e}}}),null);
__d("CometWarningScreenOverlayContentDefaultLightweight.react",["ix","CometCard.react","CometRelay","CometRow.react","CometRowItem.react","CometStyleXSheet","CometTextWithEntitiesRelay.react","CometWarningScreenContext","CometWarningScreenOverlayCenterButton.react","CometWarningScreenOverlayIcon.react","React","TetraCircleButton.react","TetraText.react","TetraTextPairing.react","fbicon","stylex","useLightWeightCardOffset","CometWarningScreenOverlayContentDefaultLightweight_data.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=(c=b("CometStyleXSheet").CometStyleXSheet==null?void 0:b("CometStyleXSheet").CometStyleXSheet.DARK_MODE_CLASS_NAME)!=null?c:"";function k(a){var c=b("CometRelay").useFragment(h!==void 0?h:h=b("CometWarningScreenOverlayContentDefaultLightweight_data.graphql"),a.data),d=b("CometWarningScreenContext").useSetAdditionalRequiredHeight(),e=b("CometWarningScreenContext").useShowOverlay(),f=a.logAction,k=i.useCallback(function(){d(0),e(!1),f("SHOW_CONTENT")},[d,e,f]),l=a.storyID,m=c.title,n=c.subtitle,o=c.warning_screen_actions.filter(function(a){return a.type!=="SHOW_CONTENT"}),p=a.offset,q=a.position,r=a.shouldForceDarkMode;return i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg hzruof5a ggxiycxj hihg3u9x cbu4d94t n7fi1qx3 j83agx80 i09qtzwb",ref:p.containerRef,style:{bottom:-p.vertical,top:p.vertical},children:i.jsx("div",{className:"j9ispegn pmk7jnqg oqq733wu dati1w0a ihqw7lf3 hv4rvrfc discj3wi ggxiycxj hihg3u9x taijpn5t cbu4d94t n7fi1qx3 j83agx80 bp9cbjyn"+(q==="TOP"?" kr520xx4":" i09qtzwb"),children:i.jsx("div",{className:q==="TOP"?"k4urcfbm lvkh322w":"k4urcfbm",ref:p.cardRef,children:i.jsx("div",{className:r?j:null,children:i.jsx(b("CometCard.react"),{background:"white",border:"solid",dropShadow:2,children:i.jsx("div",{className:"b3onmgus e5nlhep0 ph5uu5jm ecm0bbzt",children:i.jsxs("div",{className:"ihqw7lf3",children:[i.jsxs(b("CometRow.react"),{align:"start",expanding:!0,children:[i.jsx(b("CometRowItem.react"),{children:i.jsx("div",{className:"hcukyx3x cxmmr5t8",children:i.jsx(b("CometWarningScreenOverlayIcon.react"),{color:"primary",data:c})})}),(m!=null||n!=null)&&i.jsx(b("CometRowItem.react"),{expanding:!0,children:i.jsx("div",{className:"s7sz1jes aahdfvyu",children:i.jsx(b("TetraTextPairing.react"),{body:n!=null&&i.jsx(b("TetraText.react"),{color:"primary",type:"body3",children:i.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:n})}),headline:m&&i.jsx(b("TetraText.react"),{color:"primary",type:"bodyLink3",children:i.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:m})}),level:3})})})]}),o.length>0&&i.jsx(b("CometRow.react"),{wrap:"forward",children:i.jsx(b("CometRowItem.react"),{expanding:!0,children:o.map(function(c,d){return i.jsx(b("CometRowItem.react"),{expanding:!1,children:i.jsx(b("CometWarningScreenOverlayCenterButton.react"),{contentID:a.contentID,data:c,logAction:a.logAction,showContent:function(){},storyID:l,type:"card"})},d)})})}),i.jsx("div",{className:"kr520xx4 pmk7jnqg tw6a2znq f10w8fjw d1544ag0 pybr56ya n7fi1qx3",children:i.jsx(b("TetraCircleButton.react"),{color:"black",icon:b("fbicon")._(g("478232"),16),label:"Close",onPress:k,size:32})})]})})})})})})})}function l(a){var c=b("useLightWeightCardOffset").useLightWeightCardOffsetForFullScreenMediaPlayerStyle();return i.jsx(k,babelHelpers["extends"]({offset:c,position:"TOP",shouldForceDarkMode:!0},a))}function m(a){var c=b("useLightWeightCardOffset").useLightWeightCardOffset();return i.jsx(k,babelHelpers["extends"]({offset:c,position:"BOTTOM",shouldForceDarkMode:!1},a))}function n(a){return i.jsx(k,babelHelpers["extends"]({offset:{vertical:0},position:"BOTTOM",shouldForceDarkMode:!1},a))}function a(a){var b=a.allowExpandingIfNecessary,c=a.isFullScreenMediaPlayerStyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["allowExpandingIfNecessary","isFullScreenMediaPlayerStyle"]);if(c)return i.jsx(l,babelHelpers["extends"]({},a));return b?i.jsx(m,babelHelpers["extends"]({},a)):i.jsx(n,babelHelpers["extends"]({},a))}}),null);
__d("CometWarningScreenOverlayContentDefault.react",["CometRelay","CometWarningScreenOverlayContentDefaultFullCover.react","CometWarningScreenOverlayContentDefaultLightweight.react","React","CometWarningScreenOverlayContentDefault_data.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=a.allowExpandingIfNecessary,d=a.containerRefs,e=a.contentID,f=a.data,i=a.isFullScreenMediaPlayerStyle,j=a.logAction,k=a.storyID;a=a.url;f=b("CometRelay").useFragment(g!==void 0?g:g=b("CometWarningScreenOverlayContentDefault_data.graphql"),f);switch(f.render_type){case"LIGHTWEIGHT":return h.jsx(b("CometWarningScreenOverlayContentDefaultLightweight.react"),{allowExpandingIfNecessary:c,contentID:e,data:f,isFullScreenMediaPlayerStyle:i,logAction:j,storyID:k,url:a});case"FULL_COVER":default:return h.jsx(b("CometWarningScreenOverlayContentDefaultFullCover.react"),{containerRefs:d,contentID:e,data:f,logAction:j,storyID:k,url:a})}}}),null);
__d("CometWarningScreenOverlayContentSmall.react",["fbt","CometPressable.react","CometRelay","CometWarningScreenOverlayIcon.react","React","stylex","useCometRouterDispatcher","CometWarningScreenOverlayContentSmall_data.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i,j=b("React"),k={content:{alignItems:"bp9cbjyn",display:"j83agx80",flexGrow:"buofh1pr",justifyContent:"taijpn5t"},intercepter:{bottom:"i09qtzwb",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",":active":{transform:"tm8avpzi"}},overlayContainer:{bottom:"i09qtzwb",display:"j83agx80",end:"n7fi1qx3",flexDirection:"cbu4d94t",overflowX:"hihg3u9x",overflowY:"ggxiycxj",paddingTop:"discj3wi",paddingEnd:"hv4rvrfc",paddingBottom:"ihqw7lf3",paddingStart:"dati1w0a",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",zIndex:"j102wcjv"},overlayContainerSmall:{paddingTop:"jb3vyjys",paddingEnd:"rz4wbd8a",paddingBottom:"qt6c0cv9",paddingStart:"a8nywdso",pointerEvents:"hzruof5a"}};function a(a){var c,d=b("CometRelay").useFragment(h!==void 0?h:h=b("CometWarningScreenOverlayContentSmall_data.graphql"),a.data),e=b("useCometRouterDispatcher")();if(d.render_type==="LIGHTWEIGHT")return null;var f=a.logAction,l=a.url,m=l!=null?j.jsx(b("CometPressable.react"),{"aria-label":g._("\u906e\u853d\uff0c\u76f8\u7c3f\u5167\u6709\u654f\u611f\u5167\u5bb9"),display:"block",hideHoverOverlay:!0,onPress:function(a){e!=null&&(f("OPEN_CONTENT_VIEWER"),e.go(l,{}),a.preventDefault())},xstyle:k.intercepter}):null;return j.jsxs("div",{children:[j.jsx("div",{className:(i||(i=b("stylex")))(k.overlayContainer,k.overlayContainerSmall),ref:(c=a.containerRefs)==null?void 0:c.overlayContainerRef,children:j.jsx("div",{className:i(k.content),ref:(c=a.containerRefs)==null?void 0:c.contentContainerRef,children:j.jsx(b("CometWarningScreenOverlayIcon.react"),{color:"white",data:d})})}),m]})}}),null);
__d("CometWarningScreenOverlayContent.react",["CometRelay","CometWarningScreenOverlayContentDefault.react","CometWarningScreenOverlayContentSmall.react","React","CometWarningScreenOverlayContent_data.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=b("CometRelay").useFragment(g!==void 0?g:g=b("CometWarningScreenOverlayContent_data.graphql"),a.data);switch(a.layout){case"SMALL":return h.jsx(b("CometWarningScreenOverlayContentSmall.react"),{containerRefs:a.containerRefs,contentID:a.contentID,data:c,logAction:a.logAction,storyID:a.storyID,url:a.url});case"DEFAULT":default:return h.jsx(b("CometWarningScreenOverlayContentDefault.react"),{allowExpandingIfNecessary:a.allowExpandingIfNecessary,containerRefs:a.containerRefs,contentID:a.contentID,data:c,isFullScreenMediaPlayerStyle:a.isFullScreenMediaPlayerStyle,logAction:a.logAction,storyID:a.storyID,url:a.url})}}}),null);
__d("CometWarningScreenOverlayCovered.react",["CometRelay","CometWarningScreenContext","CometWarningScreenOverlayBackground.react","CometWarningScreenOverlayContent.react","React","CometWarningScreenOverlayCovered_data.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=b("CometRelay").useFragment(g!==void 0?g:g=b("CometWarningScreenOverlayCovered_data.graphql"),a.data),d=c.render_type!=="LIGHTWEIGHT",e=b("CometWarningScreenContext").useMakeContentVisibleDespiteOverlay();h.useEffect(function(){e(!d)},[e,d]);return h.jsxs(h.Fragment,{children:[d&&h.jsx(b("CometWarningScreenOverlayBackground.react"),{data:c,mediaUri:a.mediaUri}),h.jsx(b("CometWarningScreenOverlayContent.react"),{allowExpandingIfNecessary:a.allowExpandingIfNecessary,containerRefs:a.containerRefs,contentID:a.contentID,data:c,isFullScreenMediaPlayerStyle:a.isFullScreenMediaPlayerStyle,layout:a.layout,logAction:a.logAction,storyID:a.storyID,url:a.url})]})}}),null);
__d("useWarningScreenLayout",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=g.useState("DEFAULT"),b=a[0],c=a[1],d=g.useRef(null),e=g.useRef(null);g.useLayoutEffect(function(){if(d.current==null||e.current==null)return;d.current!=null&&e.current!=null&&(d.current.clientHeight-e.current.clientHeight<=0&&c("SMALL"))},[d,e]);return[b,{contentContainerRef:e,overlayContainerRef:d}]}}),null);
__d("CometWarningScreenOverlayCoveredResizable.react",["CometRelay","CometWarningScreenOverlayCovered.react","React","useWarningScreenLayout","CometWarningScreenOverlayCoveredResizable_data.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c=b("CometRelay").useFragment(g!==void 0?g:g=b("CometWarningScreenOverlayCoveredResizable_data.graphql"),a.data),d=b("useWarningScreenLayout")(),e=d[0];d=d[1];return h.jsx(b("CometWarningScreenOverlayCovered.react"),{allowExpandingIfNecessary:a.allowExpandingIfNecessary,containerRefs:d,contentID:a.contentID,data:c,isFullScreenMediaPlayerStyle:a.isFullScreenMediaPlayerStyle,layout:e,logAction:a.logAction,mediaUri:a.mediaUri,storyID:a.storyID,url:a.url})}}),null);
__d("CometWarningScreenOverlayUncovered.react",["ix","fbt","CometRouteRenderType","CometWarningScreenContext","React","TetraCircleButton.react","fbicon","stylex","unrecoverableViolation","useCometRouterState","useCometUFIVideoPlayerStateAndController"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k={showOverlayButton:{end:"cypi58rs",position:"pmk7jnqg",top:"dn56xbwz"}};function a(a){var c=b("useCometUFIVideoPlayerStateAndController")(),d=b("CometWarningScreenContext").useShowOverlay(),e=b("useCometRouterState")();if(e==null)throw b("unrecoverableViolation")("Cannot render comet app with no route provider","comet_infra");e=b("CometRouteRenderType").useIsPushView();e=e&&a.xstyle!=null?a.xstyle:k.showOverlayButton;return j.jsx("div",{className:(i||(i=b("stylex")))(e),children:j.jsx(b("TetraCircleButton.react"),{icon:b("fbicon")._(g("511436"),24),label:h._("Show overlay"),onPress:function(){c&&c.controller.pause("warning_screen_cover"),d(!0),a.logAction("HIDE_CONTENT")},size:40,testid:void 0,type:"dark-overlay"})})}}),null);
__d("CometWarningScreenOverlay.react",["CometRelay","CometStoryRenderLocationContext.react","CometTimeSpentNavigation","CometWarningScreenClientLogger","CometWarningScreenContext","CometWarningScreenOverlayCovered.react","CometWarningScreenOverlayCoveredResizable.react","CometWarningScreenOverlayUncovered.react","React","CometWarningScreenOverlay_data.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(a){var c,d,e,f,i=b("CometRelay").useFragment(g!==void 0?g:g=b("CometWarningScreenOverlay_data.graphql"),a.data),j=(c=a.storyID)!=null?c:i.container_story_id,k=i.content_id;c=a.mediaUri;var l=a.surface,m=a.url,n=i.top_objectionable_category,o=i.render_type;d=(d=a.isFullScreenMediaPlayerStyle)!=null?d:!1;e=(e=a.allowExpandingIfNecessary)!=null?e:!0;f=(f=a.allowReCoveringContent)!=null?f:!0;var p=b("CometWarningScreenContext").useIsOverlayShown(),q=b("CometWarningScreenContext").useSetParentRenderInstructions(),r=h.useContext(b("CometStoryRenderLocationContext.react")),s=b("CometTimeSpentNavigation").getPathInfo(),t=s?s.name:"",u=a.integrityUIElement;h.useEffect(function(){q(o==="LIGHTWEIGHT"?"CLIP_TO_PARENT":"CLIP_TO_MEDIA")},[o,q]);h.useEffect(function(){b("CometWarningScreenClientLogger").logWarningScreenEvent(null,k,t,"mounted",u,j,r,l,n,null,"warning_screens",o)},[k,t,u,j,r,l,n,o]);s=function(a){b("CometWarningScreenClientLogger").logWarningScreenEvent(a,k,t,"action",u,j,r,l,n,null,"warning_screens",o)};if(n==null)return null;if(p||(a==null?void 0:a.alwaysShowCoverComponent)===!0){p=a.alwaysShowDetails===!0;var v=a.alwaysUseSmallLayout===!0;if(v)return h.jsx(b("CometWarningScreenOverlayCovered.react"),{allowExpandingIfNecessary:e,contentID:k,data:i,isFullScreenMediaPlayerStyle:d,layout:"SMALL",logAction:s,mediaUri:c,storyID:j,url:m});return p?h.jsx(b("CometWarningScreenOverlayCovered.react"),{allowExpandingIfNecessary:e,contentID:k,data:i,isFullScreenMediaPlayerStyle:d,layout:"DEFAULT",logAction:s,mediaUri:c,storyID:j,url:m}):h.jsx(b("CometWarningScreenOverlayCoveredResizable.react"),{allowExpandingIfNecessary:e,contentID:k,data:i,isFullScreenMediaPlayerStyle:d,logAction:s,mediaUri:c,storyID:j,url:m})}else if(f&&o!=="LIGHTWEIGHT")return h.jsx(b("CometWarningScreenOverlayUncovered.react"),{logAction:s,xstyle:a.xstyle});else return h.jsx("div",{})}}),null);
__d("Comet360PhotoTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Cylindrical","Equirectangular","TiledCubemap"]);f.Comet360PhotoProjection=a}),null);
__d("Comet3DPhotoLoadingOverlay.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){a=a.isVisible;return g.jsx("div",{className:"orwu60u2 e4zzj2sf art1omkt jowmb856 py2didcb rk01pc8j kfkz5moi pmk7jnqg hzruof5a rdkrh8wx"+(a?"":" b5wmifdl"),children:g.jsx("div",{})})}}),null);
__d("Matrices",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){a=Math.tan(a/2)*c;var e=-a,f=a*b;b=e*b;return[2*c/(f-b),0,0,0,0,2*c/(a-e),0,0,(f+b)/(f-b),(a+e)/(a-e),(c+d)/(c-d),-1,0,0,c*d*2/(c-d),0]}function g(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function b(a,b,c){return[a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1]}function c(a){var b=a[0],c=a[1],d=a[2];a=a[3];var e=2/Math.sqrt(b*b+c*c+d*d+a*a);return[1-e*(c*c+d*d),e*(b*c+d*a),e*(b*d-c*a),0,e*(b*c-d*a),1-e*(b*b+d*d),e*(c*d+b*a),0,e*(b*d+c*a),e*(c*d-b*a),1-e*(b*b+c*c),0,0,0,0,1]}function d(a){return h(a[0],a[1],a[2])}function h(a,b,c){return[1,0,0,0,0,1,0,0,0,0,1,0,a,b,c,1]}function f(a){var b=a[0]*a[5]-a[1]*a[4],c=a[0]*a[6]-a[2]*a[4],d=a[0]*a[7]-a[3]*a[4],e=a[1]*a[6]-a[2]*a[5],f=a[1]*a[7]-a[3]*a[5],g=a[2]*a[7]-a[3]*a[6],h=a[8]*a[13]-a[9]*a[12],i=a[8]*a[14]-a[10]*a[12],j=a[8]*a[15]-a[11]*a[12],k=a[9]*a[14]-a[10]*a[13],l=a[9]*a[15]-a[11]*a[13],m=a[10]*a[15]-a[11]*a[14],n=b*m-c*l+d*k+e*j-f*i+g*h,o=(a[5]*m-a[6]*l+a[7]*k)/n,p=(a[2]*l-a[1]*m-a[3]*k)/n,q=(a[13]*g-a[14]*f+a[15]*e)/n,r=(a[10]*f-a[9]*g-a[11]*e)/n,s=(a[6]*j-a[4]*m-a[7]*i)/n;m=(a[0]*m-a[2]*j+a[3]*i)/n;var t=(a[14]*d-a[12]*g-a[15]*c)/n;g=(a[8]*g-a[10]*d+a[11]*c)/n;var u=(a[4]*l-a[5]*j+a[7]*h)/n;j=(a[1]*j-a[0]*l-a[3]*h)/n;l=(a[12]*f-a[13]*d+a[15]*b)/n;d=(a[9]*d-a[8]*f-a[11]*b)/n;f=(a[5]*i-a[4]*k-a[6]*h)/n;k=(a[0]*k-a[1]*i+a[2]*h)/n;i=(a[13]*c-a[12]*e-a[14]*b)/n;h=(a[8]*e-a[9]*c+a[10]*b)/n;return[o,p,q,r,s,m,t,g,u,j,l,d,f,k,i,h]}function i(a,b){var c=g();c[0]=a[0]*b[0]+a[1]*b[4]+a[2]*b[8]+a[3]*b[12];c[1]=a[0]*b[1]+a[1]*b[5]+a[2]*b[9]+a[3]*b[13];c[2]=a[0]*b[2]+a[1]*b[6]+a[2]*b[10]+a[3]*b[14];c[3]=a[0]*b[3]+a[1]*b[7]+a[2]*b[11]+a[3]*b[15];c[4]=a[4]*b[0]+a[5]*b[4]+a[6]*b[8]+a[7]*b[12];c[5]=a[4]*b[1]+a[5]*b[5]+a[6]*b[9]+a[7]*b[13];c[6]=a[4]*b[2]+a[5]*b[6]+a[6]*b[10]+a[7]*b[14];c[7]=a[4]*b[3]+a[5]*b[7]+a[6]*b[11]+a[7]*b[15];c[8]=a[8]*b[0]+a[9]*b[4]+a[10]*b[8]+a[11]*b[12];c[9]=a[8]*b[1]+a[9]*b[5]+a[10]*b[9]+a[11]*b[13];c[10]=a[8]*b[2]+a[9]*b[6]+a[10]*b[10]+a[11]*b[14];c[11]=a[8]*b[3]+a[9]*b[7]+a[10]*b[11]+a[11]*b[15];c[12]=a[12]*b[0]+a[13]*b[4]+a[14]*b[8]+a[15]*b[12];c[13]=a[12]*b[1]+a[13]*b[5]+a[14]*b[9]+a[15]*b[13];c[14]=a[12]*b[2]+a[13]*b[6]+a[14]*b[10]+a[15]*b[14];c[15]=a[12]*b[3]+a[13]*b[7]+a[14]*b[11]+a[15]*b[15];return c}function j(a,b){var c=[0,0,0,0];c[0]=a[0]*b[0]+a[1]*b[4]+a[2]*b[8]+a[3]*b[12];c[1]=a[0]*b[1]+a[1]*b[5]+a[2]*b[9]+a[3]*b[13];c[2]=a[0]*b[2]+a[1]*b[6]+a[2]*b[10]+a[3]*b[14];c[3]=a[0]*b[3]+a[1]*b[7]+a[2]*b[11]+a[3]*b[15];return c}function k(a){return[a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]]}a={createIdentityMat4:g,createPerspectiveProjectionMatrix:a,createRotationMatrixFromQuaternion:c,createScalingMatrix:b,createTranslationMatrix:h,createTranslationMatrixFromVec:d,invertMat4:f,multiplyMat4:i,multiplyVec4:j,transposeMatrix:k};e.exports=a}),null);
__d("CometWebGLCubemapTexture",["recoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a,this.$2=a.createTexture(),this.initializeTexture()}var c=a.prototype;c.initializeTexture=function(){var a=this.$1;a.bindTexture(a.TEXTURE_CUBE_MAP,this.$2);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR_MIPMAP_LINEAR);a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);var b=new Uint8Array([0,0,0,0]);a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_X,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_Y,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_Y,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_Z,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.texImage2D(a.TEXTURE_CUBE_MAP_NEGATIVE_Z,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,b);a.bindTexture(a.TEXTURE_CUBE_MAP,null)};c.setFace=function(a,c){var d=this.$1,e=0;switch(a){case 0:e=d.TEXTURE_CUBE_MAP_POSITIVE_X;break;case 1:e=d.TEXTURE_CUBE_MAP_NEGATIVE_Z;break;case 2:e=d.TEXTURE_CUBE_MAP_NEGATIVE_X;break;case 3:e=d.TEXTURE_CUBE_MAP_POSITIVE_Z;break;case 4:e=d.TEXTURE_CUBE_MAP_POSITIVE_Y;break;case 5:e=d.TEXTURE_CUBE_MAP_NEGATIVE_Y;break;default:b("recoverableViolation")("Cubemap face out of bounds","webgl");return}e!==0&&(d.bindTexture(d.TEXTURE_CUBE_MAP,this.$2),d.texImage2D(e,0,d.RGB,d.RGB,d.UNSIGNED_BYTE,c),d.bindTexture(d.TEXTURE_CUBE_MAP,null))};c.generateMipmap=function(){var a=this.$1;a.bindTexture(a.TEXTURE_CUBE_MAP,this.$2);a.generateMipmap(a.TEXTURE_CUBE_MAP);a.bindTexture(a.TEXTURE_CUBE_MAP,null)};c.bindToSlot=function(a){var b=this.$1;b.activeTexture(b.TEXTURE0+a);b.bindTexture(b.TEXTURE_CUBE_MAP,this.$2)};c.release=function(){this.$1.deleteTexture(this.$2)};return a}();e.exports=a}),null);
__d("CometWebGLIndexBuffer",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=a,this.$1=a.createBuffer()}var b=a.prototype;b.bufferData=function(a){var b=this.$2;b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.$1);b.bufferData(b.ELEMENT_ARRAY_BUFFER,a,b.STATIC_DRAW)};b.bindToElements=function(){var a=this.$2;a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.$1)};return a}();e.exports=a}),null);
__d("CometWebGLVertexBuffer",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$2=a,this.$1=a.createBuffer()}var b=a.prototype;b.bufferData=function(a){var b=this.$2;b.bindBuffer(b.ARRAY_BUFFER,this.$1);b.bufferData(b.ARRAY_BUFFER,a,b.STATIC_DRAW)};b.bindToAttribute=function(a,b,c,d,e,f){var g=this.$2;g.bindBuffer(g.ARRAY_BUFFER,this.$1);g.vertexAttribPointer(a,b,c,d,e,f);g.enableVertexAttribArray(a)};return a}();e.exports=a}),null);
__d("getWebGLAttributeSizeAndType",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){b=b?WebGLRenderingContext.UNSIGNED_BYTE:WebGLRenderingContext.FLOAT;switch(a.type){case WebGLRenderingContext.FLOAT:return{size:1,type:b};case WebGLRenderingContext.FLOAT_VEC2:return{size:2,type:b};case WebGLRenderingContext.FLOAT_VEC3:return{size:3,type:b};case WebGLRenderingContext.FLOAT_VEC4:return{size:4,type:b};case WebGLRenderingContext.FLOAT_MAT2:return{size:4,type:b};case WebGLRenderingContext.FLOAT_MAT3:return{size:9,type:b};case WebGLRenderingContext.FLOAT_MAT4:return{size:16,type:b}}return{size:1,type:b}}}),null);
__d("CometWebGLGeometry",["CometWebGLIndexBuffer","CometWebGLVertexBuffer","getWebGLAttributeSizeAndType","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function g(a){switch(a){case WebGLRenderingContext.BYTE:case WebGLRenderingContext.UNSIGNED_BYTE:return 1;case WebGLRenderingContext.SHORT:case WebGLRenderingContext.UNSIGNED_SHORT:return 2;case WebGLRenderingContext.FLOAT:return 4}b("recoverableViolation")("Unrecognized vertex type: "+a,"webgl");return 1}a=function(){function a(a,c){c===void 0&&(c={interleaved:!0}),this.$1=[],this.$2=new(b("CometWebGLVertexBuffer"))(a),this.$3=null,this.$4=0,this.$6=null,this.$7=null,this.$8=0,this.$9=c.interleaved!==!1,this.$5=a,this.$10=0}var c=a.prototype;c.addAttribute=function(a,c){c===void 0&&(c={normalize:!1});if(!this.$9&&c.offset==null)throw b("unrecoverableViolation")("Vertex Buffer is not interleaved but attribute was added without an offset","immersive_media");var d=!!c.normalize,e=b("getWebGLAttributeSizeAndType")(a,d),f=e.size;e=e.type;var h=g(e);this.$1.push({loc:a.location,normalize:d,offset:c.offset!=null?c.offset:this.$10,size:f,stride:c.stride!=null?c.stride:h*f,type:e});this.$10+=h*f};c.bufferData=function(a){if(a instanceof ArrayBuffer){this.$2.bufferData(a);this.$4=a.byteLength;return}if(this.$3&&a.length<=this.$3.length){for(var b=0;b<a.length;b++)this.$3[b]=a[b];for(var b=a.length;b<this.$3.length;b++)this.$3[b]=0}else this.$3=new Float32Array(a);this.$4=a.length*4;this.$2.bufferData(this.$3.buffer)};c.bufferIndex=function(a){if(this.$7&&a.length<this.$7.length){for(var c=0;c<a.length;c++)this.$7[c]=a[c];for(var c=a.length;c<this.$7.length;c++)this.$7[c]=0}else this.$7=new Uint16Array(a);this.$8=a.length;this.$6||(this.$6=new(b("CometWebGLIndexBuffer"))(this.$5));this.$6.bufferData(this.$7)};c.bindToAttributes=function(){for(var a=0;a<this.$1.length;a++){var b=this.$1[a];this.$2.bindToAttribute(b.loc,b.size,b.type,!!b.normalize,this.$9?this.$10:b.stride,b.offset)}this.$6&&this.$6.bindToElements()};c.draw=function(){if(this.$9&&this.$4%this.$10!==0){b("recoverableViolation")("Geometry buffer length is not perfectly divisible by stride","webgl");return}var a=this.$5;if(this.$7)a.drawElements(a.TRIANGLES,this.$8,a.UNSIGNED_SHORT,0);else{var c=this.$4/this.$10;a.drawArrays(a.TRIANGLES,0,c)}};return a}();e.exports=a}),null);
__d("CometWebGLTexture",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){var c;b===void 0&&(b=Object.freeze({}));this.$1=a;this.$4=a.createTexture();a.bindTexture(a.TEXTURE_2D,this.$4);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);this.$5=(c=b.width)!=null?c:0;this.$2=(c=b.height)!=null?c:0;if("source"in b){c=b.source;c==null?a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.$5,this.$2,0,a.RGBA,a.UNSIGNED_BYTE,c):this.setSource(c)}else a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,new Uint8Array([0,0,0,0]))}var b=a.prototype;b.getGLTexture=function(){return this.$4};b.setSource=function(a,b){b===void 0&&(b=!1);this.$3=a;var c=this.$1;c.bindTexture(c.TEXTURE_2D,this.$4);a instanceof Image&&(c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,b?1:0),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,a),this.$5=a.naturalWidth,this.$2=a.naturalHeight);c.bindTexture(c.TEXTURE_2D,null)};b.bindToSlot=function(a){var b=this.$1;b.activeTexture(b.TEXTURE0+a);b.bindTexture(b.TEXTURE_2D,this.$4)};return a}();e.exports=a}),null);
__d("CometWebGLMesh",["CometWebGLCubemapTexture","CometWebGLGeometry","CometWebGLTexture","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,c,d){d===void 0&&(d={interleaved:!0}),this.$1=a,this.geometry=new(b("CometWebGLGeometry"))(a,{interleaved:d.interleaved!==!1}),this.program=c,this.renderOrder=1,this.uniforms={},this.visible=!0}var c=a.prototype;c.addAttribute=function(a,b){a=this.program.getAttribute(a);if(a==null)return this;this.geometry.addAttribute(a,b);return this};c.setUniform=function(a,b){this.uniforms[a]=b};c.getUniform=function(a){return this.uniforms[a]};c.unsetUniform=function(a){delete this.uniforms[a]};c.bufferData=function(a){this.geometry.bufferData(a)};c.bufferIndex=function(a){this.geometry.bufferIndex(a)};c.setVisible=function(a){this.visible=a};c.draw=function(){if(!this.visible)return;var a=0,c=this.program,d=c.getUniforms();for(var e in d){d=null;e in this.uniforms?d=this.uniforms[e]:d=c.getDefaultValueForUniform(e);var f=c.getUniform(e);if(f==null)throw b("unrecoverableViolation")("Specified uniform does not exist in program: "+e,"immersive_media");typeof d==="number"?f.set(d):Array.isArray(d)||d instanceof Float32Array?f.set(d):(d instanceof b("CometWebGLTexture")||d instanceof b("CometWebGLCubemapTexture"))&&(d.bindToSlot(a),f.set(a),a++)}this.geometry.bindToAttributes();this.geometry.draw()};return a}();e.exports=a}),null);
__d("defaultValueForWebGLUniform",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){switch(a){case WebGLRenderingContext.FLOAT:return 0;case WebGLRenderingContext.FLOAT_VEC2:return[0,0];case WebGLRenderingContext.FLOAT_VEC3:return[0,0,0];case WebGLRenderingContext.FLOAT_VEC4:return[0,0,0,0];case WebGLRenderingContext.INT:return 0;case WebGLRenderingContext.INT_VEC2:return[0,0];case WebGLRenderingContext.INT_VEC3:return[0,0,0];case WebGLRenderingContext.INT_VEC4:return[0,0,0,0];case WebGLRenderingContext.FLOAT_MAT2:return[0,0,0,0];case WebGLRenderingContext.FLOAT_MAT3:return[0,0,0,0,0,0,0,0,0];case WebGLRenderingContext.FLOAT_MAT4:return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];case WebGLRenderingContext.SAMPLER_2D:return null;default:return null}}}),null);
__d("extractAttributesFromWebGLProgram",["recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){var d={},e=a.getProgramParameter(c,a.ACTIVE_ATTRIBUTES);for(var f=0;f<e;f++){var g=a.getActiveAttrib(c,f);if(!g){b("recoverableViolation")("Attempted to retrieve an attribute that did not exist","webgl");continue}var h=a.getAttribLocation(c,g.name);d[g.name]={location:h,size:g.size,type:g.type}}return d}}),null);
__d("createWebGLUniformSetter",["recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){switch(d){case a.FLOAT:return a.uniform1f.bind(a,c);case a.FLOAT_VEC2:return a.uniform2fv.bind(a,c);case a.FLOAT_VEC3:return a.uniform3fv.bind(a,c);case a.FLOAT_VEC4:return a.uniform4fv.bind(a,c);case a.INT:return a.uniform1i.bind(a,c);case a.INT_VEC2:return a.uniform2iv.bind(a,c);case a.INT_VEC3:return a.uniform3iv.bind(a,c);case a.INT_VEC4:return a.uniform4iv.bind(a,c);case a.FLOAT_MAT2:return a.uniformMatrix2fv.bind(a,c,!1);case a.FLOAT_MAT3:return a.uniformMatrix3fv.bind(a,c,!1);case a.FLOAT_MAT4:return a.uniformMatrix4fv.bind(a,c,!1);case a.SAMPLER_2D:return a.uniform1i.bind(a,c);case a.SAMPLER_CUBE:return a.uniform1i.bind(a,c);default:return function(){b("recoverableViolation")("This uniform type is not supported: "+d,"webgl")}}}}),null);
__d("extractUniformsFromWebGLProgram",["createWebGLUniformSetter","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){var d={},e=a.getProgramParameter(c,a.ACTIVE_UNIFORMS);for(var f=0;f<e;f++){var g=a.getActiveUniform(c,f);if(!g){b("recoverableViolation")("Attempted to retrieve a uniform that did not exist","webgl");continue}var h=a.getUniformLocation(c,g.name);d[g.name]={location:h,set:b("createWebGLUniformSetter")(a,h,g.type),size:g.size,type:g.type}}return d}}),null);
__d("CometWebGLProgram",["defaultValueForWebGLUniform","extractAttributesFromWebGLProgram","extractUniformsFromWebGLProgram","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1={},this.$3=null,this.$4=[],this.$5={},this.$6={},this.$2=a}var c=a.prototype;c.addShader=function(a,c,d){if(this.$3){b("recoverableViolation")("Cannot add a shader, the program has already been compiled","webgl");return this}var e=a;if(d){d=d.map(function(a){return"#define "+a+"\n"}).join("");if(a.startsWith("#version")){var f=a.indexOf("\n")+1;e=a.substr(0,f)+d+a.substr(f)}else e=d+a}this.$4.push({code:e,type:c});return this};c.compile=function(){if(this.$3){b("recoverableViolation")("Cannot compile, the program has already been compiled","webgl");return this}var a=this.$2,c=this.$4.map(function(c){var d=c.code;c=c.type;c=a.createShader(c);a.shaderSource(c,d);a.compileShader(c);if(!a.getShaderParameter(c,a.COMPILE_STATUS)){d=a.getShaderInfoLog(c)||"";a.deleteShader(c);b("recoverableViolation")("Failed to compile shader: "+d,"webgl")}return c}),d=a.createProgram();for(var c=c,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;a.attachShader(d,g)}a.linkProgram(d);if(!a.getProgramParameter(d,a.LINK_STATUS)){g=a.getProgramInfoLog(d)||"";a.deleteProgram(d);b("recoverableViolation")("Failed to link program: "+g,"webgl");return this}this.$3=d;this.$6=b("extractUniformsFromWebGLProgram")(a,d);this.$1=b("extractAttributesFromWebGLProgram")(a,d);return this};c.use=function(){if(!this.$3){b("recoverableViolation")("Cannot use Program before it has been compiled","webgl");return}this.$2.useProgram(this.$3)};c.getUniform=function(a){var c=this.$6[a];if(!c){b("recoverableViolation")("Program does not have a uniform called "+a,"webgl");return null}return c};c.getUniforms=function(){return this.$6};c.getAttribute=function(a){var c=this.$1[a];if(!c){b("recoverableViolation")("Program does not have an attribute called "+a,"webgl");return null}return c};c.setUniformDefaults=function(a){for(var b in a)this.$5[b]=a[b];return this};c.getDefaultValueForUniform=function(a){if(!(a in this.$6)){b("recoverableViolation")("Program does not have a uniform called "+a,"webgl");return null}if(a in this.$5){var c=this.$5[a];return Array.isArray(c)?c.slice():c}return b("defaultValueForWebGLUniform")(this.$6[a].type)};return a}();e.exports=a}),null);
__d("createWebGL3DPhotoProgram",["CometWebGLProgram"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g="\nattribute vec3 a_position;\nattribute vec2 a_texcoord_0;\nuniform mat4 viewMatrix;\nuniform mat4 projectionMatrix;\nvarying vec2 v_texcoord_0;\n\nvoid main() {\n  v_texcoord_0 = a_texcoord_0;\n  gl_Position = projectionMatrix * viewMatrix * vec4(a_position, 1.0);\n}\n",h="\nprecision mediump float;\n\nvarying vec2 v_texcoord_0;\nuniform sampler2D u_texture_0;\n\nvoid main() {\n  gl_FragColor = texture2D(u_texture_0, v_texcoord_0);\n}\n";function a(a){var c=new(b("CometWebGLProgram"))(a);return c.addShader(g,a.VERTEX_SHADER).addShader(h,a.FRAGMENT_SHADER).compile().setUniformDefaults({projectionMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],viewMatrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]})}}),null);
__d("createMeshesFromGLTF",["Promise","CometWebGLMesh","CometWebGLTexture","createWebGL3DPhotoProgram"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g={POSITION:"a_position",TEXCOORD_0:"a_texcoord_0"};function a(a,c){var d=[],e=b("createWebGL3DPhotoProgram")(a),f=[],i=c.getMeshes();for(var i=i,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}l=l;l=l.primitives;for(var l=l,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}o=o;var p=o.attributes,q=[],r=Infinity,s=0;p=Object.entries(p);for(var t=0;t<p.length;t++){var u=p[t],v=u[0];u=u[1];if(typeof u==="number"){u=c.getAccessor(u);var w=c.getBufferView(u.bufferView);w.byteOffset<r&&(r=w.byteOffset);w.byteOffset+w.byteLength>s&&(s=w.byteOffset+w.byteLength);u=u.byteOffset!=null?u.byteOffset:0;q.push({byteOffset:w.byteOffset+u,name:v})}}q.sort(h);var x=new(b("CometWebGLMesh"))(a,e,{interleaved:!1});w=c.getBinarySource();for(var u=0;u<q.length;u++){v=q[u];if(v.name in g){p=v.byteOffset-r;t={offset:p};x.addAttribute(g[v.name],t)}}x.bufferData(new Float32Array(w.buffer,w.byteOffset+r,(s-r)/4));o.indices!=null&&x.bufferIndex(c.getDataViewForAccessor(o.indices));if(o.material!=null){p=c.getMaterial(o.material);var y=p==null?void 0:(v=p.pbrMetallicRoughness)==null?void 0:(t=v.baseColorTexture)==null?void 0:t.index;y!=null&&(function(){var d=c.getTexture(y),e=c.getImage(d.source),g=new(b("CometWebGLTexture"))(a);f.push(new(b("Promise"))(function(a,b){e.onload=function(){g.setSource(e),a()},e.onerror=function(){b()}}));x.setUniform("u_texture_0",g)})()}d.push(x)}}return b("Promise").all(f).then(function(){return d})}function h(a,b){return a.byteOffset-b.byteOffset}}),null);
__d("glVec3CrossProduct",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}}),null);
__d("glMatrixLookingAtTarget",["glVec3CrossProduct"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){c=[a[0]-c[0],a[1]-c[1],a[2]-c[2]];var d=Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2]);c[0]/=d;c[1]/=d;c[2]/=d;d=b("glVec3CrossProduct")([0,1,0],c);var e=b("glVec3CrossProduct")(c,d);return[d[0],d[1],d[2],0,e[0],e[1],e[2],0,c[0],c[1],c[2],0,a[0],a[1],a[2],1]}}),null);
__d("useFrameTiming",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=g.useRef(null),b=g.useRef(null),c=g.useCallback(function(a){var c=b.current;if(c==null)return;c(a)},[]),d=g.useCallback(function(d){var e=a.current;e!=null&&window.cancelAnimationFrame(e);b.current=d;a.current=window.requestAnimationFrame(c)},[c]),e=g.useCallback(function(){var b=a.current;if(b==null)return;window.cancelAnimationFrame(b)},[]);g.useEffect(function(){return function(){var b=a.current;if(b==null)return;window.cancelAnimationFrame(b)}},[]);return[d,e]}}),null);
__d("GLTFResource",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=[],this.$2=[],this.$3=null,this.$4=null,this.$5=[],this.$6=[],this.$7=[],this.$8=[]}var c=a.prototype;c.addBinarySource=function(a,b,c){this.$3=new Uint8Array(a,b,c)};c.useJSON=function(a){var b;this.$4=(b=a.extras)!=null?b:Object.freeze({});this.$1=(b=a.accessors)!=null?b:[];this.$2=(b=a.bufferViews)!=null?b:[];this.$5=(b=a.images)!=null?b:[];this.$6=(b=a.materials)!=null?b:[];this.$7=(b=a.meshes)!=null?b:[];this.$8=(b=a.textures)!=null?b:[]};c.getBinarySource=function(){if(this.$3==null)throw b("unrecoverableViolation")("attempted to access binary source before it was set","webgl");return this.$3};c.hasBinarySource=function(){return this.$3!=null};c.getAccessor=function(a){a=this.$1[a];if(a==null)throw new(b("unrecoverableViolation"))("accessor index out of range","webgl");return a};c.getBufferView=function(a){a=this.$2[a];if(a==null)throw new(b("unrecoverableViolation"))("buffer view index out of range","webgl");return a};c.getExtras=function(){return this.$4};c.getMaterial=function(a){a=this.$6[a];if(a==null)throw new(b("unrecoverableViolation"))("material index out of range","webgl");return a};c.getMeshes=function(){return this.$7};c.getTexture=function(a){a=this.$8[a];if(a==null)throw new(b("unrecoverableViolation"))("texture index out of range","webgl");return a};c.getDataViewForAccessor=function(a){a=this.$1[a];if(a==null)throw new(b("unrecoverableViolation"))("accessor index out of range","webgl");var c=this.$2[a.bufferView];if(c==null)throw new(b("unrecoverableViolation"))("buffer view index out of range","webgl");if(c.buffer!==0)throw new(b("unrecoverableViolation"))("external gltf buffers are not currently supported","webgl");var d=this.$3;if(d==null)throw new(b("unrecoverableViolation"))("attempted to get an accessor before loading binary data","webgl");var e=d.byteOffset+c.byteOffset;switch(a.componentType){case 5120:return new Int8Array(d.buffer,e,c.byteLength);case 5121:return new Uint8Array(d.buffer,e,c.byteLength);case 5122:return new Int16Array(d.buffer,e,c.byteLength/2);case 5123:return new Uint16Array(d.buffer,e,c.byteLength/2);case 5124:return new Int32Array(d.buffer,e,c.byteLength/4);case 5125:return new Uint32Array(d.buffer,e,c.byteLength/4);case 5126:return new Float32Array(d.buffer,e,c.byteLength/4);default:throw new(b("unrecoverableViolation"))("unsupported gl component type","webgl")}};c.getImage=function(a){a=this.$5[a];var b=this.getBufferView(a.bufferView),c=this.getBinarySource();c=new Uint8Array(c.buffer,c.byteOffset+b.byteOffset,b.byteLength);b=new Blob([c],{type:a.mimeType});c=URL.createObjectURL(b);a=new Image();a.src=c;return a};return a}();e.exports=a}),null);
__d("GLTFTypesValidator",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.throwBadFormat=g;f.validateAccessor=h;f.validateAccessors=i;f.validateArray=j;f.validateBoolean=a;f.validateBuffer=k;f.validateBufferView=l;f.validateBufferViews=m;f.validateBuffers=n;f.validateExtras=o;f.validateGLTFBodyJSON=c;f.validateImage=p;f.validateImages=q;f.validateInteger=r;f.validateMaterial=s;f.validateMaterials=t;f.validateMesh=u;f.validateMeshes=v;f.validatePrimitive=w;f.validatePrimitives=x;f.validateString=y;f.validateTexture=z;f.validateTextures=A;function g(a){throw new(b("unrecoverableViolation"))("unrecoverable incorrectly formatted JSON ".concat(a),"webgl")}function h(a){a===void 0&&g("GLTFAccessor undefined"),r(a.bufferView,!0,"GLTFAccessor.bufferView",0),r(a.byteOffset,!1,"GLTFAccessor.byteOffset",0),r(a.componentType,!0,"GLTFAccessor.componentType",5120,5126),r(a.count,!0,"GLTFAccessor.count",1),a.type!==void 0&&(a.type!=="SCALAR"&&a.type!=="VEC2"&&a.type!=="VEC3"&&a.type!=="VEC4"&&g("GLTFAccessor malformed"))}function i(a){j(a,!0,"GLTFAccessor");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;h(d)}}function j(a,b,c){if(a===void 0)if(b)g("Array<".concat(c).concat("> undefined"));else return;else a.length===0&&g("Array<".concat(c).concat("> length=0"))}function a(a,b,c){if(a===void 0)if(b)g(c.concat(" undefined"));else return;typeof a!=="boolean"&&g(c.concat(" not a boolean"))}function k(a){a===void 0&&g("GLTFBuffer undefined"),r(a.byteLength,!0,"GLTFBuffer.byteLength",1)}function l(a){r(a.buffer,!0,"GLTFBufferView.buffer",0),r(a.byteOffset,!0,"GLTFBufferView.byteOffset",0),r(a.byteLength,!0,"GLTFBufferView.byteLength",0)}function m(a){j(a,!1,"GLTFBufferView");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;l(d)}}function n(a){j(a,!1,"GLTFBuffer");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;k(d)}}function o(a){a!==void 0&&(a.FB_PHOTO_3D_DATA!==void 0?(a.FB_PHOTO_3D_DATA.hFov!==void 0&&r(a.FB_PHOTO_3D_DATA.hFov,!1,"GLTFExtras.FB_PHOTO_3D_DATA.hFov"),a.FB_PHOTO_3D_DATA.vFov!==void 0&&r(a.FB_PHOTO_3D_DATA.vFov,!1,"GLTFExtras.FB_PHOTO_3D_DATA.vFov")):g("GLTFExtras undefined"))}function c(a){a!==void 0?(i(a.accessors),n(a.buffers),m(a.bufferViews),o(a.extras),q(a.images),t(a.materials),v(a.meshes),A(a.textures)):g("GLTFBody undefined")}function p(a){a===void 0&&g("GLTFImage undefined"),y(a.mimeType,!0,"GLTFImage.mimeType"),r(a.bufferView,!0,"GLTFImage.bufferView",0)}function q(a){j(a,!1,"GLTFImage");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;p(d)}}function r(a,b,c,d,e){d===void 0&&(d=Number.MIN_SAFE_INTEGER);e===void 0&&(e=Number.MAX_SAFE_INTEGER);if(a===void 0)if(b)g(c.concat(" undefined"));else return;typeof a==="number"?(a<d||a>e)&&g(c.concat(" out of range")):g(c.concat(" not an integer"))}function s(a){a===void 0&&g("GLTFMaterial undefined"),a.pbrMetallicRoughness!==void 0&&(a.pbrMetallicRoughness.baseColorTexture!==void 0&&r(a.pbrMetallicRoughness.baseColorTexture.index,!1,"GLTFMaterial.pbrMetallicRoughness.baseColorTexture.index",0))}function t(a){j(a,!1,"GLTFMaterial");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;s(d)}}function u(a){a===void 0&&g("GLTFMesh undefined"),x(a.primitives)}function v(a){j(a,!0,"GLTFMesh");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;u(d)}}function w(a){a===void 0&&g("GLTFPrimitive undefined");for(var b in a.attributes)Object.prototype.hasOwnProperty.call(a.attributes,b)&&(b==="POSITION"||b==="TEXCOORD_0"||b==="TEXCOORD_1"?r(a.attributes[b],!0,"GLTFPrimitives.attributes[".concat(b).concat("]"),0):g("GLTFPrimitive malformed"));r(a.indices,!1,"GLTFPrimitives.indicies",0);r(a.material,!1,"GLTFPrimitives.material",0)}function x(a){a===void 0&&g("GLTFPrimatives undefined");j(a,!0,"GLTFPrimitive");for(var b=0;b<a.length;b++){var c=a[b];w(c)}}function y(a,b,c){if(a===void 0)if(b)g(c.concat(" undefined"));else return;typeof a!=="string"&&g(c.concat(" not a string"))}function z(a){a===void 0&&g("GLTFTexture undefined"),r(a.sampler,!0,"GLTFTexture.sampler",0),r(a.source,!0,"GLTFTexture.source",0)}function A(a){j(a,!0,"GLTFTexture");if(a!==void 0)for(var a=a,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;z(d)}}}),null);
__d("extractUTF8StringFromBuffer",["EndianAwareDataReader","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function g(a){return a>127}function h(a){return a>=192&&a<=223}function i(a){return a>=224&&a<=239}function j(a){return a>=240&&a<=247}function a(a,c,d){if(c+d>a.byteLength)throw new(b("unrecoverableViolation"))("offset and length exceed ArrayBuffer bounds","webgl");if("TextDecoder"in window){var e=new TextDecoder("utf-8"),f=new Uint8Array(a,c,d);return e.decode(f)}e=new(b("EndianAwareDataReader"))(a.slice(c,c+d),!1);f=[];while(e.canReadU8()){a=e.readU8();if(g(a))if(h(a)){if(!e.canReadU8())throw new(b("unrecoverableViolation"))("incomplete two-byte utf8 sequence","webgl");c=e.readU8();a=(a&31)<<6|c&63}else if(i(a)){d=e.canReadU8()?e.readU8():null;c=e.canReadU8()?e.readU8():null;if(d==null||c==null)throw new(b("unrecoverableViolation"))("incomplete three-byte utf8 sequence","webgl");a=(a&15)<<12|(d&63)<<6|c&63}else if(j(a)){d=e.canReadU8()?e.readU8():null;c=e.canReadU8()?e.readU8():null;var k=e.canReadU8()?e.readU8():null;if(d==null||c==null||k==null)throw new(b("unrecoverableViolation"))("incomplete four-byte utf8 sequence","webgl");a=(a&7)<<18|(d&63)<<12|(c&63)<<6|k&63}else throw new(b("unrecoverableViolation"))("unknown utf8 start sequence","webgl");if(a<=65535)f.push(String.fromCharCode(a));else if(a<=1114111)a-=65536,f.push(String.fromCharCode(a>>10|55296)),f.push(String.fromCharCode(a&1023|56320));else throw new(b("unrecoverableViolation"))("codepoint is beyond ","webgl")}return f.join("")}}),null);
__d("parseGLBResource",["GLTFResource","GLTFTypesValidator","extractUTF8StringFromBuffer","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=1179937895;function a(a){var c=new DataView(a);if(c.getUint32(0,!0)!==g)throw new(b("unrecoverableViolation"))("invalid GLB magic number","webgl");if(c.getUint32(4,!0)!==2)throw new(b("unrecoverableViolation"))("unsupported GLB version number","webgl");var d=c.getUint32(8,!0);if(d>a.byteLength)throw new(b("unrecoverableViolation"))("glb buffer is shorter than declared byte length","webgl");var e=new(b("GLTFResource"))(),f=12;while(f<d){var h=c.getUint32(f,!0),i=c.getUint32(f+4,!0);switch(i){case 1313821514:i=b("extractUTF8StringFromBuffer")(a,f+8,h);var j="";try{j=JSON.parse(i)}catch(a){throw new(b("unrecoverableViolation"))("failed to parse glTF JSON","webgl",a)}b("GLTFTypesValidator").validateGLTFBodyJSON(j);e.useJSON(j);break;case 5130562:e.addBinarySource(a,f+8,h);break;default:throw new(b("unrecoverableViolation"))("unexpected GLB section label","webgl")}f+=h+8}return e}}),null);
__d("useGLBLoadAndParse",["React","parseGLBResource","promiseDone"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=g.useState(null),d=c[0],e=c[1];g.useEffect(function(){var c=!1;b("promiseDone")(window.fetch(a).then(function(a){return a.arrayBuffer()}).then(function(a){if(c)return;a=b("parseGLBResource")(a);e(a)})["catch"](function(){e(null)}));return function(){c=!0}},[a]);return d}}),null);
__d("useGLContext",["React","WebPixelRatio","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a,c,d){var e=g.useState(null),f=e[0],h=e[1],i=(e=d==null?void 0:d.expand)!=null?e:!1;g.useEffect(function(){var a=document.createElement("canvas"),c=a.getContext("webgl");if(c==null){b("recoverableViolation")("Unable to create WebGL context","webgl");return function(){}}h(c);return function(){try{c.getExtension("WEBGL_lose_context").loseContext()}catch(a){b("recoverableViolation")("Failed to clean up WebGL context","webgl",{error:a})}}},[]);g.useEffect(function(){if(f==null)return;var d=f.canvas,e=b("WebPixelRatio").get(),g=a*e;e=c*e;d.width=g;d.height=e;f.viewport(0,0,g,e);d.style.width=i?"100%":a+"px"},[f,a,c,i]);d=g.useCallback(function(a){if(f==null)return;var b=f.canvas,c=b.parentNode;c!=null&&c.removeChild(b);a!=null&&a.appendChild(b)},[f]);return[f,d]}}),null);
__d("useGLTFDerivedFOV",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React"),h=1,i=.508015513,j=.666488587,k=.925,l=Object.freeze({landscape:-.14,portrait:-.124}),m=Object.freeze({landscape:-.124,portrait:-.112}),n=Object.freeze({landscape:.96,portrait:.8}),o=Object.freeze({landscape:.6,portrait:.7});function a(a){var b=g.useMemo(function(){var b;b=(b=a==null?void 0:(b=a.getExtras())==null?void 0:(b=b.FB_PHOTO_3D_DATA)==null?void 0:b.vFov)!=null?b:j;return b*k},[a]),c=g.useMemo(function(){var b;b=(b=a==null?void 0:(b=a.getExtras())==null?void 0:(b=b.FB_PHOTO_3D_DATA)==null?void 0:b.hFov)!=null?b:i;return b*k},[a]),d=g.useMemo(function(){var a=.1,d=1e3,e=1/Math.tan(b/2),f=c/b;return[e/f,0,0,0,0,e,0,0,0,0,(a+d)/(a-d),-1,0,0,a*d*2/(a-d),0]},[c,b]),e=g.useMemo(function(){var a=c>b?"landscape":"portrait",d=l[a],e=m[a];return[Math.tan(c/2)*h*d,Math.tan(b/2)*h*e,1-n[a],o[a]]},[c,b]),f=e[0],p=e[1],q=e[2];e=e[3];return{hFov:c,maxHorizontalAngle:f,maxVerticalAngle:p,projectionMatrix:d,targetInteractionWeightHorizontal:q,targetScrollWeightVertical:e,vFov:b}}}),null);
__d("Comet3DPhotoViewer.react",["fbt","CometFeedStoryImmersiveMediaMouseOverlay.react","CometLazyPopoverTrigger.react","ConstUriUtils","JSResourceForInteraction","Matrices","React","UserAgent","clearTimeout","createMeshesFromGLTF","gkx","glMatrixLookingAtTarget","mergeRefs","promiseDone","setTimeout","stylex","useFrameTiming","useGLBLoadAndParse","useGLContext","useGLTFDerivedFOV","useThrottled","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h=b("React"),i=b("JSResourceForInteraction")("CometFeedStory3DPhotoContextMenu.react").__setRef("Comet3DPhotoViewer.react"),j=1,k=.01,l=.005,m=.1,n=.06,o=.12;function a(a){var c=a.fallbackURI,d=a.fileURI,e=a.height,f=a.onLoad,p=a.photoID;a=a.width;var q=b("gkx")("678680"),r=h.useState(!1),s=r[0],t=r[1],u=h.useRef(null);r=b("useGLContext")(a,e,{expand:!0});var v=r[0],w=r[1];a=b("useFrameTiming")();var x=a[0],y=b("useGLBLoadAndParse")(d);e=h.useState([]);var z=e[0],A=e[1];h.useEffect(function(){if(v==null||y==null)return;var a=!1;b("promiseDone")(b("createMeshesFromGLTF")(v,y).then(function(b){if(a)return;A(b);f&&f()}));return function(){a=!0}},[v,y,f]);r=b("useGLTFDerivedFOV")(y);var B=r.hFov,C=r.maxHorizontalAngle,D=r.maxVerticalAngle,E=r.projectionMatrix,F=r.targetInteractionWeightHorizontal,G=r.targetScrollWeightVertical,H=r.vFov,I=h.useCallback(function(){if(v==null||z.length===0)return;v.enable(v.DEPTH_TEST);v.clear(v.COLOR_BUFFER_BIT|v.DEPTH_BUFFER_BIT);v.enable(v.BLEND);v.blendFunc(v.SRC_ALPHA,v.ONE_MINUS_SRC_ALPHA);for(var a=z,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.program.use();d.draw()}},[z,v]),J=function(){b("clearTimeout")(u.current),u.current=b("setTimeout")(function(){t(!0)},3e3)};a=function(){s&&t(!1),J()};var K=b("useThrottled")(a,100),L=b("useVisibilityObserver")({onVisible:function(){b("clearTimeout")(u.current),u.current=b("setTimeout")(function(){t(!0)},3e3)}});e=h.useMemo(function(){return b("mergeRefs")(w,L)},[w,L]);h.useEffect(function(){return function(){b("clearTimeout")(u.current)}},[]);var M=h.useRef([0,0]),N=h.useRef(1),O=h.useRef(1),P=h.useRef([0,0]),Q=h.useRef([0,0]),R=h.useRef(0),S=h.useCallback(function(a){if(v==null)return;if(a!=null){if(R.current!==0){var c=Math.min(a-R.current,50);c=Math.max(Math.min(l*c,1),0);var d=P.current,e=d[0];d=d[1];var f=Q.current,g=f[0];f=f[1];Q.current=[g+c*(e-g),f+c*(d-f)];g=N.current;f=O.current;O.current=f+c*(g-f);(Math.abs(Q.current[0]-e)>k||Math.abs(Q.current[1]-d)>k||Math.abs(O.current-g)>k)&&x(S)}R.current=a}c=O.current;f=H*o*(2*c-1);e=(1-2*c)*D;d=Q.current;g=d[0];a=d[1];d=Math.sin(g*Math.PI*.5);g=Math.sin(a*Math.PI*.5);a=H*n*g;var h=B*n*d;d=-d*C;g=-g*D;c=Math.pow(c+.16,3)/(Math.pow(c+.16,3)+Math.pow(1-(c+.16),3))-.9;a=-(a+f);f=-h;h=j-c*m;c=[0+h*Math.cos(a)*Math.sin(f),0+h*Math.sin(a),-j+h*Math.cos(a)*Math.cos(f)];h=[-(F*d),-(e*G+g*(1-G)),-j];a=b("glMatrixLookingAtTarget")(c,h);f=b("Matrices").invertMat4(a);for(var d=z,e=Array.isArray(d),g=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(g>=d.length)break;c=d[g++]}else{g=d.next();if(g.done)break;c=g.value}h=c;h.setUniform("viewMatrix",f);h.setUniform("projectionMatrix",E)}I()},[I,v,B,C,D,z,E,x,F,G,H]),T=h.useCallback(function(){if(v==null)return;var a=v.canvas,b=0,c=0;while(a!=null)b+=a instanceof HTMLElement?a.offsetLeft:0,c+=a instanceof HTMLElement?a.offsetTop:0,a=a instanceof HTMLElement?a.offsetParent:null;M.current=[b,c]},[M,v]),U=h.useCallback(function(){var a;if(v==null)return;T();var b=window.innerHeight,c=v.canvas.clientHeight;b=b+c;a=M.current[1]-((a=(a=document.scrollingElement)==null?void 0:a.scrollTop)!=null?a:0)+c;c=a/b;N.current=c;if(c<0||c>1)return;x(S)},[M,v,x,S,T]);r=h.useCallback(function(a){if(v==null)return;T();var b=a.pageX;a=a.pageY;b=b-M.current[0];a=a-M.current[1];b=2*b/v.canvas.clientWidth-1;a=1-2*a/v.canvas.clientHeight;P.current=[b,a];K();if(b<-1||a<-1||b>1||a>1)return;x(S)},[v,P,x,K,S,T]);h.useEffect(function(){document.addEventListener("scroll",U);S();return function(){document.removeEventListener("scroll",U)}},[S,U]);var V,W;if(p!=null){V=(a=b("ConstUriUtils").getUri("/intern/compphoto/x3d/3dphoto_console"))==null?void 0:(a=a.setDomain("our.intern.facebook.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:(a=a.addQueryParam("ent_id",p))==null?void 0:a.toString();W=(a=b("ConstUriUtils").getUri("/intern/compphoto/x3d/"+p+"/depth"))==null?void 0:(p=a.setDomain("our.intern.facebook.com"))==null?void 0:(a=p.setProtocol("https"))==null?void 0:a.toString()}var X=function(a,c){var d=/^a$/i.test(a.target.nodeName||""),e=b("UserAgent").isPlatform("Mac OS X")?a.metaKey:a.ctrlKey;d=!d&&q&&e;d&&(a.preventDefault(),c())},Y=h.jsx("div",{onMouseMove:r,ref:e,children:h.jsx(b("CometFeedStoryImmersiveMediaMouseOverlay.react"),{descriptionFbt:g._("\u79fb\u52d5\u6ed1\u9f20\u53ef\u6aa2\u8996 3D \u76f8\u7247"),isActive:s,showClick:!1})});p=h.jsx(b("CometLazyPopoverTrigger.react"),{popoverProps:{consoleURL:V,depthURL:W,fallbackImgURL:c,fileURL:d},popoverResource:i,children:function(a,b){return h.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 i09qtzwb",onContextMenu:function(a){X(a,b)},ref:a,children:Y})}});return q?p:Y}}),null);
__d("CometRemote3DPhotoViewer.react",["Comet3DPhotoLoadingOverlay.react","CometFeedStoryViewportMaxHeightMediaLayout.react","CometRelay","React","clearTimeout","recoverableViolation","requireCond","setTimeout","stylex","cr:1298198","CometRemote3DPhotoViewer_photo.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h,i=b("React"),j=584,k={content:{height:"datstx6m",position:"l9j0dhe7"},image:{bottom:"i09qtzwb",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},overlays:{bottom:"i09qtzwb",end:"n7fi1qx3",pointerEvents:"hzruof5a",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},photoContainer:{position:"l9j0dhe7"},root:{borderBottom:"linmgsc8",borderTop:"opwvks06",boxShadow:"g81y0s2s"}};function a(a){var c,d,e,f=a.fallback;a=b("CometRelay").useFragment(g!==void 0?g:g=b("CometRemote3DPhotoViewer_photo.graphql"),a.photo);var l=i.useState(!1),m=l[0],n=l[1];l=i.useState(!1);var o=l[0],p=l[1],q=i.useRef(null);i.useEffect(function(){q.current=b("setTimeout")(function(){p(!0)},2e3);return function(){q.current!=null&&b("clearTimeout")(q.current)}},[]);l=i.useCallback(function(){n(!0)},[n]);o=!o||!m;a=(m=a==null?void 0:a.immersive_photo_encodings)!=null?m:[];m=a.find(function(a){return(a==null?void 0:a.projection_type)==="three_d"});if(m==null){b("recoverableViolation")("3D photo does not have three_d encoding","comet_feed");return f}a=(a=m.binary_cdn_uri)!=null?a:"";m=(m=m.id)!=null?m:"";c=(c=f.props.src)!=null?c:"";d=(d=f.props.width)!=null?d:0;e=(e=f.props.height)!=null?e:0;(d===0||e===0)&&b("recoverableViolation")("null fallback size was provided for 3d photo","comet_feed");var r=d===0||e===0?{aspectRatio:1,height:1,width:1}:{aspectRatio:d/e,height:e,width:d};r=r.aspectRatio;var s=a!=null&&b("cr:1298198")!=null?i.jsxs("div",{className:(h||(h=b("stylex")))(k.photoContainer),children:[i.jsx(b("cr:1298198"),{fallbackURI:c,fileURI:a,height:j/r,onLoad:l,photoID:m,width:j}),i.jsx("div",{className:(h||(h=b("stylex")))(k.overlays),children:i.jsx(b("Comet3DPhotoLoadingOverlay.react"),{isVisible:o})})]}):f;return i.jsx("div",{className:(h||(h=b("stylex")))(k.root),children:i.jsx(b("CometFeedStoryViewportMaxHeightMediaLayout.react"),{backgroundColor:null,mediaHeight:e,mediaWidth:d,children:function(a){return i.jsx("div",{className:(h||(h=b("stylex")))(k.content,a),children:i.jsx("div",{className:h(k.image),children:s})})}})})}}),null);
__d("CometPhotoViewerResponsiveInnerWrapper.react",["CometRouteRenderType","React","stylex"],(function(a,b,c,d,e,f){"use strict";f.useCometPhotoViewerContainerStyles=j;var g,h=b("React"),i={backgroundContainerDialog:{"@media (max-width: 899px)":{height:"nos9j3a5"}},backgroundContainerDialogWithFooter:{height:"n626y76b","@media (max-width: 899px)":{height:"aessy0lw"}},backgroundContainerResponsive:{alignItems:"bp9cbjyn",display:"j83agx80",position:"l9j0dhe7","@media (max-width: 899px)":{height:"spskuzq3"}},backgroundContainerTabs:{height:"bkyfam09","@media (max-width: 899px)":{height:"pw8zj2ei"}},backgroundContainerTabsWithFooter:{height:"bekozo2m","@media (max-width: 899px)":{height:"f6tgzqhp"}},image:{maxWidth:"d2edcug0","@media (max-width: 899px)":{maxHeight:"r9f5tntg"}},maxImageHeightDialog:{maxHeight:"ji94ytn4","@media (max-width: 899px)":{maxHeight:"bnxxjg7g"}},maxImageHeightDialogWithFooter:{maxHeight:"nskh8ow2","@media (max-width: 899px)":{maxHeight:"dx5evmzu"}},maxImageHeightTabs:{maxHeight:"gitj76qy","@media (max-width: 899px)":{maxHeight:"bnxxjg7g"}},maxImageHeightTabsWithFooter:{maxHeight:"kgqd366c","@media (max-width: 899px)":{maxHeight:"a7lra598"}},passthroughImage:{backgroundPosition:"d2hbt3d9",backgroundRepeat:"qb00l2mb",backgroundSize:"gj6al65z",height:"datstx6m",width:"k4urcfbm"},photoWrapperPlaceholder:{height:"datstx6m",width:"k4urcfbm"},photoWrapperResponsive:{alignItems:"bp9cbjyn",display:"j83agx80",flexDirection:"cbu4d94t",justifyContent:"taijpn5t",position:"l9j0dhe7"},placeholderContainer:{height:"datstx6m",width:"k4urcfbm"}};function j(a,c){a===void 0&&(a=!1);c===void 0&&(c=!1);var d=b("CometRouteRenderType").useIsPushView();return(g||(g=b("stylex")))(i.backgroundContainerResponsive,!a&&d&&i.backgroundContainerDialog,!a&&!d&&i.backgroundContainerTabs,a&&d&&i.backgroundContainerDialogWithFooter,a&&!d&&i.backgroundContainerTabsWithFooter,c&&i.placeholderContainer)}function k(a,c){var d=b("CometRouteRenderType").useIsPushView();return(g||(g=b("stylex")))(!a&&d?i.maxImageHeightDialog:null,!a&&!d?i.maxImageHeightTabs:null,a&&d?i.maxImageHeightDialogWithFooter:null,a&&!d?i.maxImageHeightTabsWithFooter:null,c?i.passthroughImage:null,c?null:i.image)}function l(a,c){var d=b("CometRouteRenderType").useIsPushView();return[!a&&d&&i.maxImageHeightDialog,!a&&!d&&i.maxImageHeightTabs,a&&d&&i.maxImageHeightDialogWithFooter,a&&!d&&i.maxImageHeightTabsWithFooter,c&&i.passthroughImage,!c&&i.image]}function a(a,c){var d=a.height,e=a.imageUri,f=a.showPlaceholderImage;f=f===void 0?!0:f;var l=a.width;a=a.withFooter;a=a===void 0?!1:a;a=k(a,!0);var m=j(!1,!0);return h.jsx("div",{className:m,ref:(m=c)!=null?m:null,children:e!=null&&f&&h.jsx("div",{className:(g||(g=b("stylex")))(i.photoWrapperResponsive,i.photoWrapperPlaceholder),children:h.jsx("div",{className:a,style:d!=null&&l!=null?{backgroundImage:"url("+e+")",maxHeight:d,maxWidth:l}:{backgroundImage:"url("+e+")"}},e)})})}function c(a,c){var d=a.imageComponent,e=a.imageComponentWithXStyle;a=a.withFooter;a=a===void 0?!1:a;var f=k(a,!1);a=l(a,!1);return h.jsx("div",{className:(g||(g=b("stylex")))(i.photoWrapperResponsive),ref:c,children:d!=null?d(f):e!=null?e(a):null})}d=h.forwardRef(c);f.CometPhotoViewerImageWrapper=d;e=h.forwardRef(a);f.CometPhotoViewerPlaceholderWrapper=e}),null);
__d("NumAiSuggestionsBubbleImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1746400");c=b("FalcoLoggerInternal").create("num_ai_suggestions_bubble_impression",a);e.exports=c}),null);
__d("ProductTagPhotoViewerDoneClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744225");c=b("FalcoLoggerInternal").create("product_tag_photo_viewer_done_click",a);e.exports=c}),null);
__d("CometPhotoViewer.react",["fbt","Actor","CometAIProductTagSuggestionsUtil.react","CometHero.react","CometImage.react","CometMediaViewerStage.react","CometPagelet.react","CometPhotoTaggingConstants","CometPhotoViewerImageSuspense","CometPhotoViewerResponsiveInnerWrapper.react","CometPhotoViewerViewStateContext","CometPhotoViewerViewStateDispatcherContext","CometPlaceholder.react","CometRelay","CometRouteParams","CometRouteRenderType","CometTheme.react","CometVisualCompletionAttributes","CometWarningScreenContext","JSResourceForInteraction","React","TetraButton.react","TetraText.react","WebSession","deferredLoadComponent","gkx","recoverableViolation","requireCond","requireDeferred","requireDeferredForDisplay","stylex","useCometLazyDialog","useCurrentRoute","useMediaViewerVPVDLogger","useMergeRefs","useStoryViewabilityLogger","cr:1685690","cr:1685691","CometPhotoViewer_photo.graphql","NumAiSuggestionsBubbleImpressionFalcoEvent","ProductTagPhotoViewerDoneClickFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=b("requireDeferred")("CometMediaTagFalcoEvent");c=b("requireDeferred")("CometPhotoTagLayer.react");d=b("requireDeferredForDisplay")("CometPhotoViewerTopRightIcons.react");var k=b("deferredLoadComponent")(c),l=b("deferredLoadComponent")(d),m=b("JSResourceForInteraction")("CometPhotoViewerProductTagEducationDialog.react").__setRef("CometPhotoViewer.react");function n(a){return(a||[]).some(function(a){a=a.projection_type;return a==="tiled_cubemap"})}function o(a){return(a||[]).some(function(a){a=a.projection_type;return a==="three_d"})}var p=h!==void 0?h:h=b("CometPhotoViewer_photo.graphql");function a(a){var c,d,e,f,h,q,r,s,t,u=i.useContext(b("CometPhotoViewerViewStateDispatcherContext")),v=i.useContext(b("CometPhotoViewerViewStateContext")),w=b("useCometLazyDialog")(m),x=w[0];w=b("Actor").useActor();var y=w[0];w[1];w=a.origHeight;var z=a.origSrc,A=a.origWidth,B=a.photo,C=a.photoTagLayerQueryReference,D=a.showTag,E=D===void 0?!1:D;D=a.storyRenderLocation;var F=babelHelpers.objectWithoutPropertiesLoose(a,["origHeight","origSrc","origWidth","photo","photoTagLayerQueryReference","showTag","storyRenderLocation"]),G=b("CometRelay").useFragment(p,B);B=i.useCallback(function(){u({tagData:{isProductTagging:!1,tagModeEnabled:!1},type:"UPDATE_TAG_DATA"})},[u]);var H=G==null?void 0:(c=G.image)==null?void 0:c.uri,I=G==null?void 0:G.id,J=G==null?void 0:(c=G.owner)==null?void 0:c.id;c=(c=G==null?void 0:(c=G.tags)==null?void 0:c.edges)!=null?c:[];var K=i.useRef(new Set(c.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.name}))),L=G==null?void 0:G.created_time,M=G==null?void 0:(c=G.container_story)==null?void 0:c.post_id;c=(G==null?void 0:G.can_viewer_add_tags)===!0;d=G==null?void 0:(d=G.cix_screen)==null?void 0:d.view_model;var N=i.useMemo(function(){return{authorId:J,createdTime:L,fbid:I,source:6,storyContainerId:M}},[J,L,I,M]);N=b("useMediaViewerVPVDLogger")(N);var O=N[0],P=N[1];N=G==null?void 0:(N=G.container_story)==null?void 0:N.encrypted_tracking;e=G==null?void 0:(e=G.container_story)==null?void 0:e.viewability_config;f=(f=G==null?void 0:G.container_story)!=null?f:{};f=f.client_view_config;f={can_delay_log_impression:f==null?void 0:f.can_delay_log_impression,use_banzai_signal_imp:f==null?void 0:f.use_banzai_signal_imp,use_banzai_vital_imp:f==null?void 0:f.use_banzai_vital_imp};f=b("useStoryViewabilityLogger")({clientViewConfig:f,disabledViewabilityEventTypes:[5],encryptedTracking:N,position:0,viewabilityConfig:e});N=f.ref;e=b("useMergeRefs")(O,N);f=b("CometPhotoViewerResponsiveInnerWrapper.react").useCometPhotoViewerContainerStyles();var Q=b("CometWarningScreenContext").useIsOverlayShown();O=b("CometAIProductTagSuggestionsUtil.react").getUntaggedKnownTags(G,v.knownAITags);N=b("CometAIProductTagSuggestionsUtil.react").getUntaggedUnknownTags(G,v.unknownAITags);var R=O.length+N.length,S=i.useRef(function(){b("NumAiSuggestionsBubbleImpressionFalcoEvent").log(function(){var a;return{creator_id:G==null?void 0:(a=G.owner)==null?void 0:a.page_id,media_id:I,media_type:"photo",platform:"comet",referral_source:"post_viewer"}})});i.useEffect(function(){R>0&&(S.current&&S.current())},[R]);O=function(){var a;u({tagData:{isProductTagging:!1,tagModeEnabled:!1},type:"UPDATE_TAG_DATA"});if(I==null){b("recoverableViolation")("photo id can not be null","comet_feed");return}a=(a=G==null?void 0:(a=G.tags)==null?void 0:a.edges)!=null?a:[];a=a.map(function(a){return a==null?void 0:(a=a.node)==null?void 0:a.name});var c=b("WebSession").getId(),d=K.current.size?a.filter(function(a){return!K.current.has(a)}):a;T?b("ProductTagPhotoViewerDoneClickFalcoEvent").log(function(){return{container_post_id:M,creator_id:y,media_id:I,media_type:"photo",platform:"comet",referral_source:"post_viewer"}}):j.onReady(function(a){a.log(function(){return{media_fbid:I,num_users_tagged:d.length,session_id:c}})});K.current=new Set(a)};N=Boolean(G==null?void 0:(N=G.tags)==null?void 0:N.edges.some(function(a){return!(a==null?void 0:(a=a.tag)==null?void 0:a.is_product_tag)}));h=((G==null?void 0:(h=G.photo_product_tags)==null?void 0:h.length)||0)>0;q=Boolean(G==null?void 0:(q=G.owner)==null?void 0:q.page_shop_has_taggable_products)&&Boolean(G==null?void 0:(q=G.owner)==null?void 0:q.is_viewer_admin);r=G==null?void 0:(r=G.owner)==null?void 0:r.additional_profile_has_taggable_products;r=r!==null&&r!==void 0&&b("gkx")("1733965")?Boolean(r)&&y===(G==null?void 0:(r=G.owner)==null?void 0:r.user_id):q&&Boolean((G==null?void 0:(r=G.owner)==null?void 0:r.page_id)!=null)&&y===(G==null?void 0:(r=G.owner)==null?void 0:r.page_id);h=N||!h&&!N&&!q;var T=r&&!N;q=b("CometRouteParams").useRouteParams();r=b("useCurrentRoute")();r=(N=r==null?void 0:r.transparent)!=null?N:!1;var U=q.aymt_channel!==null&&q.aymt_channel!==void 0,V=i.useRef(!1);i.useEffect(function(){U&&b("gkx")("1818047")&&(V.current||x({})),V.current=!0});N=b("CometRouteRenderType").useIsPushView();q=b("CometWarningScreenContext").useParentRenderInstructions();var W=G==null?void 0:(s=G.image)==null?void 0:s.width,X=G==null?void 0:(s=G.image)==null?void 0:s.height;s=i.useMemo(function(){if(G==null||H==null||W==null||X==null)return null;var a=i.jsx(b("CometImage.react"),{height:X,src:H,width:W},b("gkx")("1778518")?void 0:H);if(b("cr:1685690")!=null&&b("gkx")("1680758")&&n(G==null?void 0:G.immersive_photo_encodings))return i.jsx(b("cr:1685690"),{fallback:a,photo:G});else if(b("cr:1685691")!=null&&b("gkx")("1680759")&&o(G==null?void 0:G.immersive_photo_encodings))return i.jsx(b("cr:1685691"),{fallback:a,photo:G})},[H,X,G,W]);if(H==null){b("recoverableViolation")("Error loading media. More investigation is needed, might be an invalid photo, a special type of MediaSet, or something else.","comet_ui");return g._("\u6c92\u6709\u6709\u6548\u7684\u76f8\u7247\u53ef\u986f\u793a\u3002")}t=!r||!N?(t=z)!=null?t:H:null;t=t!=null&&t!==""?{backgroundSrc:t}:null;var Y=q==="CLIP_TO_MEDIA",Z=d!=null?i.jsx(b("CometRelay").MatchContainer,{match:d,props:{alwaysShowDetails:!0,data:d,isFullScreenMediaPlayerStyle:!0,mediaUri:H,surface:"photo_viewer"}}):null;q=i.jsx(b("CometPagelet.react").Placeholder,{className:f,fallback:z!=null?i.jsx(b("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerPlaceholderWrapper,{height:w,imageUri:z,ref:e,showPlaceholderImage:z!=null&&A!=null&&w!=null&&!Q,width:A}):i.jsx("div",{className:f,ref:e,children:i.jsx(b("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponentWithXStyle:function(a){return i.jsxs(i.Fragment,{children:[P,!Q&&i.jsx(b("CometImage.react"),{src:H,testid:void 0,xstyle:a},b("gkx")("1778518")?void 0:H)]})}})}),name:"MediaViewerPhoto",pageletType:"media",ref:e,children:s!=null?s:i.jsx(b("CometPhotoViewerResponsiveInnerWrapper.react").CometPhotoViewerImageWrapper,{imageComponent:function(a){return i.jsxs(i.Fragment,{children:[P,i.jsx(b("CometHero.react"),{description:"MainPhoto"}),i.jsx(b("CometPhotoViewerImageSuspense"),{className:a,"data-testid":void 0,src:H},b("gkx")("1778518")?void 0:H),Y&&Z,E&&C!=null?i.jsx(b("CometPlaceholder.react"),{fallback:null,children:i.jsx("div",babelHelpers["extends"]({},b("CometVisualCompletionAttributes").IGNORE,{className:"kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 i09qtzwb"+(v.tagModeEnabled?"":" hzruof5a"),children:i.jsx(k,{isTaggingProducts:v.isProductTagging,photoTagLayerQueryReference:C,tagBoxSize:b("CometPhotoTaggingConstants").TAGGING_BOX_SIZE,tagModeEnabled:v.tagModeEnabled})}))}):null]})}})},b("gkx")("1778518")?void 0:H);d=v.isProductTagging?"btwxx1t3 j83agx80 bp9cbjyn":"cj5g2342 kfkz5moi pmk7jnqg";z=v.isProductTagging?g._("\u9ede\u64ca\u76f8\u7247\u5373\u53ef\u958b\u59cb\u6a19\u8a3b\u5546\u54c1"):g._("\u9ede\u64ca\u76f8\u7247\u5373\u53ef\u958b\u59cb\u6a19\u8a3b");w=E&&C!=null&&c===!0&&!s;return i.jsxs("div",{className:"l9j0dhe7 buofh1pr cbu4d94t j83agx80","data-testid":void 0,children:[i.jsx(b("CometMediaViewerStage.react"),babelHelpers["extends"]({},t,{backgroundColor:r&&N?"dark":"default",initialTracePolicy:a.initialTracePolicy,onNavigatePhoto:B,storyRenderLocation:D,subOrigin:a.subOrigin},F,{children:q})),Q?null:i.jsx(l,{authorId:J,canTag:w,fromAYMTRetroTagNotification:U,numNewAISuggestions:R,photoID:I,shouldShowPeopleTagButton:h,shouldShowProductTagButton:T,storyContainerId:M}),w&&v.tagModeEnabled?i.jsx(b("CometTheme.react"),{className:"k4urcfbm pmk7jnqg hzruof5a jfpizvyy taijpn5t fdipuqhw j83agx80 i09qtzwb kpb67iw4 aovydwv3",element:"div",theme:"dark",children:i.jsxs("div",{className:d,children:[i.jsx("div",{className:"rv4hoivh j83agx80 bp9cbjyn",children:i.jsx("div",{className:T!==!0?"ihqw7lf3":null,children:i.jsx(b("TetraText.react"),{color:"primary",numberOfLines:1,type:"headline4",children:z})})}),i.jsx("div",{className:"oqq733wu",children:i.jsx(b("TetraButton.react"),{label:g._("\u6a19\u8a3b\u5b8c\u6210"),onPress:O,type:"primary"})})]})}):null,!Y&&Z]})}}),null);
__d("DOMControl",["DataStore","$"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.root=b("$").fromIDOrElement(a),this.updating=!1,b("DataStore").set(a,"DOMControl",this)}var c=a.prototype;c.getRoot=function(){return this.root};c.beginUpdate=function(){if(this.updating)return!1;this.updating=!0;return!0};c.endUpdate=function(){this.updating=!1};c.update=function(a){if(!this.beginUpdate())return this;this.onupdate(a);this.endUpdate()};c.onupdate=function(a){};a.getInstance=function(a){return b("DataStore").get(a,"DOMControl")};return a}();e.exports=a}),null);
__d("Input",["CSS","DOMControl","DOMQuery"],(function(a,b,c,d,e,f){f.isWhiteSpaceOnly=g;f.isEmpty=h;f.getValue=a;f.getValueRaw=c;f.setValue=d;f.setPlaceholder=e;f.reset=i;f.setSubmitOnEnter=j;f.getSubmitOnEnter=k;f.setMaxLength=l;function g(a){return!/\S/.test(a||"")}function h(a){return g(a.value)}function a(a){return h(a)?"":a.value}function c(a){return a.value}function d(a,c){a.value=c||"";c=b("DOMControl").getInstance(a);c&&c.resetHeight&&c.resetHeight()}function e(a,b){b||(b=""),a.setAttribute("aria-label",b),a.setAttribute("placeholder",b)}function i(a){a.value="",a.style.height=""}function j(a,c){b("CSS").conditionClass(a,"enter_submit",c)}function k(a){return b("CSS").hasClass(a,"enter_submit")}function l(a,b){b>0?a.setAttribute("maxlength",b.toString()):a.removeAttribute("maxlength")}}),null);
__d("Form",["DataStore","DOM","DOMQuery","DTSG","DTSGUtils","Input","LSD","PHPQuerySerializer","Random","SprinkleConfig","URI","getElementPosition","isFacebookURI","isNode"],(function(a,b,c,d,e,f){var g,h,i="FileList"in window,j="FormData"in window;function k(a){var c={};(g||(g=b("PHPQuerySerializer"))).serialize(a).split("&").forEach(function(a){if(a){a=/^([^=]*)(?:=(.*))?$/.exec(a);var d=(h||(h=b("URI"))).decodeComponent(a[1]),e=a[2]!==void 0;e=e?(h||(h=b("URI"))).decodeComponent(a[2]):null;c[d]=e}});return c}var l={getInputs:function(a){a===void 0&&(a=document);return[].concat(b("DOMQuery").scry(a,"input"),b("DOMQuery").scry(a,"select"),b("DOMQuery").scry(a,"textarea"),b("DOMQuery").scry(a,"button"))},getInputsByName:function(a){var b={};l.getInputs(a).forEach(function(a){var c=b[a.name];b[a.name]=typeof c==="undefined"?a:[a].concat(c)});return b},getSelectValue:function(a){return a.options[a.selectedIndex].value},setSelectValue:function(a,b){for(var c=0;c<a.options.length;++c)if(a.options[c].value==b){a.selectedIndex=c;break}},getRadioValue:function(a){for(var b=0;b<a.length;b++)if(a[b].checked)return a[b].value;return null},getElements:function(a){return a.tagName=="FORM"&&a.elements!=a?Array.from(a.elements):l.getInputs(a)},getAttribute:function(a,b){return(a.getAttributeNode(b)||{}).value||null},setDisabled:function(a,c){l.getElements(a).forEach(function(a){if(a.disabled!==void 0){var d=b("DataStore").get(a,"origDisabledState");c?(d===void 0&&b("DataStore").set(a,"origDisabledState",a.disabled),a.disabled=c):d===!1&&(a.disabled=!1)}})},forEachValue:function(a,c,d){l.getElements(a).forEach(function(a){if(!a.name||a.disabled)return;if(a.type==="submit")return;if(a.type==="reset"||a.type==="button"||a.type==="image")return;if((a.type==="radio"||a.type==="checkbox")&&!a.checked)return;if(a.nodeName==="SELECT"){for(var c=0,e=a.options.length;c<e;c++){var f=a.options[c];f.selected&&d("select",a.name,f.value)}return}if(a.type==="file"){if(i){f=a.files;for(var c=0;c<f.length;c++)d("file",a.name,f.item(c))}return}d(a.type,a.name,b("Input").getValue(a))}),c&&c.name&&c.type==="submit"&&b("DOMQuery").contains(a,c)&&b("DOMQuery").isNodeOfType(c,["input","button"])&&d("submit",c.name,c.value)},createFormData:function(a,c){if(!j)return null;var d=new FormData();if(a)if(b("isNode")(a))l.forEachValue(a,c,function(b,a,c){d.append(a,c)});else{c=k(a);for(var e in c)c[e]==null?d.append(e,""):d.append(e,c[e])}return d},serialize:function(a,b){var c={};l.forEachValue(a,b,function(a,b,d){if(a==="file")return;l._serializeHelper(c,b,d)});return l._serializeFix(c)},_serializeHelper:function(a,b,c){var d=Object.prototype.hasOwnProperty,e=/([^\]]+)\[([^\]]*)\](.*)/.exec(b);if(e){if(!a[e[1]]||!d.call(a,e[1])){a[e[1]]=d={};if(a[e[1]]!==d)return}d=0;if(e[2]==="")while(a[e[1]][d]!==void 0)d++;else d=e[2];e[3]===""?a[e[1]][d]=c:l._serializeHelper(a[e[1]],d.concat(e[3]),c)}else a[b]=c},_serializeFix:function(a){for(var b in a)a[b]instanceof Object&&(a[b]=l._serializeFix(a[b]));var c=Object.keys(a);if(c.length===0||c.some(isNaN))return a;c.sort(function(a,b){return a-b});var d=0,e=c.every(function(a){return+a===d++});return e?c.map(function(b){return a[b]}):a},post:function(a,c,d,e){e===void 0&&(e=!0);a=new(h||(h=b("URI")))(a);var f=document.createElement("form");f.action=a.toString();f.method="POST";f.style.display="none";var g=!b("isFacebookURI")(a);if(d){if(g){f.rel="noopener";if(d==="_blank"){d=btoa(b("Random").uint32());var i=window.open("about:blank",d);i===void 0||(i.opener=null)}}f.target=d}if(e&&(!g&&a.getSubdomain()!=="apps")){i=b("DTSG").getToken();i&&(c.fb_dtsg=i,b("SprinkleConfig").param_name&&(c[b("SprinkleConfig").param_name]=b("DTSGUtils").getNumericValue(i)));b("LSD").token&&(c.lsd=b("LSD").token,b("SprinkleConfig").param_name&&!i&&(c[b("SprinkleConfig").param_name]=b("DTSGUtils").getNumericValue(b("LSD").token)))}l.createHiddenInputs(c,f);b("DOMQuery").getRootElement().appendChild(f);f.submit();return!1},createHiddenInputs:function(a,c,d,e){e===void 0&&(e=!1);d=d||{};a=k(a);for(var f in a){if(a[f]===null)continue;if(d[f]&&e)d[f].value=a[f];else{var g=b("DOM").create("input",{type:"hidden",name:f,value:a[f]});d[f]=g;c.appendChild(g)}}return d},getFirstElement:function(a,c){c===void 0&&(c=['input[type="text"]',"textarea",'input[type="password"]','input[type="button"]','input[type="submit"]']);var d=[];for(var e=0;e<c.length;e++){d=b("DOMQuery").scry(a,c[e]);for(var f=0;f<d.length;f++){var g=d[f];try{var h=b("getElementPosition")(g);if(h.y>0&&h.x>0)return g}catch(a){}}}return null},focusFirst:function(a){a=l.getFirstElement(a);if(a){a.focus();return!0}return!1}};e.exports=l}),null);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);c.parseFiles=function(a){var c={};b("forEachObject")(a,function(a,b){if(Array.isArray(a))c[b]=a;else{c[b]=[];if(a instanceof window.FileList)for(var d=0;d<a.length;d++)c[b].push(a.item(d));else(a instanceof window.File||a instanceof window.Blob)&&c[b].push(a)}});return c};function c(b){var c;c=a.call(this)||this;c._allowCrossOrigin=!1;c._allowCrossPageTransition=!1;c._customHeader={};c._inFlight=!1;c._limit=10;c._option={};c._preventDefaultErrorHandler=!1;c._suspended=!1;b&&c.setURI(b);c.setNetworkErrorRetryLimit(0);return c}var d=c.prototype;d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};d.setData=function(a){this._data=a;return this};d.setOption=function(a,b){this._option[a]=b;return this};d.setPreventDefaultErrorHandler=function(a){this._preventDefaultErrorHandler=a;return this};d.setLimit=function(a){this._limit=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setRelativeTo=function(a){this._relativeTo=a;return this};d.setStatusElement=function(a){this._statusElement=a;return this};d.setURI=function(a){this._uri=a;return this};d.suspend=function(){this._suspended=!0;return this};d.resume=function(){this._suspended=!1;this._processQueue();return this};d.isUploading=function(){return this._inFlight};d._createFileUpload=function(a,b,c){return new g(a,b,c)};d._processQueue=function(){if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var a=this._waiting.shift(),b=this._preprocessHandler;b?b(a,this._processUpload.bind(this)):this._processUpload(a);this._pending.push(a)}};d._processUpload=function(a){var c=b("Form").createFormData(a.getData()||this._data);if(a.getFile()){c.append(a.getName(),a.getFile());var d=a.getFile().uploadID;d&&c.append("upload_id",d);a.getAdditionalData().forEach(function(a,b){return c.append(b,a)})}d=new(b("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(c).setStatusElement(this._statusElement).setHandler(this._success.bind(this,a)).setErrorHandler(this._failure.bind(this,a)).setUploadProgressHandler(this._progress.bind(this,a)).setInitialHandler(this._initial.bind(this,a));for(var e in this._option)d.setOption(e,this._option[e]);for(var f in this._customHeader)d.setRequestHeader(f,this._customHeader[f]);this._relativeTo&&d.setRelativeTo(this._relativeTo);d.send();a.setAsyncRequest(d);this._inFlight=!0;a.getRetryCount()||this.inform("start",a)};d._abort=function(a){this._pending.indexOf(a)!==-1&&(b("removeFromArray")(this._pending,a),this._processQueue()),b("removeFromArray")(this._waiting,a),a.abort()};d._initial=function(a){if(a.isAborted())return;this.inform("initial",a)};d._success=function(a,b){if(a.isAborted()){this.inform("success_after_abort",b);return}this._complete(a);this.inform("success",a.handleSuccess(b));this._processQueue()};d._retryUpload=function(a){a.increaseRetryCount(),this._processUpload(a)};d._failure=function(a,c){if(a.isAborted())return;if(c.error===1004&&a.getRetryCount()<(this._retryLimit||0))return this._retryUpload(a);this._complete(a);this.inform("failure",a.handleFailure(c))!==!1&&(this._preventDefaultErrorHandler||b("AsyncResponse").defaultErrorHandler(c));this._processQueue()};d._progress=function(a,b){if(a.isAborted())return;this.inform("progress",a.handleProgress(b))};d._complete=function(a){b("removeFromArray")(this._pending,a),this._pending.length||(this._inFlight=!1)};c.isSupported=function(){return b("BrowserSupport").hasFileAPI()};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a;var g=function(){function a(a,b,c){this._additionalData=new Map(),this._success=null,this._response=null,this._progressEvent=null,this._request=null,this._numRetries=0,this._aborted=!1,this._name=a,this._file=b,this._data=c}var b=a.prototype;b.getName=function(){return this._name};b.getFile=function(){return this._file};b.setFile=function(a){this._file=a};b.getData=function(){return this._data};b.getAdditionalData=function(){return this._additionalData};b.isComplete=function(){return this._success!==null};b.isSuccess=function(){return this._success===!0};b.getResponse=function(){return this._response};b.getProgressEvent=function(){return this._progressEvent};b.setAsyncRequest=function(a){this._request=a;return this};b.increaseRetryCount=function(){this._numRetries++;return this};b.getRetryCount=function(){return this._numRetries};b.isWaiting=function(){return!this._request};b.isAborted=function(){return this._aborted};b.abort=function(){this._request=null,this._aborted=!0};b.handleSuccess=function(a){this._success=!0;this._response=a;this._progressEvent=null;return this};b.handleFailure=function(a){this._success=!1;this._response=a;this._progressEvent=null;return this};b.handleProgress=function(a){this._progressEvent=a;return this};return a}()}),null);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function(a,b,c,d,e,f){a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c._files=null,c._uploads=[],c._fileLessUpload=null,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.setFiles=function(a){this._files=b("AsyncUploadBase").parseFiles(a);return this};d.setAlwaysReturnResponse=function(a){this._shouldAlwaysReturnResponse=a};d.abort=function(){var a=this;this._uploads.forEach(function(b){return a._abort(b)},this)};d.send=function(){if(this._inFlight)return;this._inFlight=!0;this._uploads=[];for(var a in this._files)this._files[a].forEach(function(b){this._uploads.push(this._createFileUpload(a,b))}.bind(this));this._waiting=this._uploads.slice(0);this._pending=[];this._uploads.length?this._processQueue():(this._fileLessUpload=this._createFileUpload(null,null),this._processUpload(this._fileLessUpload))};d._processQueue=function(){a.prototype._processQueue.call(this);if(!this._pending.length&&!this._waiting.length){var b=this._uploads;b=this._shouldAlwaysReturnResponse?this._fileLessUpload!=null?{response:this._fileLessUpload.getResponse(),uploads:b}:{response:b[0].getResponse(),uploads:b}:b;this.inform("complete",b)}};c.isSupported=function(){return b("AsyncUploadBase").isSupported()};return c}(b("AsyncUploadBase"));e.exports=a}),null);
__d("shield",[],(function(a,b,c,d,e,f){e.exports=a;function a(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if(typeof a!=="function")throw new TypeError("shield expects a function as the first argument");return function(){return a.apply(b,d)}}}),null);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","CurrentUser","DataStore","DOMQuery","Event","Form","JSONPTransport","Parent","URI","isElementNode","mixin","setTimeout","shield"],(function(a,b,c,d,e,f){var g;function h(a){var c={};a=b("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){c[a.name]=a.files});return c}function i(a){a=b("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}a=function(a){babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f;f=a.call(this)||this;f._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==f._form)return;if(f.inform("submit")===!1){a.prevent();return}f.submit(a)};f.initial=function(a){return f.inform("initial",{upload:a})};if(c.getAttribute("rel")==="async")throw new Error("FileForm cannot be used with Primer forms.");if((c.getAttribute("method")||"").toUpperCase()!=="POST")throw new Error("FileForm must be used with POST forms.");f._form=c;f._previousEncoding=f._form.enctype;f._form.enctype=f._form.encoding="multipart/form-data";f._files=null;f._customHeader={};d&&f.enableBehaviors(d);f._options=e||{};f.setAllowCrossOrigin(f._options.allowCrossOrigin);f.setAllowCrossPageTransition(f._options.allowCrossPageTransition);f.setUploadInParallel(f._options.uploadInParallel);f.setConcurrentLimit(f._options.concurrentLimit);f.setPreprocessHandler(f._options.preprocessHandler);f.setNetworkErrorRetryLimit(f._options.networkErrorRetryLimit);f._listeners=[b("Event").listen(document.documentElement,"submit",f._handleSubmit),b("Event").listen(f._form,"click",f._click.bind(babelHelpers.assertThisInitialized(f)))];b("DataStore").set(f._form,"FileForm",babelHelpers.assertThisInitialized(f));return f}var d=c.prototype;d.getRoot=function(){return this._form};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.setCustomHttpHeader=function(a,b){this._customHeader[a]=b;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.canUseXHR=function(){var a="FormData"in window;a&&(!new(g||(g=b("URI")))(this._form.action).isSameOrigin()&&!this._allowCrossOrigin&&(a=!1));return a};d._click=function(a){a=a.getTarget();while(b("isElementNode")(a)){if(a.type==="submit"){this._clickTarget=a;b("setTimeout")(this._unclick.bind(this),0);break}a=a.parentNode}};d._unclick=function(){this._clickTarget=null};d._sendViaFrame=function(){var a=this._request=new(b("AsyncRequest"))();a.setStatusElement(this._getStatusElement());a.addStatusIndicator();a.setOption("useIframeTransport",!0);var c=a.handleResponse.bind(a);c=new(b("JSONPTransport"))("iframe",this._form.action,c);var d=c.getTransportFrame(),e=c.getRequestURI().addQueryData({__iframe:!0,__user:b("CurrentUser").getID()});this._form.setAttribute("action",e.toString());c.createContinuationForFileForm_DO_NOT_USE();this._form.setAttribute("target",d.name);a.setJSONPTransport(c);a.setURI(e);a.setHandler(this.success.bind(this,null));a.setErrorHandler(this.failure.bind(this,null));a.setInitialHandler(b("shield")(this.initial,this,null))};d._sendViaXHR=function(a){var c=this,d;if(this._uploadInParallel&&b("AsyncUploadRequest").isSupported()){d=new(b("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(b("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var e in this._customHeader)d.setCustomHttpHeader(e,this._customHeader[e]);this._concurrentLimit&&d.setLimit(this._concurrentLimit);this._files?d.setFiles(this._files):d.setFiles(h(this._form));var f=[d.subscribe("progress",function(a,b){this.progress(b,b.getProgressEvent())}.bind(this)),d.subscribe("initial",function(a,b){this.initial(b)}.bind(this)),d.subscribe("success",function(a,b){this.success(b,b.getResponse())}.bind(this)),d.subscribe("start",function(a,b){this.inform("start",{upload:b})}.bind(this)),d.subscribe("failure",function(a,b){this.failure(b,b.getResponse());return!1}.bind(this)),d.subscribe("complete",function(){while(f.length)f.pop().unsubscribe()})]}else{var g,e,i;(function(){var a,f=c._files;if(f){a=b("Form").createFormData(b("Form").serialize(c._form,c._clickTarget));g=b("AsyncUploadRequest").parseFiles(f);for(e in g)i=g[e],i.length===1?a.append(e,i[0]):(e=e+"[]",i.forEach(function(b){a.append(e,b)}))}else a=b("Form").createFormData(c._form,c._clickTarget);d=new(b("AsyncRequest"))().setRawData(a).setHandler(c.success.bind(c,null)).setErrorHandler(c.failure.bind(c,null)).setUploadProgressHandler(c.progress.bind(c,null)).setInitialHandler(b("shield")(c.initial,c,null));c.inform("start",{upload:null})})()}d.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=d;a&&a.prevent()};d.forceSendViaXHR=function(){return this._sendViaXHR(null)};d.success=function(a,c){c={response:c,upload:a};this.inform("success",c)!==!1&&b("Event").fire(this._form,"success",c);this._cleanup()};d.failure=function(a,c){a={response:c,upload:a};this.inform("failure",a)!==!1&&(b("Event").fire(this._form,"error",a)!==!1&&b("AsyncResponse").defaultErrorHandler(c));this._cleanup()};d.progress=function(a,b){this.inform("progress",{event:b,upload:a})};d.abort=function(){this._request&&(this._request.abort(),this._cleanup())};d.clear=function(){i(this._form)};d.destroy=function(){this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;b("DataStore").remove(this._form,"FileForm")};d.submit=function(a){this.canUseXHR()?this._sendViaXHR(a):this._sendViaFrame()};d._cleanup=function(){this._request=null};d._getStatusElement=function(){return b("Parent").byClass(this._form,"stat_elem")||this._form};c.getInstance=function(a){return b("DataStore").get(a,"FileForm")};return c}(b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));e.exports=a;Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]})}),null);
__d("FileInputUploader",["ArbiterMixin","DOM","DTSG","FileForm","Form","mixin"],(function(a,b,c,d,e,f){a=function(a){"use strict";babelHelpers.inheritsLoose(c,a);function c(b){var c;c=a.call(this)||this;c._inputElem=b;c._data={};return c}var d=c.prototype;d.setInput=function(a){this._inputElem=a;return this};d.setURI=function(a){this._uri=a;return this};d.setData=function(a){this._data=a;return this};d.setPreprocessHandler=function(a){this._preprocessHandler=a;return this};d.setNetworkErrorRetryLimit=function(a){this._retryLimit=a;return this};d.setFiles=function(a){this._files=a;return this};d.setAllowCrossOrigin=function(a){this._allowCrossOrigin=!!a;return this};d.setAllowCrossPageTransition=function(a){this._allowCrossPageTransition=!!a;return this};d.setUploadInParallel=function(a){this._uploadInParallel=!!a;return this};d.setConcurrentLimit=function(a){this._concurrentLimit=a;return this};d.abort=function(){this._fileForm&&(this._fileForm.abort(),this._destroyFileForm())};d.send=function(){this._createForm();var a=this._inputElem&&!this._inputElem.parentElement;if(!a&&this._inputElem){var c=this._inputElem.cloneNode(!1);b("DOM").replace(this._inputElem,c)}this._inputElem&&b("DOM").appendContent(this._formElem,this._inputElem);b("DOM").appendContent(document.body,this._formElem);this._fileForm.submit();!a&&this._inputElem&&b("DOM").replace(c,this._inputElem);this._removeFormEl()};d._onFileFormEvent=function(a,b){(a==="success"||a==="failure")&&this._destroyFileForm();return this.inform(a,b)};d._createForm=function(){var a;this._destroyFileForm();this._formElem=b("DOM").create("form",{action:this._uri,method:"post"});this._fileForm=new(b("FileForm"))(this._formElem,null,{allowCrossOrigin:!!this._allowCrossOrigin,allowCrossPageTransition:!!this._allowCrossPageTransition,uploadInParallel:!!this._uploadInParallel,concurrentLimit:(a=this._concurrentLimit)!=null?a:0,preprocessHandler:(a=this._preprocessHandler)!=null?a:null,networkErrorRetryLimit:(a=this._retryLimit)!=null?a:0});this._files&&this._fileForm.setFiles(this._files);this._fileForm.subscribe(b("FileForm").EVENTS,this._onFileFormEvent.bind(this));b("Form").createHiddenInputs(babelHelpers["extends"]({fb_dtsg:b("DTSG").getToken()},this._data),this._formElem)};d._removeFormEl=function(){b("DOM").remove(this._formElem),this._formElem=null};d._destroyFileForm=function(){this._fileForm&&(this._fileForm.destroy(),this._fileForm=null)};return c}(b("mixin")(b("ArbiterMixin")));e.exports=a}),null);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){f.getNewID=a;var g=1024;function a(){return(g++).toString()}}),null);
__d("XAsyncRequest",["AsyncRequest"],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=new(b("AsyncRequest"))(a)}var c=a.prototype;c.setURI=function(a){this.$1.setURI(a);return this};c.setOption=function(a,b){this.$1.setOption(a,b);return this};c.setMethod=function(a){this.$1.setMethod(a);return this};c.setData=function(a){this.$1.setData(a);return this};c.setHandler=function(a){this.$1.setHandler(a);return this};c.setPayloadHandler=function(a){this.setHandler(function(b){return a(b.payload)});return this};c.setErrorHandler=function(a){this.$1.setErrorHandler(a);return this};c.send=function(){this.$1.send();return this};c.abort=function(){this.$1.abort()};c.setReadOnly=function(a){this.$1.setReadOnly(a);return this};c.setAllowCrossOrigin=function(a){this.$1.setAllowCrossOrigin(a);return this};c.setAllowCredentials=function(a){this.$1.setAllowCredentials(a);return this};c.setAllowCrossPageTransition=function(a){this.$1.setAllowCrossPageTransition(a);return this};return a}();e.exports=a}),null);
__d("curry",["bind"],(function(a,b,c,d,e,f){a=b("bind")(null,b("bind"),null);c=a;e.exports=c}),null);
__d("ReactComposerMediaFilterUtils",["ComposerXNativeAudioUploadsConfig","VideoUploadConfig"],(function(a,b,c,d,e,f){f.hasEditableVideos=a;f.hasVideos=c;f.hasAudioFiles=d;f.filterVideos=e;f.filterNonEditableVideos=g;f.filterAudioFiles=h;f.filterFileOfSupportedType=i;function a(a){var b=this.filterVideos(a).length;a=this.filterNonEditableVideos(a).length;return b>a}function c(a){return this.filterVideos(a).length>0}function d(a){return this.filterAudioFiles(a).length>0}function e(a){return this.filterFileOfSupportedType(a,b("VideoUploadConfig").videoExtensions)}function g(a){var b={gif:!0};return this.filterFileOfSupportedType(a,b)}function h(a){return this.filterFileOfSupportedType(a,b("ComposerXNativeAudioUploadsConfig").audioExtensions)}function i(a,b){return a.filter(function(a){a=a.indexOf(".")!==-1?a.split(".").pop().toLowerCase():"";return b[a]})}}),null);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("exif-js-2.3.0",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g},i;function j(){(function(){var a=!1,b=this,c=function(a){if(a instanceof c)return a;if(!(this instanceof c))return new c(a);this.EXIFwrapped=a};typeof g!=="undefined"?(typeof h!=="undefined"&&h.exports&&(g=h.exports=c),g.EXIF=c):b.EXIF=c;var d=c.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},e=c.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},f=c.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},j=c.IFD1Tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:"ResolutionUnit",513:"JpegIFOffset",514:"JpegIFByteCount",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite"},k=c.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}};function l(a){return!!a.exifdata}function m(a,b){b||a.match(/^data\:([^\;]+)\;base64,/im)[1]||"";a=a.replace(/^data\:([^\;]+)\;base64,/gim,"");b=atob(a);a=b.length;var c=new ArrayBuffer(a),d=new Uint8Array(c);for(var e=0;e<a;e++)d[e]=b.charCodeAt(e);return c}function n(a,b){var c=new XMLHttpRequest();c.open("GET",a,!0);c.responseType="blob";c.onload=function(a){(this.status==200||this.status===0)&&b(this.response)};c.send()}function o(b,d){function e(a){var e=p(a);b.exifdata=e||{};e=q(a);b.iptcdata=e||{};if(c.isXmpEnabled){e=z(a);b.xmpdata=e||{}}d&&d.call(b)}if(b.src)if(/^data\:/i.test(b.src)){var f=m(b.src);e(f)}else if(/^blob\:/i.test(b.src)){var g=new FileReader();g.onload=function(a){e(a.target.result)};n(b.src,function(a){g.readAsArrayBuffer(a)})}else{var h=new XMLHttpRequest();h.onload=function(){if(this.status==200||this.status===0)e(h.response);else throw"Could not load image";h=null};h.open("GET",b.src,!0);h.responseType="arraybuffer";h.send(null)}else if(self.FileReader&&(b instanceof self.Blob||b instanceof self.File)){var g=new FileReader();g.onload=function(b){a&&!1,e(b.target.result)};g.readAsArrayBuffer(b)}}function p(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e;while(d<b){if(c.getUint8(d)!=255){a&&!1;return!1}e=c.getUint8(d+1);a&&!1;if(e==225){a&&!1;return y(c,d+4,c.getUint16(d+2)-2)}else d+=2+c.getUint16(d+2)}}function q(b){var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2,e=b.byteLength,f=function(a,b){return a.getUint8(b)===56&&a.getUint8(b+1)===66&&a.getUint8(b+2)===73&&a.getUint8(b+3)===77&&a.getUint8(b+4)===4&&a.getUint8(b+5)===4};while(d<e){if(f(c,d)){var g=c.getUint8(d+7);g%2!==0&&(g+=1);g===0&&(g=4);var h=d+8+g;g=c.getUint16(d+6+g);return s(b,h,g);break}d++}}var r={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};function s(a,b,c){a=new DataView(a);var d={},e,f,g=b;while(g<b+c)a.getUint8(g)===28&&a.getUint8(g+1)===2&&(f=a.getUint8(g+2),f in r&&(e=a.getInt16(g+3),f=r[f],e=x(a,g+5,e),d.hasOwnProperty(f)?d[f]instanceof Array?d[f].push(e):d[f]=[d[f],e]:d[f]=e)),g++;return d}function t(b,c,d,e,f){var g=b.getUint16(d,!f),h={},i,j,k;for(k=0;k<g;k++)i=d+k*12+2,j=e[b.getUint16(i,!f)],!j&&a&&!1,h[j]=u(b,i,c,d,f);return h}function u(a,b,c,d,e){d=a.getUint16(b+2,!e);var f=a.getUint32(b+4,!e);c=a.getUint32(b+8,!e)+c;var g,h,i,j;switch(d){case 1:case 7:if(f==1)return a.getUint8(b+8,!e);else{d=f>4?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint8(d+i);return g}case 2:d=f>4?c:b+8;return x(a,d,f-1);case 3:if(f==1)return a.getUint16(b+8,!e);else{d=f>2?c:b+8;g=[];for(i=0;i<f;i++)g[i]=a.getUint16(d+2*i,!e);return g}case 4:if(f==1)return a.getUint32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getUint32(c+4*i,!e);return g}case 5:if(f==1){d=a.getUint32(c,!e);j=a.getUint32(c+4,!e);h=new Number(d/j);h.numerator=d;h.denominator=j;return h}else{g=[];for(i=0;i<f;i++)d=a.getUint32(c+8*i,!e),j=a.getUint32(c+4+8*i,!e),g[i]=new Number(d/j),g[i].numerator=d,g[i].denominator=j;return g}case 9:if(f==1)return a.getInt32(b+8,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+4*i,!e);return g}case 10:if(f==1)return a.getInt32(c,!e)/a.getInt32(c+4,!e);else{g=[];for(i=0;i<f;i++)g[i]=a.getInt32(c+8*i,!e)/a.getInt32(c+4+8*i,!e);return g}}}function v(a,b,c){var d=a.getUint16(b,!c);return a.getUint32(b+2+d*12,!c)}function w(a,b,c,d){c=v(a,b+c,d);if(!c)return{};else if(c>a.byteLength)return{};c=t(a,b,b+c,j,d);if(c.Compression)switch(c.Compression){case 6:if(c.JpegIFOffset&&c.JpegIFByteCount){d=b+c.JpegIFOffset;b=c.JpegIFByteCount;c.blob=new Blob([new Uint8Array(a.buffer,d,b)],{type:"image/jpeg"})}break;case 1:break;default:}else c.PhotometricInterpretation==2;return c}function x(a,b,c){var d="";for(var e=b;e<b+c;e++)d+=String.fromCharCode(a.getUint8(e));return d}function y(b,c){if(x(b,c,4)!="Exif"){a&&!1;return!1}var g,h,i,j;c=c+6;if(b.getUint16(c)==18761)g=!1;else if(b.getUint16(c)==19789)g=!0;else{a&&!1;return!1}if(b.getUint16(c+2,!g)!=42){a&&!1;return!1}var l=b.getUint32(c+4,!g);if(l<8){a&&!1;return!1}h=t(b,c,c+l,e,g);if(h.ExifIFDPointer){j=t(b,c,c+h.ExifIFDPointer,d,g);for(i in j){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":j[i]=k[i][j[i]];break;case"ExifVersion":case"FlashpixVersion":j[i]=String.fromCharCode(j[i][0],j[i][1],j[i][2],j[i][3]);break;case"ComponentsConfiguration":j[i]=k.Components[j[i][0]]+k.Components[j[i][1]]+k.Components[j[i][2]]+k.Components[j[i][3]];break}h[i]=j[i]}}if(h.GPSInfoIFDPointer){j=t(b,c,c+h.GPSInfoIFDPointer,f,g);for(i in j){switch(i){case"GPSVersionID":j[i]=j[i][0]+"."+j[i][1]+"."+j[i][2]+"."+j[i][3];break}h[i]=j[i]}}h.thumbnail=w(b,c,l,g);return h}function z(b){if(!("DOMParser"in self))return;var c=new DataView(b);a&&!1;if(c.getUint8(0)!=255||c.getUint8(1)!=216){a&&!1;return!1}var d=2;b=b.byteLength;var e=new DOMParser();while(d<b-4)if(x(c,d,4)=="http"){var f=d-1,g=c.getUint16(d-2)-1;f=x(c,f,g);g=f.indexOf("xmpmeta>")+8;f=f.substring(f.indexOf("<x:xmpmeta"),g);g=f.indexOf("x:xmpmeta")+10;f=f.slice(0,g)+'xmlns:Iptc4xmpCore="http://iptc.org/std/Iptc4xmpCore/1.0/xmlns/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:tiff="http://ns.adobe.com/tiff/1.0/" xmlns:plus="http://schemas.android.com/apk/lib/com.google.android.gms.plus" xmlns:ext="http://www.gettyimages.com/xsltExtension/1.0" xmlns:exif="http://ns.adobe.com/exif/1.0/" xmlns:stEvt="http://ns.adobe.com/xap/1.0/sType/ResourceEvent#" xmlns:stRef="http://ns.adobe.com/xap/1.0/sType/ResourceRef#" xmlns:crs="http://ns.adobe.com/camera-raw-settings/1.0/" xmlns:xapGImg="http://ns.adobe.com/xap/1.0/g/img/" xmlns:Iptc4xmpExt="http://iptc.org/std/Iptc4xmpExt/2008-02-29/" '+f.slice(g);g=e.parseFromString(f,"text/xml");return B(g)}else d++}function A(a){var b={};if(a.nodeType==1){if(a.attributes.length>0){b["@attributes"]={};for(var c=0;c<a.attributes.length;c++){var d=a.attributes.item(c);b["@attributes"][d.nodeName]=d.nodeValue}}}else if(a.nodeType==3)return a.nodeValue;if(a.hasChildNodes())for(var d=0;d<a.childNodes.length;d++){c=a.childNodes.item(d);var e=c.nodeName;if(b[e]==null)b[e]=A(c);else{if(b[e].push==null){var f=b[e];b[e]=[];b[e].push(f)}b[e].push(A(c))}}return b}function B(a){try{var b={};if(a.children.length>0)for(var c=0;c<a.children.length;c++){var d=a.children.item(c),e=d.attributes;for(var f in e){var g=e[f],h=g.nodeName;g=g.nodeValue;h!==void 0&&(b[h]=g)}h=d.nodeName;if(typeof b[h]=="undefined")b[h]=A(d);else{if(typeof b[h].push=="undefined"){g=b[h];b[h]=[];b[h].push(g)}b[h].push(A(d))}}else b=a.textContent;return b}catch(a){}}c.enableXmp=function(){c.isXmpEnabled=!0};c.disableXmp=function(){c.isXmpEnabled=!1};c.getData=function(a,b){if((self.Image&&a instanceof self.Image||self.HTMLImageElement&&a instanceof self.HTMLImageElement)&&!a.complete)return!1;!l(a)?o(a,b):b&&b.call(a);return!0};c.getTag=function(a,b){if(!l(a))return;return a.exifdata[b]};c.getIptcTag=function(a,b){if(!l(a))return;return a.iptcdata[b]};c.getAllTags=function(a){if(!l(a))return{};var b;a=a.exifdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.getAllIptcTags=function(a){if(!l(a))return{};var b;a=a.iptcdata;var c={};for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return c};c.pretty=function(a){if(!l(a))return"";var b;a=a.exifdata;var c="";for(b in a)a.hasOwnProperty(b)&&(typeof a[b]=="object"?a[b]instanceof Number?c+=b+" : "+a[b]+" ["+a[b].numerator+"/"+a[b].denominator+"]\r\n":c+=b+" : ["+a[b].length+" values]\r\n":c+=b+" : "+a[b]+"\r\n");return c};c.readFromBinaryFile=function(a){return p(a)};typeof i==="function"&&i.amd&&i("exif-js",[],function(){return c})}).call(this)}var k=!1;function l(){k||(k=!0,j());return h.exports}function a(a){switch(a){case void 0:return l()}}e.exports=a}),null);
__d("exif-js",["exif-js-2.3.0"],(function(a,b,c,d,e,f){e.exports=b("exif-js-2.3.0")()}),null);
__d("ImageExif",["exif-js"],(function(a,b,c,d,e,f){b("exif-js").enableXmp();function g(a){var b=function(b){return a.charCodeAt(b)&255};this.getByteAt=b;this.getShortAt=function(a,b){a=this.getSShortAt(a,b);return a>0?a:a+65536};this.getSShortAt=function(a,c){var d=b(a);a=b(a+1);return c?(d<<8)+a:(a<<8)+d};this.getLongAt=function(a,b){a=this.getSLongAt(a,b);return a>0?a:a+4294967296};this.getSLongAt=function(a,c){var d=b(a),e=b(a+1),f=b(a+2);a=b(a+3);return c?(((d<<8)+e<<8)+f<<8)+a:(((a<<8)+f<<8)+e<<8)+d};this.getStringAt=function(b,c){return a.substr(b,c)};this.getLength=function(){return a.length}}a={readFromFile:function(a,b){var c=this,d=new FileReader();d.addEventListener("load",function(a){a=a.target.result;a=a instanceof ArrayBuffer?c.readFromArrayBuffer(a):c.readFromBinaryString(a);b(a)},!1);window.DataView?d.readAsArrayBuffer(a):d.readAsBinaryString(a)},readFromBinaryString:function(a){return b("exif-js").readFromBinaryFile(new g(a))},readFromArrayBuffer:function(a){return b("exif-js").readFromBinaryFile(a)}};e.exports=a}),null);
__d("StringEncoding",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=new Uint8Array(a);var c=0,d=[];while(c<a.length){var e=a[c],f=void 0;if(e>>7===0)f=1;else if(e>>5===6)e&=31,f=2;else if(e>>4===14)e&=15,f=3;else if(e>>3===30)e&=7,f=4;else if(e>>2===62)e&=3,f=5;else if(e>>1===126)e&=1,f=6;else throw new Error("Cannot decode as UTF-8 - unrecognised codepoint header");if(c+f>a.length)throw new Error("Cannot decode as UTF-8 - incomplete codepoint");for(var g=1;g<f;g++){var h=a[c+g];if(h>>6!==2)throw new Error("Cannot decode as UTF-8 - unrecognised codepoint subsequent byte");h&=63;e<<=6;e|=h}if(e>1114111)throw new Error("Cannot decode as UTF-8 - JavaScript doesn't support codepoints over 0x10FFFF");if(!e)switch(b){case"error":throw new Error("Cannot decode as UTF-8 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(e);c+=f}return String.fromCodePoint.apply(String,d)}function g(a){return(a&255)<<8|a>>8}function b(a,b){if(a.byteLength%2!==0)throw new Error("Cannot decode as UTF-16 - data length mod 2 != 0");a=new Uint16Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==65534&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=g(f));var h=f;if(f>55295&&f<57344){if((f&64512)!==55296)throw new Error("Cannot decode as UTF-16 - incorrect signature for high surrogate");if(c+1>=a.length)throw new Error("Cannot decode as UTF-16 - incomplete codepoint");++c;var i=a[c];e&&(i=g(i));if((i&64512)!==56320)throw new Error("Cannot decode as UTF-16 - incorrect signature for low surrogate");h=((f&1023)<<10|i&1023)+65536}if(!h)switch(b){case"error":throw new Error("Cannot decode as UTF-16 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(h);++c}return String.fromCodePoint.apply(String,d)}function h(a){return(a&255)<<24|(a&255<<8)<<8|(a&255<<16)>>8|a>>>24}function c(a,b){if(a.byteLength%4!==0)throw new Error("Cannot decode as UTF-32 - data length mod 4 != 0");a=new Uint32Array(a);var c=0,d=[],e=!1;a[0]===65279?++c:a[0]==4294836224&&(++c,e=!0);while(c<a.length){var f=a[c];e&&(f=h(f));if(f&2147483648)throw new Error("Cannot decode as UTF-32 - invalid codepoint");if(f>1114111)throw new Error("Cannot decode as UTF-32 - JavaScript doesn't support codepoints over 0x10FFFF");if(!f)switch(b){case"error":throw new Error("Cannot decode as UTF-32 - contains a null and we're not allowing them");case"ignore":continue;case"truncate":return String.fromCodePoint.apply(String,d);case"include":break}d.push(f);++c}return String.fromCodePoint.apply(String,d)}var i={"utf-8":a,"utf-16":b,"utf-32":c};d=function(){function a(a,b){a?this.$1=a:this.$1=["utf-8","utf-16","utf-32"];b||(b="error");this.$2=b;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;this.$3(d)}}var b=a.prototype;b.getPrecedence=function(){return this.$1};b.decode=function(a){var b=[];for(var c=this.$1,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;f=this.$3(f);try{return f(a,this.$2)}catch(a){b.push(a)}}throw new Error(b.join(", "))};b.$3=function(a){var b=i[a];if(!b)throw new Error("Unknown encoding "+a);return b};return a}();f.Decoder=d}),null);
__d("ImageMetadata",["regeneratorRuntime","Promise","ImageExif","StringEncoding","emptyFunction"],(function(a,b,c,d,e,f){"use strict";c=function(){function c(a){this.$4="",this.$6=a,this.$7=new Uint8Array(a),this.$8()}var d=c.prototype;d.$8=function(){var a=0;while(a<this.$7.length){a=this.$9(a);if(a===-1)return;var b=this.$7[a+1];b=g[b];if(!b)return;var c=b.length;c===void 0&&(c=this.$7[a+2]*256+this.$7[a+3]);this.$10(a,c,b);if(b.name==="SOS")return;a+=2+c}};d.$10=function(a,b,c){switch(c.name){case"APP1":this.$11(a+4,h)?(this.$1||(this.$1=a,this.$2=b),this.$12(a+4+h.length,b-2-h.length)):this.$11(a+4,i)?(this.$1=a,this.$2=b,this.$13(a+4+i.length,b-2-i.length)):this.$11(a+4,j)&&this.$14(a+4+j.length,b-2-j.length);break;case"SOF0":case"SOF1":case"SOF2":case"SOF3":case"SOF5":case"SOF6":case"SOF7":case"JPG":case"SOF9":case"SOF10":case"SOF11":case"SOF13":case"SOF14":case"SOF15":this.$15(a+4,b-2);break}};d.$15=function(a,b){b=this.$7[a+3]*256+this.$7[a+4];a=this.$7[a+1]*256+this.$7[a+2];b>0&&a>0&&(this.$5={x:b,y:a})};d.$12=function(a,c){a=emptyFunction;try{emptyFunction=b("emptyFunction");c=b("ImageExif").readFromArrayBuffer(this.$6)||{}}finally{emptyFunction=a}a={};for(var d in c){var e=c[d];typeof e==="string"&&(e=e.trim());a[d.trim()]=e}this.$3=a};d.$13=function(a,c){var d=new(b("StringEncoding").Decoder)(null,"truncate");try{d=d.decode(this.$6.slice(a,a+c));this.$4=d}catch(a){return}};d.$14=function(a){};d.$11=function(a,b){var c=this;return b.split("").every(function(b){return c.$7[a++]===b.charCodeAt(0)})};d.$9=function(a){for(var a=a;a+1<this.$7.length;++a)if(this.$7[a]===255&&this.$7[a+1]!==0&&this.$7[a+1]!==255)return a;return-1};d.hasAPP1=function(){return Boolean(this.$1)};d.hasExif=function(){return Boolean(this.$3)};d.hasXMP=function(){return Boolean(this.$4)};d.hasSize=function(){return Boolean(this.$5)};d.getAPP1Location=function(){return!this.hasAPP1()?null:this.$1};d.getAPP1Length=function(){return!this.hasAPP1()?null:this.$2};d.getExif=function(){if(!this.$3)throw new Error("Image has no Exif data");return this.$3};d.getXMPString=function(){return this.$4};d.getSize=function(){if(!this.$5)throw new Error("Could not find size data?!");return this.$5};d.getBufferLength=function(){if(!this.$6)throw new Error("Do not find buffer data!");return this.$6.byteLength};c.genMetadataFromBlob=function(a){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.t0=c;d.next=3;return b("regeneratorRuntime").awrap(c.$16(a));case 3:d.t1=d.sent;return d.abrupt("return",new d.t0(d.t1));case 5:case"end":return d.stop()}},null,this)};c.$16=function(c){return new(b("Promise"))(function(b,d){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=b;e.readAsArrayBuffer(c)})};return c}();e.exports=c;var g=[];g[216]={name:"SOI",length:0};g[192]={name:"SOF0"};g[193]={name:"SOF1"};g[194]={name:"SOF2"};g[195]={name:"SOF3"};g[197]={name:"SOF5"};g[198]={name:"SOF6"};g[199]={name:"SOF7"};g[200]={name:"JPG"};g[201]={name:"SOF9"};g[202]={name:"SOF10"};g[203]={name:"SOF11"};g[205]={name:"SOF13"};g[206]={name:"SOF14"};g[207]={name:"SOF15"};g[196]={name:"DHT"};g[219]={name:"DQT"};g[221]={name:"DRI",length:2};g[218]={name:"SOS"};g[208]={name:"RST0",length:0};g[209]={name:"RST1",length:0};g[210]={name:"RST2",length:0};g[211]={name:"RST3",length:0};g[212]={name:"RST4",length:0};g[213]={name:"RST5",length:0};g[214]={name:"RST6",length:0};g[215]={name:"RST7",length:0};g[224]={name:"APP0"};g[225]={name:"APP1"};g[226]={name:"APP2"};g[227]={name:"APP3"};g[228]={name:"APP4"};g[229]={name:"APP5"};g[230]={name:"APP6"};g[231]={name:"APP7"};g[232]={name:"APP8"};g[233]={name:"APP9"};g[234]={name:"APP10"};g[235]={name:"APP11"};g[236]={name:"APP12"};g[237]={name:"APP13"};g[238]={name:"APP14"};g[239]={name:"APP15"};g[254]={name:"COM"};g[217]={name:"EOI",length:0};var h="Exif\0\0",i="http://ns.adobe.com/xap/1.0/\0",j="http://ns.adobe.com/xmp/extension/\0"}),null);
__d("XSphericalPhotoSphereMetadataAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spherical_media/photo/metadata/",{})}),null);
__d("SphericalImageUtils",["Promise","ImageMetadata","XAsyncRequest","XSphericalPhotoSphereMetadataAsyncController"],(function(a,b,c,d,e,f){"use strict";f.genArrayBufferFromBlob=c;f.shouldCheckInServer=d;f.genPhotosphereMetadata=e;f.genPhotosphereMetadataFromServer=h;f.getExifString=i;f.getMayContainSphericalMetadata=j;var g=2048;function c(c){return new(b("Promise"))(function(b,d){if(a.FileReader){var e=new a.FileReader();e.onabort=d;e.onerror=d;e.onload=function(a){b(a.target.result)};e.readAsArrayBuffer(c)}else d(new Error("global.FileReader doesn't exit"))})}function d(a){if(!a.hasExif()&&!a.hasXMP()||!a.hasSize())return!1;var b=a.getXMPString();if(this.getMayContainSphericalMetadata(b))return!0;var c=a.getSize(),d=c.x;c=c.y;if(Math.max(d,c)<g||d/c<2&&c/d<2)return!1;c=a.hasExif()?a.getExif():{};return b===""&&(!c.Make||!c.Model)?!1:!0}function e(a){var c=this;return new(b("Promise"))(function(d,e){c.genArrayBufferFromBlob(a).done(function(a){try{var f=new(b("ImageMetadata"))(a);c.shouldCheckInServer(f)?c.genPhotosphereMetadataFromServer(f.hasSize()?f.getSize():{x:0,y:0},f.getXMPString(),f.hasExif()?f.getExif():{}).done(function(a){a=a.payload;d({photoSphereMetadata:a,imageMetadata:f})},e):d({})}catch(a){a.__manual=!0,e(a)}},e)})}function h(a,c,d){var e=this;return new(b("Promise"))(function(f,g){new(b("XAsyncRequest"))(b("XSphericalPhotoSphereMetadataAsyncController").getURIBuilder().getURI()).setMethod("POST").setData({exif_string:e.getExifString(d),height:a.y,width:a.x,xmp:c}).setHandler(f).setErrorHandler(g).send()})}function i(a){return JSON.stringify(a,function(a,b){return a==="FocalLength"&&b.numerator&&b.denominator?b.numerator+"/"+b.denominator:b})}function j(a){return a!==""&&a.indexOf("GPano:")>-1}}),null);
__d("SphericalImage",["regeneratorRuntime","SphericalImageUtils"],(function(a,b,c,d,e,f){"use strict";var g="ProjectionType";a=function(){function a(a){this.props=a}a.createFromBlob=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(b("SphericalImageUtils").genPhotosphereMetadata(a));case 2:c=d.sent;return d.abrupt("return",new this(c));case 4:case"end":return d.stop()}},null,this)};var c=a.prototype;c.isSpherical=function(){return Boolean(this.props.photoSphereMetadata)};c.getImageMetadata=function(){return this.props.imageMetadata};c.getPhotoSphereMetadata=function(){return this.props.photoSphereMetadata};c.getSize=function(){return this.props.imageMetadata?this.props.imageMetadata.getSize():null};c.getBufferLength=function(){return this.props.imageMetadata?this.props.imageMetadata.getBufferLength():null};c.getProjectionType=function(){var a="";this.props.photoSphereMetadata&&this.props.photoSphereMetadata[g]&&(a=this.props.photoSphereMetadata[g]);return a};return a}();e.exports=a}),null);
__d("SphericalPhotoUploadHelper",[],(function(a,b,c,d,e,f){"use strict";f.shouldResize360=a;f.shouldRecompress360=b;function a(a,b,c){return b&&Math.max(b.x,b.y)<=c||a==="cubestrip"?!1:!0}function b(a,b,c){return b==null||b<=c||a==="cubestrip"?!1:!0}}),null);
__d("XComposerPhotoUploader",["regeneratorRuntime","Promise","AsyncUploadRequest","FileInputUploader","PhotosMimeType","PhotosUploadID","ReactComposerMediaFilterUtils","SphericalImage","SphericalPhotoTypedConfig","SphericalPhotoUploadHelper","curry","emptyFunction","performanceNow","promiseDone"],(function(a,b,c,d,e,f){"use strict";var g,h=a.URL||a.webkitURL||{};c=function(){function a(a){this.$20={},this.$2=a.uploadData||{},this.$1=a.uploadEndpoint,this.$3=a.retryLimit,this.$4=a.concurrentLimit,this.$5=a.resizer,this.$6=a.onUploadEnqueued||b("emptyFunction"),this.$7=a.onUploadsEnqueued||b("emptyFunction"),this.$8=a.onResizeStart||b("emptyFunction"),this.$11=a.onResizeProgress||b("emptyFunction"),this.$9=a.onResizeSuccess||b("emptyFunction"),this.$10=a.onResizeFailure||b("emptyFunction"),this.$12=a.onSphericalCheckFailure||b("emptyFunction"),this.$13=a.onSphericalCheckSuccess||b("emptyFunction"),this.$14=a.onUploadIsSpherical||b("emptyFunction"),this.$15=a.onUploadSent||b("emptyFunction"),this.$16=a.onUploadStart||b("emptyFunction"),this.$17=a.onUploadProgress||b("emptyFunction"),this.$18=a.onUploadSuccess||b("emptyFunction"),this.$19=a.onUploadFailure||b("emptyFunction")}var c=a.prototype;c.setUploadEndpoint=function(a){this.$1=a};c.setOption=function(a,b){this.$20[a]=b;return this};c.getUploadData=function(){return this.$2};c.setUploadData=function(a){this.$2=a};c.upload=function(a,c){var d=this;c||0;c=Object.assign({},this.$2);var e=null;if(!this.$21(a)){var f=b("PhotosUploadID").getNewID();a.uploadID=f;c.upload_id=f;this.$6({uploadID:f,fileName:a.value.split("/").pop().split("\\").pop(),fileURL:h.createObjectURL?h.createObjectURL(a):null})}else{e=Array.from(a.files);e=e.filter(function(a){return!b("ReactComposerMediaFilterUtils").hasVideos([a.name])});if(e.length===0)return;e.forEach(function(a){a.uploadID||(a.uploadID=b("PhotosUploadID").getNewID()),d.$6({uploadID:a.uploadID,fileName:a.name,isSpherical:!1,fileURL:h.createObjectURL?h.createObjectURL(a):null})})}this.$7();f=new(b("FileInputUploader"))(a).setURI(this.$1).setData(c).setAllowCrossOrigin(!0).setNetworkErrorRetryLimit(this.$3).setUploadInParallel(!0);e&&e.length>0&&(f.setFiles({farr:e}),this.$5?f.setPreprocessHandler(this.$22.bind(this)):f.setPreprocessHandler(this.$23.bind(this)),this.$4&&f.setConcurrentLimit(this.$4));f.subscribe("progress",function(b,c){return d.$17(d.$24(c,a),c)});f.subscribe("failure",function(b,c){return d.$19(d.$24(c,a),c,e)});f.subscribe("start",function(b,c){return d.$16(d.$24(c,a),c)});f.subscribe("success",function(b,c){return d.$18(d.$24(c,a),c)});try{f.send(),this.$15(a)}catch(a){throw a}};c.uploadFiles=function(a){var c=this;a=Array.from(a);var d=[];a.forEach(function(a){var e=b("PhotosUploadID").getNewID();a.uploadID||(a.uploadID=e);c.$6({fileName:a.name,fileURL:h.createObjectURL?h.createObjectURL(a):null,isSpherical:!1,uploadID:e});d.push(e)});a=this.getAsyncFileUploadRequest(a,d);a.send()};c.getAsyncFileUploadRequest=function(a,b,c){var d=this;c=this.$25(a,c);c.subscribe("start",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$16(c,{upload:e})});c.subscribe("progress",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$17(c,{upload:e,event:e.getProgressEvent()})});c.subscribe("success",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);d.$18(c,{upload:e,response:e.getResponse()})});c.subscribe("failure",function(c,e){c=(c=d.$24({upload:e},{}))!=null?c:d.$26(a,b,e);return d.$19(c,{upload:e,response:e.getResponse()},a)});return c};c.getAsyncUploadRequest=function(a,b){var c=this;b=this.$25(a,b);b.subscribe("start",function(a,b){return c.$16(b.getFile().uploadID,{upload:b})});b.subscribe("progress",function(a,b){return c.$17(b.getFile().uploadID,{upload:b,event:b.getProgressEvent()})});b.subscribe("success",function(a,b){return c.$18(b.getFile().uploadID,{upload:b,response:b.getResponse()})});b.subscribe("failure",function(b,d){return c.$19(d.getFile().uploadID,{upload:d,response:d.getResponse()},a)});return b};c.$25=function(a,c){c=new(b("AsyncUploadRequest"))().setData(Object.assign({},c&&c.data,this.$2)).setFiles({farr:a}).setAllowCrossOrigin(!0).setURI(this.$1);this.$4&&c.setLimit(this.$4);this.$5&&c.setPreprocessHandler(this.$22.bind(this));for(var d in this.$20)c.setOption(d,this.$20[d]);return c};c.$26=function(a,b,c){c=c.getFile();a=a.indexOf(c);return b[a]};c.$24=function(a,b){if(a.upload)return a.upload.getFile().uploadID;else return b.uploadID};c.$23=function(a,c){var d=this;b("promiseDone")(function(){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d.$27(a,c));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},null,this)}())};c.$27=function(a,c){var d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:d=a.getFile();f.next=3;return b("regeneratorRuntime").awrap(this.$28(d));case 3:e=f.sent,e&&e.isSpherical()?this.$14(d,e.isSpherical(),e.getProjectionType()):this.$14(d,!1,""),c(a);case 6:case"end":return f.stop()}},null,this)};c.$22=function(a,c){var d=this;b("promiseDone")(function(){return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d.$29(a,c));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},null,this)}())};c.$28=function(a){var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=(g||(g=b("performanceNow")))();e.prev=1;e.next=4;return b("regeneratorRuntime").awrap(b("SphericalImage").createFromBlob(a));case 4:d=e.sent;this.$13(a,(g||(g=b("performanceNow")))()-c,d);return e.abrupt("return",d);case 9:e.prev=9;e.t0=e["catch"](1);this.$12(a,(g||(g=b("performanceNow")))()-c);return e.abrupt("return",null);case 14:case"end":return e.stop()}},null,this,[[1,9]])};c.$30=function(a){return this.$31(this.$5.resizeBlob.bind(this.$5),a)};c.$32=function(a,c){c===void 0&&(c=b("SphericalPhotoTypedConfig").upload_size_limit);return this.$31(this.$5.resize360Blob.bind(this.$5),a,c)};c.$33=function(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){b({width:d.width,height:d.height})};d.onerror=function(a){c(a)};d.src=h.createObjectURL(a)})};c.$31=function(a,c,d){var e=this,f=b("curry")(this.$11,c.uploadID),g=b("curry")(this.$8,c),h=function(){return e.$33(c).then(g)};return new(b("Promise"))(function(b,e){h(),a(c,function(a,c,d,f,g,h,i){a?e(a):d?b({originalWidth:f,originalHeight:g}):b({blob:c,originalWidth:f,originalHeight:g,outputWidth:h,outputHeight:i})},f,d)})};c.$29=function(a,c){var d,e,f,h,i,j,k,l,m,n,o,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:d=a.getFile();if(!(!d||!b("PhotosMimeType").isJpeg(d.type))){q.next=6;break}this.$14(d,!1,"");d&&b("promiseDone")(this.$33(d).then(function(b){a.getAdditionalData().set("js_resized",!1).set("original_file_size",d.size).set("original_width",b==null?void 0:b.width).set("original_height",b==null?void 0:b.height).set("upload_width",b==null?void 0:b.width).set("upload_height",b==null?void 0:b.height)},b("emptyFunction")));c(a);return q.abrupt("return");case 6:e=(g||(g=b("performanceNow")))();q.prev=7;i=null;q.next=11;return b("regeneratorRuntime").awrap(this.$28(d));case 11:i=q.sent;if(!(i&&i.isSpherical())){q.next=32;break}this.$14(d,!0,i.getProjectionType());j=i.getSize();k=b("SphericalPhotoTypedConfig").upload_size_limit;l=i.getProjectionType();m=!1;m=b("SphericalPhotoUploadHelper").shouldRecompress360(l,i.getBufferLength(),b("SphericalPhotoTypedConfig").upload_bytes_limit);n=b("SphericalPhotoUploadHelper").shouldResize360(l,j,k);if(!(j&&(n||m))){q.next=30;break}if(n){q.next=27;break}q.next=24;return b("regeneratorRuntime").awrap(this.$32(d,Math.max(j.x,j.y)-1));case 24:f=q.sent;q.next=30;break;case 27:q.next=29;return b("regeneratorRuntime").awrap(this.$32(d));case 29:f=q.sent;case 30:q.next=36;break;case 32:this.$14(d,!1,"");q.next=35;return b("regeneratorRuntime").awrap(this.$30(d));case 35:f=q.sent;case 36:f&&(f.blob!=null&&(h=f.blob,h.uploadID=d.uploadID,h.name=d.name,a.setFile(h)),a.getAdditionalData().set("js_resized",!0).set("original_file_size",d.size).set("original_width",f.originalWidth).set("original_height",f.originalHeight).set("upload_width",f.outputWidth).set("upload_height",f.outputHeight));o=h===null;a.getFile().filename=d.name;this.$9(d,h||d,o,(g||(g=b("performanceNow")))()-e,a.getAdditionalData().get("original_width"),a.getAdditionalData().get("original_height"),a.getAdditionalData().get("upload_width"),a.getAdditionalData().get("upload_height"));q.next=47;break;case 42:q.prev=42,q.t0=q["catch"](7),p=(g||(g=b("performanceNow")))()-e,this.$10(d,h||d,q.t0,p);case 47:c(a);case 48:case"end":return q.stop()}},null,this,[[7,42]])};c.$21=function(a){return!!a.files&&b("AsyncUploadRequest").isSupported()};return a}();e.exports=c}),null);
__d("WebWorker",["invariant","requireCond","BlobFactory","Bootloader","EventListener","SubscriptionsHandler","URI","WebWorkerConfig","XHRRequest","areSameOrigin","cr:951783","emptyFunction","filterObject","getCrossOriginTransport","gkx","memoize","performanceNow","recoverableViolation"],(function(a,b,c,d,e,f,g){var h,i,j=a.URL||a.webkitURL,k={remove:b("emptyFunction")},l=function(){"use strict";function c(a){var c=this;this.$2=!1;this.$3=null;this.$4=a;this.__worker=null;this.$5=b("emptyFunction");this.$6=b("emptyFunction");this.$7=[];this.$8=[];this.$9=!1;this.$10=new(b("SubscriptionsHandler"))();this.$1=b("cr:951783")!==null?b("cr:951783")(function(){c.$9||c.terminate()}):k;b("gkx")("708253")&&setTimeout(function(){!c.$9&&!c.isCurrentState("terminated")&&b("recoverableViolation")("WebWorker (resource: "+a.name+") allowCrossPageTransitions must be true on Comet, or you must handle cleaning up your worker.","comet_infra")},1e3);this.$11("constructed")}var d=c.prototype;d.setMessageHandler=function(a){this.$5=a||b("emptyFunction");return this};d.setErrorHandler=function(a){this.$6=a||b("emptyFunction");return this};d.postMessage=function(a,b){this.isCurrentState("constructed")&&g(0,5977);this.isCurrentState("terminated")&&g(0,5978);if(this.isCurrentState("preparing")){this.$7.push(this.postMessage.bind(this,a,b));return this}a={type:"message",message:a};b?this.getInterfaceableWorker().postMessage(a,b):this.getInterfaceableWorker().postMessage(a);return this};d.$12=function(){this.isCurrentState("terminated")||(this.$11("terminated"),this.__worker=null,this.$13(),this.$7=[],this.$8=[],this.$1&&this.$1.remove&&this.$1.remove())};d.terminate=function(){this.isCurrentState("executing")&&this.__worker!=null&&this.__worker.terminate();this.$12();return this};d.execute=function(){this.isCurrentState("terminated")&&g(0,5979);if(["preparing","executing"].some(this.isCurrentState,this))return this;this.$11("preparing");c.prepareResource(this.$4,this.$14.bind(this));return this};d.setAllowCrossPageTransition=function(a){b("gkx")("708253")&&!a&&b("recoverableViolation")("allowAcrossPageTransitions must be true because we dont kill these in Comet.","comet_infra");this.$9=a;return this};d.isCurrentState=function(a){c.states.includes(a)||g(0,5980,a);return a===this.$3};d.$14=function(){this.isCurrentState("executing")&&g(0,5981);if(this.isCurrentState("terminated"))return;this.$4.sameOriginURL||this.$4.source||g(0,19837,this.$4.name);this.$4.sameOriginURL?this.__worker=this.constructWorker(this.$4.sameOriginURL):(this.__worker=this.constructWorker(c.evalWorkerURL),this.getInterfaceableWorker().postMessage(this.$4.source));this.$15("ping",Date.now());if(this.$4.dynamicModules)try{this.$15("defineModules",this.$4.dynamicModules)}catch(a){this.terminate();this.$16("define_error",{message:a.message});throw a}this.$17();this.$11("executing");this.$7.forEach(function(a){return a()});this.$7=[];this.$8.forEach(function(a){return a()});this.$8=[]};d.$13=function(){this.$10.release()};d.$15=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.getInterfaceableWorker().postMessage({type:a,args:c})};d.$16=function(a,b){c.$16(a,this.$4.name,babelHelpers["extends"]({},b,{cross_page_transition:!!this.$9,state:this.$3}))};c.$18=function(){return Object.keys(b("filterObject")({object_url:c.$19(),eval_url:q(),data_url:c.$20(),worker:c.isSupported(),transferables:c.areTransferablesSupported()},function(a){return!!a}))};d.$17=function(){this.$10.addSubscriptions(b("EventListener").listen(this.getInterfaceableWorker(),"message",this.$21.bind(this)),b("EventListener").listen(this.getInterfaceableWorker(),"error",this.$22.bind(this)))};d.$22=function(a){var b=this.$6(a);!b&&!a.defaultPrevented&&this.$16("exception",{message:a.message})};d.$21=function(b){b=b.data;switch(b.type){case"message":this.$5(b.message);break;case"pong":this.$2=!0;this.$16("executed",{dt:Math.floor(b.args[1]-b.args[0]),bytes:this.$4.source?this.$4.source.length:-1});break;case"terminate":this.terminate();break;case"haste-error":this.terminate();this.$16("haste_error",{message:b.message});break;case"console":var c=b.args.shift();["log","error","info","debug","warn"].includes(c)||g(0,5983,c);a.console[c].apply(a.console,b.args);break}};d.$11=function(a){c.states.includes(a)||g(0,5984,a),this.$16("transition",{next_state:a}),this.$3=a};c.prepareResource=function(d,e){e===void 0&&(e=b("emptyFunction"));d.sameOriginURL||d.url||d.source||g(0,5985);!c.isSupported()&&g(0,5986);if(d.sameOriginURL)e();else if(d.url&&b("areSameOrigin")(new(h||(h=b("URI")))(d.url),new(h||(h=b("URI")))(a.location.href)))d.sameOriginURL=d.url,e();else if(d.source)c.$23()&&(d.sameOriginURL=c.$24(d.source)),e();else if(!d.loading){var f=(i||(i=b("performanceNow")))();d.loading=[e];c.$25(d.url,function(a){a?(d.source=a,c.$23()&&(d.sameOriginURL=c.$24(a)),c.$16("prepared",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:a.length})):c.$16("failed",d.name,{dt:Math.floor((i||(i=b("performanceNow")))()-f),bytes:0}),d.loading.forEach(function(a){return a()}),d.loading=!1})}else d.loading.push(e);return d};c.releaseResource=function(a){a.sameOriginURL.indexOf("blob:")===0&&(j.revokeObjectURL&&j.revokeObjectURL(a.sameOriginURL),a.sameOriginURL=null);return a};c.isSupported=function(){return p&&(c.$23()||q())};c.isMessageChannelSupported=function(){return c.areTransferablesSupported()&&!!a.MessageChannel};c.areTransferablesSupported=function(){return c.isSupported()&&r()};c.$25=function(a,c){new(b("XHRRequest"))(a).setTransportBuilder(b("getCrossOriginTransport")).setMethod("GET").setResponseHandler(function(a){c(a)}).setErrorHandler(c.bind(null,null)).send()};c.$24=function(a){c.$23()||g(0,5987);if(c.$19()){var d=b("BlobFactory").getBlob([a],{type:"application/javascript"});return j.createObjectURL(d)}if(c.$20())return"data:application/javascript,"+encodeURIComponent(a)};c.$19=function(){return b("BlobFactory").isSupported()&&n()};c.$20=function(){return o()};c.$23=function(){return c.$19()||c.$20()};c.$16=function(a,d,e){if(!b("WebWorkerConfig").logging.enabled)return;b("Bootloader").loadModules(["BanzaiLogger"],function(f){f.log(b("WebWorkerConfig").logging.config,babelHelpers["extends"]({},e,{features_array:c.$18(),event:a,resource:d}))},"WebWorker")};d.constructWorker=function(a){return m(a)};d.$26=function(a,b){if(this.isCurrentState("preparing")){this.$8.push(this.$26.bind(this,a,b));return}this.getInterfaceableWorker().postMessage({type:"port",message:a},b)};d.createMessageChannel=function(a,b){var c=new MessageChannel();this.$26(a,[c.port2].concat(b||[]));c.port1.start();return c.port1};d.getInterfaceableWorker=function(){return this.__worker};return c}();l.states=["constructed","preparing","executing","terminated"];l.evalWorkerURL=b("WebWorkerConfig").evalWorkerURL;function m(b){return new a.Worker(b)}var n=b("memoize")(function(){var a;if(!j||!j.createObjectURL)return!1;try{a=j.createObjectURL(b("BlobFactory").getBlob([""],{type:"application/javascript"}));var c=m(a);c.terminate();c=!0}catch(a){c=!1}finally{j.revokeObjectURL&&j.revokeObjectURL(a)}return c}),o=b("memoize")(function(){try{var a=m("data:application/javascript,");a.terminate();a=!0}catch(b){a=!1}return a}),p=!!a.Worker,q=b("memoize")(function(){try{var a=m(l.evalWorkerURL);a.terminate();a=!0}catch(b){a=!1}return a}),r=b("memoize")(function(){try{var a=m(l.evalWorkerURL),b=new ArrayBuffer(0);a.postMessage({buffer:b},[b]);a.terminate();b=!0}catch(a){b=!1}return b});e.exports=l}),null);